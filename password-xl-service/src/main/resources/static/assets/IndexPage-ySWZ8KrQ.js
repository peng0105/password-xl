const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ExportExcel-CDrqyMme.js","./index-DDbEbXNX.js","./@vue-PmY8Mkr0.js","./element-plus-C8kBqzPU.js","./vendor-BvEI7uIN.js","./ali-oss-CN0NZiD5.js","./@element-plus-CuK1irWX.js","./element-plus-DtJdknO8.css","./cos-js-sdk-v5-WX9VGj_f.js","./index-DTA_oh_4.css","./exceljs-B9bSeXl2.js","./ImportExcel-BtQnwGPW.js","./ImportExcel-DbM67cRW.css"])))=>i.map(i=>d[i]);
import{u as Q,a as ne,d as Y,c as kt,P as je,e as Ct,i as St,_ as q,b as ie,S as j,f as ee,T as ue,g as Vt,h,j as Ye,k as ye,s as Re,l as Ee,m as $t,n as At,M as Fe,o as Pt,p as ve,q as Ft,r as Ze,t as De,v as Dt,w as Rt,x as Et,y as Tt,z as Te,A as nt,B as ot,C as st,D as at,E as rt,F as et,G as tt}from"./index-DDbEbXNX.js";import{d as me,k as Le,l as Ue,c as oe,e as de,b as Z,E as se,f as ce,v as Mt,m as It,n as Lt,i as ge,o as Ce,p as Se,q as Ut,r as Bt,s as zt,t as Nt,u as Ve,w as _e,g as Be,x as Je,h as We,y as it,A as dt,B as ze,C as Ot,D as Kt,F as Ht,G as ut,H as pt,a as ke,I as Xe,J as qe,K as he,L as Qe,M as Gt,N as ft,O as we,P as be,Q as jt,R as Yt,S as mt}from"./element-plus-C8kBqzPU.js";import{d as J,r as z,n as E,v as l,c as k,z as S,x as ct,u as t,D as e,j as ae,B as r,C as K,M as gt,o as p,H as $e,R as yt,S as Me,a as s,F as X,ax as Jt,a1 as fe,I as W,a3 as Wt,a0 as Xt,P as vt,aa as Ie,y as _t,Q as le,E as qt,ay as lt}from"./@vue-PmY8Mkr0.js";import{_ as ht,a as Qt,b as Zt,c as el}from"./local-DhpgDmJL.js";import{a0 as tl,X as ll}from"./vendor-BvEI7uIN.js";import{_ as nl}from"./logo-B_J9w6Yt.js";import"./cos-js-sdk-v5-WX9VGj_f.js";import"./ali-oss-CN0NZiD5.js";import"./@element-plus-CuK1irWX.js";const ol={key:0},sl={key:1,"element-loading-text":"正在解析...",style:{height:"55vh"}},al={key:2},rl=J({__name:"AiImport",setup(H,{expose:f}){const o=z(),a=z(!1),u=z(1),i=Q(),b=ne(),y=z(""),c=z([]),_=()=>{if(!o.value.getSelectionRows().length){Z.warning("请选择要导入的密码");return}b.verifyPasswordRef.getAndVerify(m=>i.passwordManager.verifyPassword(m)).then(()=>{F()})},F=()=>{try{i.loading("正在导入...");const m=o.value.getSelectionRows().map(d=>d.id),n=c.value.filter(d=>m.includes(d.id));V(i.allPasswordArray,n),i.passwordManager.syncStoreData(),a.value=!1,c.value=[],i.unloading(),se.success("导入成功")}catch{i.unloading(),se.error("导入失败")}},V=(D,m)=>{m.forEach(n=>{const d=D.find(w=>kt(w,n));d?d.status=je.NORMAL:D.push(n)})},A=()=>{if(!y.value){Z.warning("请输入密码信息");return}c.value=[],u.value=2,Ct(y.value,!0).then(D=>{u.value=3;const m=JSON.parse(D);for(let n=0;n<m.length;n++)c.value.push({id:St(),title:m[n].name,address:m[n].address,username:m[n].username,password:m[n].password,remark:m[n].remark,addTime:Date.now(),updateTime:Date.now(),deleteTime:0,favoriteTime:0,favorite:!1,customFields:[],labels:[],status:je.NORMAL,bgColor:""});gt(()=>{o.value.toggleAllSelection()})}).catch(D=>{u.value=1,i.unloading(),se.error(D)})},T=()=>!y.value,O=()=>o.value?!o.value.getSelectionRows().length:!0;return f({batchImport:()=>{u.value=1,a.value=!0}}),(D,m)=>{const n=me,d=Ue,w=oe,x=Le,g=de,I=ce,$=Mt;return p(),E(I,{modelValue:t(a),"onUpdate:modelValue":m[1]||(m[1]=v=>ae(a)?a.value=v:null),title:"AI批量导入",top:"10vh",width:["xs","sm","md"].includes(t(Y)().value)?"95%":"70%"},{footer:l(()=>[t(u)===1?(p(),E(g,{key:0,disabled:T(),type:"primary",onClick:A},{default:l(()=>[...m[2]||(m[2]=[r("开始解析",-1)])]),_:1},8,["disabled"])):S("",!0),t(u)===3?(p(),E(g,{key:1,disabled:O(),type:"primary",onClick:_},{default:l(()=>[...m[3]||(m[3]=[r("确认导入",-1)])]),_:1},8,["disabled"])):S("",!0)]),default:l(()=>[t(u)===1?(p(),k("div",ol,[e(n,{type:"textarea",class:"password-text-input",modelValue:t(y),"onUpdate:modelValue":m[0]||(m[0]=v=>ae(y)?y.value=v:null),placeholder:`请粘贴密码内容，例如：\r
      阿里云ECS 10.12.3.45 root/P@x92Q5m#jjL\r
      2026年临时用的`},null,8,["modelValue"])])):S("",!0),t(u)===2?ct((p(),k("div",sl,null,512)),[[$,!0]]):S("",!0),t(u)===3?(p(),k("div",al,[e(x,{ref_key:"passwordTableRef",ref:o,data:t(c),height:"55vh"},{default:l(()=>[e(d,{type:"selection",width:"55"}),e(d,{label:"名称","min-width":"100px",prop:"title"}),e(d,{label:"地址","min-width":"150px",prop:"address"}),e(d,{label:"用户名","min-width":"100px",prop:"username"}),e(d,{label:"密码",prop:"password",width:"180px"},{default:l(v=>[e(w,{"line-clamp":"3",truncated:""},{default:l(()=>[r(K(v.row.password),1)]),_:2},1024)]),_:1}),e(d,{label:"备注","min-width":"100px",prop:"remark"})]),_:1},8,["data"])])):S("",!0)]),_:1},8,["modelValue","width"])}}}),il=q(rl,[["__scopeId","data-v-a2b8a879"]]),dl=J({__name:"ShortcutKey",setup(H){const f=Q(),o=ne(),a=ie(),u=y=>{a.setting.enableShortcutKey&&(y.ctrlKey&&y.key.toUpperCase()==="F"?(y.preventDefault(),o.searchInputRef?.focus()):y.altKey&&y.key.toUpperCase()==="N"?(y.preventDefault(),o.passwordFormRef.addPasswordForm()):y.altKey&&y.key.toUpperCase()==="L"?(y.preventDefault(),f.serviceStatus===j.LOGGED?o.verifyPasswordRef.verifyAndUnlock():f.passwordManager.lock()):y.altKey&&y.key.toUpperCase()==="V"?(y.preventDefault(),a.setting.passwordDisplayMode===ee.CARD?i(ee.TABLE):i(ee.CARD)):y.altKey&&y.key.toUpperCase()==="T"?(y.preventDefault(),f.isDark?b(ue.LIGHT):b(ue.DARK)):y.key.toUpperCase()==="/"&&!Vt(y.target)&&!f.passwordFormDrawerVis&&!a.visSetting&&!f.recycleBinDialogVis&&(y.preventDefault(),o.searchInputRef?.focus()))},i=y=>{a.setting.passwordDisplayMode=y,f.passwordManager.syncSetting()},b=y=>{f.setTopicMode(y)};return $e(()=>{document.addEventListener("keydown",u)}),yt(()=>{document.removeEventListener("keydown",u)}),(y,c)=>null}}),ul=J({__name:"ShowPassword",setup(H,{expose:f}){const o=Me({alertVisible:!1,content:"",title:""});return f({showPassword:u=>{o.content=u.password,o.title=u.title,o.alertVisible=!0}}),(u,i)=>{const b=oe,y=me,c=de,_=ce;return p(),E(_,{modelValue:t(o).alertVisible,"onUpdate:modelValue":i[2]||(i[2]=F=>t(o).alertVisible=F),width:["xs","sm"].includes(t(Y)().value)?"95%":"40%","append-to-body":""},{header:l(()=>[e(b,{size:"large",style:{"user-select":"none"}},{default:l(()=>[i[3]||(i[3]=s("span",{class:"iconfont icon-show-password"},null,-1)),r(" "+K(t(o).title),1)]),_:1})]),footer:l(()=>[e(b,{class:"password-length-tip",type:"info"},{default:l(()=>[...i[4]||(i[4]=[s("span",{class:"iconfont icon-info"},null,-1),r(" 密码长度大于40会以弹框形式展示密码 ",-1)])]),_:1}),e(c,{plain:"",type:"success",onClick:i[1]||(i[1]=F=>{t(h)(t(o).content),t(o).alertVisible=!1})},{default:l(()=>[...i[5]||(i[5]=[r(" 一键复制 ",-1)])]),_:1})]),default:l(()=>[e(y,{modelValue:t(o).content,"onUpdate:modelValue":i[0]||(i[0]=F=>t(o).content=F),rows:10,readonly:"",type:"textarea"},null,8,["modelValue"])]),_:1},8,["modelValue","width"])}}}),pl=q(ul,[["__scopeId","data-v-f516dc24"]]),fl=J({__name:"NoviceGuide",setup(H,{expose:f}){const o=ne(),a=ie(),u=z(!1),i=z(!1),b=z(!1),y=()=>{u.value=!0},c=()=>{o.passwordFormRef.addPasswordForm("示例密码"),setTimeout(()=>{i.value=!0,o.passwordFormFormRef.clearValidate(),setTimeout(()=>{o.passwordFormTitleRef.focus()},100)},350)},_=()=>{o.passwordFormRef.closePasswordForm(),setTimeout(()=>{b.value=!0},350)};return f({startTour:y}),(F,V)=>{const A=oe,T=Lt,O=It;return p(),k(X,null,[e(O,{modelValue:t(u),"onUpdate:modelValue":V[0]||(V[0]=N=>ae(u)?u.value=N:null)},{indicators:l(()=>[...V[4]||(V[4]=[])]),default:l(()=>[e(T,{"next-button-props":{onClick:c,children:"下一步"},target:t(o).createPasswordBtnRef?.$el,title:"欢迎使用 password-XL"},{default:l(()=>[e(A,null,{default:l(()=>[...V[3]||(V[3]=[r("您可以点击这里创建密码",-1)])]),_:1})]),_:1},8,["next-button-props","target"])]),_:1},8,["modelValue"]),e(O,{modelValue:t(i),"onUpdate:modelValue":V[1]||(V[1]=N=>ae(i)?i.value=N:null),"target-area-clickable":!1,"z-index":9e3},{indicators:l(({current:N,total:D})=>[e(A,null,{default:l(()=>[r(K(N+1)+" / "+K(D),1)]),_:2},1024)]),default:l(()=>[e(T,{"next-button-props":{children:"下一步"},target:t(o).passwordFormTitleRef?.$el,title:"密码名称"},{default:l(()=>[e(A,null,{default:l(()=>[...V[5]||(V[5]=[r("在这里输入密码名称",-1)])]),_:1})]),_:1},8,["target"]),e(T,{"next-button-props":{children:"下一步"},target:t(o).passwordFormGenerateBtnRef?.$el,title:"随机密码"},{default:l(()=>[e(A,null,{default:l(()=>[...V[6]||(V[6]=[r("点击这里可以随机生成密码，当然您也可以在输入框直接粘贴您已有的密码",-1)])]),_:1})]),_:1},8,["target"]),e(T,{"next-button-props":{children:"下一步"},target:t(o).passwordFormGenerateRuleRef?.$el,title:"控制生成规则"},{default:l(()=>[e(A,null,{default:l(()=>[...V[7]||(V[7]=[r("拖动这里控制随机密码的长度",-1)])]),_:1})]),_:1},8,["target"]),e(T,{"next-button-props":{children:"好的",onClick:_},target:t(o).passwordFormSaveBtnRef?.$el,title:"保存"},{default:l(()=>[e(A,null,{default:l(()=>[...V[8]||(V[8]=[r("最后，点击这里即可保存密码",-1)])]),_:1})]),_:1},8,["next-button-props","target"])]),_:1},8,["modelValue"]),e(O,{modelValue:t(b),"onUpdate:modelValue":V[2]||(V[2]=N=>ae(b)?b.value=N:null),"z-index":9e3},{indicators:l(()=>[...V[11]||(V[11]=[])]),default:l(()=>[t(a).setting.passwordDisplayMode===t(ee).TABLE?(p(),E(T,{key:0,"next-button-props":{children:"好的"},target:t(o).displayModeCardRef?.$el,title:"密码视图"},{default:l(()=>[e(A,null,{default:l(()=>[...V[9]||(V[9]=[r("点击这里可以切换卡片视图",-1)])]),_:1})]),_:1},8,["target"])):S("",!0),t(a).setting.passwordDisplayMode===t(ee).CARD?(p(),E(T,{key:1,"next-button-props":{children:"好的"},target:t(o).displayModeTableRef?.$el,title:"密码视图"},{default:l(()=>[e(A,null,{default:l(()=>[...V[10]||(V[10]=[r("点击这里可以切换表格视图",-1)])]),_:1})]),_:1},8,["target"])):S("",!0)]),_:1},8,["modelValue"])],64)}}}),ml={};function cl(H,f){return f[0]||(f[0]=Jt('<h2>版权声明（Copyright Notice）</h2><p>版权所有 © [2024] [黄艳鹏]</p><p>本开源项目由 [黄艳鹏] 开发，现以MPL-2.0许可协议发布。</p><h3>许可协议（License）</h3><p style="text-indent:20px;">本项目的源代码可以在MPL-2.0许可协议下使用。主要条款如下：</p><ol><li>个人或组织可以免费使用、复制和修改本项目的源代码。</li><li>禁止将本项目的源代码或修改后的代码用于任何形式的商业用途，包括但不限于售卖、租赁或其他形式的盈利活动。</li><li>禁止分发本项目的源代码或修改后的代码给第三方。</li></ol><h3>免责声明（Disclaimer）</h3><p style="text-indent:20px;"> 本项目的源代码按“现状”提供，使用者需自行承担使用风险。在任何情况下，原作者或版权持有者对因使用本项目源代码而产生的任何直接、间接、附带、特殊、惩罚性或后果性的损害不承担责任。</p>',8))}const gl=q(ml,[["render",cl]]),yl=""+new URL("donate-BWYZILYa.png",import.meta.url).href,vl="password-xl",_l="1.3.11",wl="module",bl="electron/main.mjs",xl={name:"黄艳鹏",email:"hyp0105@qq.com"},kl=[{name:"黄艳鹏",email:"hyp0105@qq.com",weChat:"huangyanpeng1864"}],Cl="开源免费的密码管理项目",Sl="https://password-xl.cn",Vl={type:"git",url:"https://github.com/peng0105/password-xl"},$l={start:"vite",preview:"vue-tsc -b && vite build && vite preview",build:"vue-tsc -b && vite build","dist-to-windows":"vue-tsc -b && vite build && electron-builder build --win --config electron/electron-builder.json5","dist-to-mac":"vue-tsc -b && vite build && electron-builder build --mac --config electron/electron-builder.json5","dist-to-linux":"vue-tsc -b && vite build && electron-builder build --linux --config electron/electron-builder.json5","start-exe":"electron ."},Al={aieditor:"^1.4.0","ali-oss":"^6.23.0",axios:"^1.13.2",buffer:"^6.0.3","cos-js-sdk-v5":"^1.10.1","crypto-js":"^4.2.0","element-plus":"^2.13.0",exceljs:"^4.4.0","file-saver":"^2.0.5","node-forge":"^1.3.3",pinia:"^3.0.4",vue:"^3.5.26","vue-router":"^4.6.4"},Pl={"@types/ali-oss":"^6.16.13","@types/crypto-js":"^4.2.2","@types/file-saver":"^2.0.7","@types/node":"^25.0.3","@vitejs/plugin-legacy":"^7.2.1","@vitejs/plugin-vue":"^6.0.3",electron:"^39.2.7","electron-builder":"^26.0.12",terser:"^5.44.1",typescript:"^5.9.3","unplugin-auto-import":"^20.3.0","unplugin-icons":"^22.5.0","unplugin-vue-components":"^30.0.0",vite:"^7.3.0","vue-tsc":"^3.2.2"},te={name:vl,private:!0,version:_l,type:wl,main:bl,author:xl,contributors:kl,description:Cl,homepage:Sl,repository:Vl,scripts:$l,dependencies:Al,devDependencies:Pl},Fl={class:"support-ul"},Dl={style:{float:"left"}},Rl={style:{float:"left",width:"calc(100% - 40px)","padding-left":"5px"}},El=J({__name:"SupportMe",setup(H){const f=[{name:"Seeking dream",money:10,time:"2024-10-11"},{name:"Ching",money:10,time:"2024-07-13"},{name:"李春雨",money:5,time:"2024-07-12"},{name:"张博文",money:50,time:"2024-07-12"}];return(o,a)=>{const u=oe,i=ge,b=Se,y=Ue,c=Le,_=Ce;return p(),k(X,null,[a[19]||(a[19]=s("h2",{style:{"margin-top":"0"}},"支持我们",-1)),e(u,{size:"large",style:{"text-indent":"20px"},tag:"p"},{default:l(()=>[...a[0]||(a[0]=[r(" 为了帮助您更安全、便捷地管理密码，我们打造了一个开源免费的密码管理工具。在开发和维护过程中，我们面临着诸多困难和挑战。您的支持对项目的发展至关重要，您可以通过以下方式支持此项目： ",-1)])]),_:1}),s("ul",Fl,[s("li",null,[e(u,{size:"large"},{default:l(()=>[a[2]||(a[2]=s("span",{class:"iconfont icon-praise support-icon",style:{color:"#E6A23C"}},null,-1)),a[3]||(a[3]=r(" 在项目 ",-1)),e(i,{href:t(te).repository.url,underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[1]||(a[1]=[r("开源地址 ",-1)])]),_:1},8,["href"]),a[4]||(a[4]=r(" 中为项目点赞，增加项目的曝光度。 ",-1))]),_:1})]),s("li",null,[e(u,{size:"large"},{default:l(()=>[a[6]||(a[6]=s("span",{class:"iconfont icon-report support-icon",style:{color:"#F56C6C"}},null,-1)),a[7]||(a[7]=r(" 在Github上 ",-1)),e(i,{href:t(te).repository.url+"/issues",underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[5]||(a[5]=[r("报告您遇到的错误 ",-1)])]),_:1},8,["href"]),a[8]||(a[8]=r(" ，帮助我们持续改进。 ",-1))]),_:1})]),s("li",null,[e(u,{size:"large"},{default:l(()=>[a[10]||(a[10]=s("span",{class:"iconfont icon-idea support-icon",style:{color:"#67C23A"}},null,-1)),a[11]||(a[11]=r(" 提出您的 ",-1)),e(i,{href:t(te).repository.url+"/issues",underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[9]||(a[9]=[r("建议和想法 ",-1)])]),_:1},8,["href"]),a[12]||(a[12]=r(" ，帮助我们更好地满足用户需求。 ",-1))]),_:1})]),s("li",null,[e(u,{size:"large"},{default:l(()=>[...a[13]||(a[13]=[s("span",{class:"iconfont icon-company support-icon",style:{color:"#E6A23C"}},null,-1),r(" 将此工具分享给您的朋友和家人，让更多人受益。 ",-1)])]),_:1})]),s("li",null,[s("div",Dl,[e(u,{size:"large"},{default:l(()=>[...a[14]||(a[14]=[s("span",{class:"iconfont icon-money support-icon",style:{color:"#F56C6C"}},null,-1)])]),_:1})]),s("div",Rl,[e(u,{size:"large"},{default:l(()=>[...a[15]||(a[15]=[r(" 如果您认可我们的努力，请考虑给予一些经济上的支持，以帮助我们为您提供更加优质的密码管理体验。 ",-1)])]),_:1})]),a[16]||(a[16]=s("div",{style:{clear:"both"}},null,-1))])]),e(_,null,{default:l(()=>[e(b,{md:{span:9},sm:{span:24},xs:{span:24},style:{"text-align":"center"}},{default:l(()=>[...a[17]||(a[17]=[s("div",{style:{"text-align":"center"}},[s("h3",{style:{"margin-top":"4px"}},"微信赞赏码"),s("div",{style:{padding:"5px 20px","text-align":"center"}},[s("img",{alt:"",src:yl,style:{width:"80%","max-width":"300px","border-radius":"50%"}})])],-1)])]),_:1}),e(b,{md:{span:15},sm:{span:24},xs:{span:24},style:{"text-align":"center","padding-right":"10px"}},{default:l(()=>[a[18]||(a[18]=s("h3",{style:{"margin-top":"4px"}},"捐赠者列表",-1)),e(c,{data:f,border:"",stripe:""},{default:l(()=>[e(y,{label:"名称",prop:"name"}),e(y,{label:"时间","min-width":"60px",prop:"time"}),e(y,{label:"金额","min-width":"40px",prop:"money"})]),_:1})]),_:1})]),_:1})],64)}}}),Tl=q(El,[["__scopeId","data-v-871290c0"]]),Ml={style:{padding:"10px"}},Il={style:{"padding-left":"25px","line-height":"26px"}},Ll=J({__name:"About",setup(H){const f=z(["密码支持自定义信息","导出、导入Excel","支持Windows、Android客户端","支持停用动态壁纸"]);return(o,a)=>{const u=Bt,i=ge,b=Ut;return p(),k(X,null,[a[0]||(a[0]=s("div",null,[s("h2",{style:{"margin-top":"0"}},"关于项目")],-1)),s("div",Ml,[e(b,{column:1},{default:l(()=>[e(u,{label:"项目名称:"},{default:l(()=>[r(K(t(te).name),1)]),_:1}),e(u,{label:"当前版本:"},{default:l(()=>[r(K(t(te).version),1)]),_:1}),e(u,{label:"官方网站:"},{default:l(()=>[e(i,{href:t(te).homepage,target:"_blank",type:"primary"},{default:l(()=>[r(K(t(te).homepage),1)]),_:1},8,["href"])]),_:1}),e(u,{label:"开源地址:"},{default:l(()=>[e(i,{href:t(te).repository.url,target:"_blank",type:"primary"},{default:l(()=>[r(K(t(te).repository.url),1)]),_:1},8,["href"])]),_:1}),e(u,{label:"作者邮箱:"},{default:l(()=>[r(K(t(te).contributors[0].email),1)]),_:1}),e(u,{label:"作者微信:"},{default:l(()=>[r(K(t(te).contributors[0].weChat),1)]),_:1})]),_:1})]),a[1]||(a[1]=s("div",null,[s("h2",{style:{"margin-top":"0"}},"最近更新")],-1)),s("div",null,[s("ol",Il,[(p(!0),k(X,null,fe(t(f),y=>(p(),k("li",null,K(y),1))),256))])])],64)}}}),Ul={style:{"text-indent":"15px"}},Bl={style:{"text-indent":"15px"}},zl={style:{"text-indent":"15px"}},Nl={style:{"padding-left":"15px"}},Ol={style:{"padding-left":"15px"}},Kl={style:{"padding-left":"15px"}},Hl={style:{"padding-left":"15px"}},Gl=J({__name:"CommonProblem",setup(H){return(f,o)=>{const a=oe,u=Ve,i=Nt,b=ge,y=_e,c=zt;return p(),E(c,null,{default:l(()=>[e(i,{title:"1、主密码忘记了怎么办？"},{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[o[10]||(o[10]=r(" 很抱歉，由于密码安全机制，主密码一旦忘记没有任何办法查看密码数据。如您需要注销账号可以登录密码存储位置删除密码文件",-1)),o[11]||(o[11]=s("br",null,null,-1)),s("div",Ul,[e(a,{tag:"b"},{default:l(()=>[...o[0]||(o[0]=[r("oss：",-1)])]),_:1}),o[1]||(o[1]=r(" 请登录阿里云控制台->对象存储，删除password-xl文件夹 ",-1))]),s("div",Bl,[e(a,{tag:"b"},{default:l(()=>[...o[2]||(o[2]=[r("cos：",-1)])]),_:1}),o[3]||(o[3]=r(" 请登录腾讯云控制台->对象存储，删除password-xl文件夹 ",-1))]),s("div",zl,[e(a,{tag:"b"},{default:l(()=>[...o[4]||(o[4]=[r("私有服务：",-1)])]),_:1}),o[5]||(o[5]=r(" 请到服务端密码数据存储目录删除您的用户名文件夹 ",-1))]),s("div",Nl,[e(a,{tag:"b"},{default:l(()=>[...o[6]||(o[6]=[r("本地存储：",-1)])]),_:1}),o[8]||(o[8]=r(" 请到 C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl目录下删除setting.json和store.json两个文件。",-1)),o[9]||(o[9]=s("br",null,null,-1)),e(a,{size:"small",type:"info"},{default:l(()=>[e(u,{type:"info"},{default:l(()=>[...o[7]||(o[7]=[r(" AppData是系统隐藏目录，可以通过地址栏输入C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl直接进入文件夹 ",-1)])]),_:1})]),_:1})])]),_:1})]),_:1}),e(i,{title:"2、如何私有部署password-XL？"},{default:l(()=>[e(a,null,{default:l(()=>[e(a,{size:"large"},{default:l(()=>[...o[12]||(o[12]=[r("项目分为前端和后端两个服务，您可以根据需要选择部署：",-1)])]),_:1}),o[16]||(o[16]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[13]||(o[13]=[r("仅部署前端服务：",-1)])]),_:1}),o[17]||(o[17]=r(" 可以使用阿里云OSS、腾讯云COS、和本地存储功能",-1)),o[18]||(o[18]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[14]||(o[14]=[r("仅部署后端服务：",-1)])]),_:1}),o[19]||(o[19]=r(" 可以使用官网提供的页面或安装程序将密码文件存储在您的私有服务中",-1)),o[20]||(o[20]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[15]||(o[15]=[r("两个服务都部署：",-1)])]),_:1}),o[21]||(o[21]=r(" 可以使用部署的前端页面将密码文件存储在私有服务中",-1)),o[22]||(o[22]=s("br",null,null,-1))]),_:1}),o[31]||(o[31]=s("br",null,null,-1)),e(a,null,{default:l(()=>[e(a,{size:"large"},{default:l(()=>[...o[23]||(o[23]=[r("部署文档：",-1)])]),_:1}),s("div",Ol,[e(b,{href:t(te).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker",target:"_blank",type:"primary"},{default:l(()=>[...o[24]||(o[24]=[r(" 后端-docker部署 ",-1)])]),_:1},8,["href"]),o[28]||(o[28]=s("br",null,null,-1)),e(b,{href:t(te).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90jar",target:"_blank",type:"primary"},{default:l(()=>[...o[25]||(o[25]=[r(" 后端-jar包部署 ",-1)])]),_:1},8,["href"]),o[29]||(o[29]=s("br",null,null,-1)),e(b,{href:t(te).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker",target:"_blank",type:"primary"},{default:l(()=>[...o[26]||(o[26]=[r(" 前端-docker部署 ",-1)])]),_:1},8,["href"]),o[30]||(o[30]=s("br",null,null,-1)),e(b,{href:t(te).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90nginx",target:"_blank",type:"primary"},{default:l(()=>[...o[27]||(o[27]=[r(" 前端-nginx部署 ",-1)])]),_:1},8,["href"])])]),_:1})]),_:1}),e(i,{title:"3、每次输入主密码很麻烦，可以自动解锁吗？"},{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[...o[32]||(o[32]=[r("      您可以在设置-> 密码安全模块中开启自动解锁功能。 ",-1)])]),_:1})]),_:1}),e(i,{title:"4、忘记登录信息如何找回？"},{default:l(()=>[s("div",Kl,[e(a,null,{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[33]||(o[33]=[r("阿里云OSS：",-1)])]),_:1}),o[38]||(o[38]=r(" 您可以参考 ",-1)),e(b,{href:t(te).repository.url+"/wiki/%E9%98%BF%E9%87%8C%E4%BA%91OSS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...o[34]||(o[34]=[r(" 阿里云OSS注册指引 ",-1)])]),_:1},8,["href"]),o[39]||(o[39]=r(" ，登录阿里云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失",-1)),o[40]||(o[40]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[35]||(o[35]=[r("腾讯云COS：",-1)])]),_:1}),o[41]||(o[41]=r(" 您可以参考 ",-1)),e(b,{href:t(te).repository.url+"/wiki/%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...o[36]||(o[36]=[r(" 腾讯云COS注册指引 ",-1)])]),_:1},8,["href"]),o[42]||(o[42]=r(" ，登录腾讯云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失",-1)),o[43]||(o[43]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[37]||(o[37]=[r("私有服务：",-1)])]),_:1}),o[44]||(o[44]=r(" 您可在服务端项目部署路径下用户配置文件中查看您的登录密码。如果不是您部署项目请联系管理员",-1)),o[45]||(o[45]=s("br",null,null,-1))]),_:1})])]),_:1}),e(i,{title:"5、如何迁移密码数据？"},{default:l(()=>[s("div",Hl,[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[o[47]||(o[47]=r(" 您可以通过 ",-1)),e(y,null,{default:l(()=>[...o[46]||(o[46]=[r("设置->备份恢复",-1)])]),_:1}),o[48]||(o[48]=r(" 菜单下的备份恢复功能迁移密码数据。 ",-1))]),_:1})])]),_:1})]),_:1})}}}),jl={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Yl={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Jl={style:{"text-align":"center","margin-bottom":"15px",width:"100%"}},Wl={style:{"text-align":"center","margin-top":"50px",width:"100%"}},Xl={style:{"margin-top":"25px"}},ql={style:{padding:"0 50px 0 20px"}},hl={style:{"text-align":"center","margin-top":"30px",width:"100%"}},Ql=J({__name:"LoginInfo",setup(H){const f=Ye(),o=()=>!!window.electronAPI,a=()=>!!window.androidAPI;return(u,i)=>{const b=oe,y=Je,c=de,_=me,F=We,V=Be;return p(),E(V,{"label-width":"80px"},{default:l(()=>[t(f).loginType==="oss"?(p(),k(X,{key:0},[s("div",jl,[i[15]||(i[15]=s("img",{alt:"",class:"login-type-image",src:ht,style:{height:"28px"}},null,-1)),e(b,{style:{"font-size":"24px"}},{default:l(()=>[...i[14]||(i[14]=[r("阿里云OSS",-1)])]),_:1})]),e(y),s("div",null,[e(F,{label:"region"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.region,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[0]||(i[0]=A=>t(h)(t(f).loginForm.region))},{default:l(()=>[...i[16]||(i[16]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"accessKeyId"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.accessKeyId,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[1]||(i[1]=A=>t(h)(t(f).loginForm.accessKeyId))},{default:l(()=>[...i[17]||(i[17]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"accessKeySecret"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.accessKeySecret,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[2]||(i[2]=A=>t(h)(t(f).loginForm.accessKeySecret))},{default:l(()=>[...i[18]||(i[18]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"bucket"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.bucket,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[3]||(i[3]=A=>t(h)(t(f).loginForm.bucket))},{default:l(()=>[...i[19]||(i[19]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(p(),E(F,{key:0,label:"快速登录链接"},{default:l(()=>[e(_,{"model-value":t(ye)(t(f).loginForm),readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[4]||(i[4]=A=>t(h)(t(ye)(t(f).loginForm)))},{default:l(()=>[...i[20]||(i[20]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):S("",!0)])],64)):t(f).loginType==="cos"?(p(),k(X,{key:1},[s("div",Yl,[i[22]||(i[22]=s("img",{alt:"",class:"login-type-image",src:Qt,style:{height:"28px"}},null,-1)),e(b,{style:{"font-size":"24px"}},{default:l(()=>[...i[21]||(i[21]=[r("腾讯云COS",-1)])]),_:1})]),e(y),s("div",null,[e(F,{label:"region"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.region,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[5]||(i[5]=A=>t(h)(t(f).loginForm.region))},{default:l(()=>[...i[23]||(i[23]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"secretId"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.secretId,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[6]||(i[6]=A=>t(h)(t(f).loginForm.secretId))},{default:l(()=>[...i[24]||(i[24]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"secretKey"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.secretKey,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[7]||(i[7]=A=>t(h)(t(f).loginForm.secretKey))},{default:l(()=>[...i[25]||(i[25]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"bucket"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.bucket,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[8]||(i[8]=A=>t(h)(t(f).loginForm.bucket))},{default:l(()=>[...i[26]||(i[26]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(p(),E(F,{key:0,label:"快速登录链接"},{default:l(()=>[e(_,{"model-value":t(ye)(t(f).loginForm),readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[9]||(i[9]=A=>t(h)(t(ye)(t(f).loginForm)))},{default:l(()=>[...i[27]||(i[27]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):S("",!0)])],64)):t(f).loginType==="private"?(p(),k(X,{key:2},[s("div",Jl,[i[29]||(i[29]=s("img",{alt:"",class:"login-type-image",src:Zt,style:{height:"28px"}},null,-1)),e(b,{style:{"font-size":"24px"}},{default:l(()=>[...i[28]||(i[28]=[r("私有服务",-1)])]),_:1})]),e(y),s("div",null,[e(F,{label:"服务地址"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.serverUrl,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[10]||(i[10]=A=>t(h)(t(f).loginForm.serverUrl))},{default:l(()=>[...i[30]||(i[30]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"用户名"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.username,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[11]||(i[11]=A=>t(h)(t(f).loginForm.username))},{default:l(()=>[...i[31]||(i[31]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(F,{label:"密码"},{default:l(()=>[e(_,{"model-value":t(f).loginForm.password,readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[12]||(i[12]=A=>t(h)(t(f).loginForm.password))},{default:l(()=>[...i[32]||(i[32]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(p(),E(F,{key:0,label:"快速登录链接"},{default:l(()=>[e(_,{"model-value":t(ye)(t(f).loginForm),readonly:!0},{append:l(()=>[e(c,{class:"copy-btn",onClick:i[13]||(i[13]=A=>t(h)(t(ye)(t(f).loginForm)))},{default:l(()=>[...i[33]||(i[33]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):S("",!0)])],64)):(p(),k(X,{key:3},[s("div",Wl,[i[35]||(i[35]=s("img",{alt:"",class:"login-type-image",src:el,style:{height:"130px"}},null,-1)),s("div",Xl,[e(b,{style:{"font-size":"22px"}},{default:l(()=>[...i[34]||(i[34]=[r("您正在使用本地文件存储",-1)])]),_:1})])]),s("div",ql,[s("div",hl,[e(b,{type:"info"},{default:l(()=>[...i[36]||(i[36]=[r("没有更多信息",-1)])]),_:1})])])],64))]),_:1})}}}),Zl=q(Ql,[["__scopeId","data-v-298341ca"]]),en={class:"function-div"},tn={class:"function-header",style:{"margin-bottom":"5px"}},ln={class:"function-div"},nn={class:"function-header",style:{"margin-bottom":"5px"}},on={class:"function-div"},sn={class:"function-header"},an={class:"function-div"},rn={class:"function-header"},dn={class:"function-div"},un={class:"function-header"},pn={style:{"margin-top":"10px"}},fn={key:0,class:"function-div"},mn={class:"function-header"},cn={class:"function-div"},gn={class:"function-header"},yn={class:"function-div"},vn={class:"function-header"},_n={class:"function-div"},wn={class:"function-header"},bn={class:"function-div"},xn={class:"function-header"},kn={class:"function-div"},Cn={class:"function-header"},Sn={class:"function-div"},Vn={class:"function-header",style:{"margin-bottom":"5px"}},$n={class:"function-div"},An={class:"function-header"},Pn={class:"function-div"},Fn={class:"function-header",style:{"margin-bottom":"5px"}},Dn={class:"function-div"},Rn={class:"function-header"},En={class:"function-div"},Tn={class:"function-header"},Mn={class:"function-div"},In={class:"function-header",style:{"margin-bottom":"5px"}},Ln={key:0,class:"function-div"},Un={class:"function-header"},Bn={class:"function-div"},zn={class:"function-header"},Nn={class:"function-div"},On={class:"function-header"},Kn={class:"function-div",style:{display:"flex","justify-content":"space-evenly"}},Hn={class:"login-info"},Gn={class:"function-div"},jn={class:"function-header",style:{"margin-bottom":"5px"}},Yn={key:1,class:"function-div"},Jn={class:"function-header",style:{"margin-bottom":"5px"}},Wn={class:"function-div"},Xn={class:"function-header",style:{"margin-bottom":"5px"}},qn={class:"function-div"},hn={class:"function-header",style:{"margin-bottom":"5px"}},Qn={class:"function-div"},Zn={class:"function-header",style:{"margin-bottom":"5px"}},eo={class:"function-div"},to={class:"function-header",style:{"margin-bottom":"5px"}},lo={class:"function-div"},no={class:"function-header"},oo={style:{"margin-top":"10px"}},so={class:"function-div",style:{"margin-top":"30px"}},ao={class:"function-header"},ro={style:{"margin-top":"5px"}},io={style:{padding:"0"}},uo={style:{padding:"0"}},po={style:{padding:"0 15px"}},fo=J({__name:"Setting",setup(H,{expose:f}){const o=Q(),a=ie(),u=Ye(),i=ne(),b=z(!1),y=z(ue.AUTO),c=()=>{let m=localStorage.getItem("topicMode");m?y.value=m:y.value=ue.AUTO,a.visSetting=!0,b.value=!1},_=()=>{a.visSetting=!1},F=()=>["xs","sm"].includes(Y().value)?"calc(100vh - 120px)":"500px",V=()=>{if(a.setting.autoUnlock)return Promise.resolve(!0);let m=`为了您的账号安全，建议您不要开启记住主密码功能。开启后任何人打开您设备的password-XL时，都可以直接访问解锁后的密码列表，极大地增加了密码泄露的风险。
如您仍需开启此功能，请务必妥善保存并牢记您的主密码。当您更换设备或浏览器指纹发生变更时，仍需您手动登录并使用主密码解锁。`;return new Promise(async n=>{ke({title:"重要安全提示",message:Wt("div",{class:"el-alert el-alert--error is-light",style:"text-indent: 20px;"},m),showConfirmButton:!0,confirmButtonText:"确认开启",confirmButtonClass:"el-button--danger"}).then(()=>{i.verifyPasswordRef.getAndVerify(d=>o.passwordManager.verifyPassword(d)).then(d=>{n(!0),localStorage.setItem("mainPassword",$t(At(),d))})}).catch(()=>n(!1))})},A=()=>{if(!a.setting.enableRecycleBin||!o.deletedArray.length)return Promise.resolve(!0);let m="关闭回收站将立即清空回收站中所有密码";return new Promise(async(n,d)=>{ke({message:m,showConfirmButton:!0,confirmButtonText:"清空",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonClass:"el-button--danger"}).then(()=>{n(!0)}).catch(()=>{d()})})},T=m=>b.value?Promise.resolve(!0):m==="loginInfo"&&!["local","electron"].includes(u.loginType)?new Promise((n,d)=>{i.verifyPasswordRef.getAndVerify(w=>o.passwordManager.verifyPassword(w)).then(()=>{n(!0),b.value=!0}).catch(w=>{d()})}):Promise.resolve(!0);f({openSetting:c,closeSetting:_}),W(()=>a.setting.showLabelCard,m=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&i.labelTreeRef?.setCheckedNodes([])})}),W(()=>a.setting.showNote,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.dynamicBackground,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.showFavoriteCard,m=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(o.filterCondition.favoriteId=0)})}),W(()=>a.setting.enableRecycleBin,(m,n)=>{a.visSetting&&o.passwordManager.syncSetting().then(d=>{d.status&&(m||o.passwordManager.emptyRecycle())})}),W(()=>a.setting.enableShortcutKey,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.sortField,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.sortOrder,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.showLabelForTable,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.enableAiAdd,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.showTimeForTable,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.showStrength,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.timeoutLock,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.autoLogin,m=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(m?se.success({title:"已开启自动登录",message:"在您下次登录时将系统将记住登录信息！"}):(sessionStorage.removeItem("loginInfo"),localStorage.removeItem("loginInfo"),se.success({title:"已关闭自动登录",message:"自动登录信息已清除！"}),a.setting.autoUnlock=!1))})}),W(()=>a.setting.autoUnlock,m=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(m?(a.setting.autoLogin=!0,Z.success("已开启自动解锁"),a.setting.timeoutLock=0):(localStorage.removeItem("mainPassword"),Z.success("已清除主密码信息")))})}),W(()=>a.setting.verifyShowGesture,m=>{a.visSetting&&(o.passwordManager.syncSetting(),localStorage.setItem("showGesture",m+""))}),W(()=>y.value,m=>{a.visSetting&&o.setTopicMode(m)});let O=null;W(()=>a.setting.easyConfuseChat,m=>{a.visSetting&&(O&&clearTimeout(O),O=setTimeout(()=>{o.passwordManager.syncSetting()},300))}),W(()=>a.setting.autoGeneratePassword,m=>{a.visSetting&&o.passwordManager.syncSetting()}),W(()=>a.setting.passwordColor,m=>{a.visSetting&&o.passwordManager.syncSetting()});let N=null;W(()=>a.setting.generateRule,m=>{a.visSetting&&(N&&clearTimeout(N),N=setTimeout(()=>{o.passwordManager.syncSetting()},300))},{deep:!0});const D=()=>!!window.androidAPI;return(m,n)=>{const d=oe,w=Kt,x=Ot,g=Je,I=Ht,$=me,v=ut,L=Se,B=pt,C=Ce,P=ze,G=dt,U=_e,pe=Ve,re=de,Ne=Zl,Oe=ge,Ae=Gl,Ke=Ll,Pe=Tl,He=gl,Ge=it,M=Be,xe=ce;return p(),E(xe,{modelValue:t(a).visSetting,"onUpdate:modelValue":n[32]||(n[32]=R=>t(a).visSetting=R),fullscreen:["xs","sm"].includes(t(Y)().value),draggable:"",width:"750px"},{header:l(()=>[e(d,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...n[33]||(n[33]=[s("span",{class:"iconfont icon-setting"},null,-1),r(" 设置 ",-1)])]),_:1})]),default:l(()=>[e(M,{modelValue:t(a),"onUpdate:modelValue":n[31]||(n[31]=R=>ae(a)?a.value=R:null),"label-position":"right","label-width":"140px"},{default:l(()=>[e(Ge,{"before-leave":T,style:{"margin-top":"10px"},"tab-position":"left"},{default:l(()=>[e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[34]||(n[34]=[s("span",{class:"iconfont icon-personalization action-icon",style:{color:"#FF5733"}},null,-1),s("span",{style:{"letter-spacing":"3px"}}," 个性化",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",en,[s("div",tn,[e(d,{tag:"b"},{default:l(()=>[...n[35]||(n[35]=[r("主题",-1)])]),_:1}),e(x,{modelValue:t(y),"onUpdate:modelValue":n[0]||(n[0]=R=>ae(y)?y.value=R:null),size:"small",style:{width:"100px"}},{default:l(()=>[e(w,{value:t(ue).AUTO,label:"跟随系统"},null,8,["value"]),e(w,{value:t(ue).LIGHT,label:"明亮主题"},null,8,["value"]),e(w,{value:t(ue).DARK,label:"深色主题"},null,8,["value"])]),_:1},8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[36]||(n[36]=[r(" 您可以根据个人喜好选择明亮或深色主题，也可以设置为跟随系统 ",-1)])]),_:1})]),s("div",ln,[s("div",nn,[e(d,{tag:"b"},{default:l(()=>[...n[37]||(n[37]=[r("显示背景图",-1)])]),_:1}),e(I,{modelValue:t(a).setting.dynamicBackground,"onUpdate:modelValue":n[1]||(n[1]=R=>t(a).setting.dynamicBackground=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[38]||(n[38]=[r(" 用于控制是否显示首页动态背景图，若浏览器卡顿您可以关闭动态背景图 ",-1)])]),_:1})]),s("div",on,[s("div",sn,[e(d,{tag:"b"},{default:l(()=>[...n[39]||(n[39]=[r("易混淆字符",-1)])]),_:1}),e($,{modelValue:t(a).setting.easyConfuseChat,"onUpdate:modelValue":n[2]||(n[2]=R=>t(a).setting.easyConfuseChat=R),size:"small",style:{width:"100px"}},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[40]||(n[40]=[r(" 随机生成密码时将不会使用配置的易混淆字符 ",-1)])]),_:1})]),s("div",an,[s("div",rn,[e(d,{tag:"b"},{default:l(()=>[...n[41]||(n[41]=[r("自动生成密码",-1)])]),_:1}),e(I,{modelValue:t(a).setting.autoGeneratePassword,"onUpdate:modelValue":n[3]||(n[3]=R=>t(a).setting.autoGeneratePassword=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[42]||(n[42]=[r(" 当您添加密码时是否希望系统使用默认规则自动生成一个密码 ",-1)])]),_:1})]),s("div",dn,[s("div",un,[e(d,{tag:"b"},{default:l(()=>[...n[43]||(n[43]=[r("随机密码生成规则",-1)])]),_:1})]),e(g,{class:"function-line"}),s("div",pn,[s("div",null,[e(C,null,{default:l(()=>[e(L,{md:{span:10},sm:{span:24},style:{"margin-bottom":"10px","text-align":"center"}},{default:l(()=>[e(v,{modelValue:t(a).setting.generateRule.uppercase,"onUpdate:modelValue":n[4]||(n[4]=R=>t(a).setting.generateRule.uppercase=R),border:"",label:"大写",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(v,{modelValue:t(a).setting.generateRule.lowercase,"onUpdate:modelValue":n[5]||(n[5]=R=>t(a).setting.generateRule.lowercase=R),border:"",label:"小写",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(v,{modelValue:t(a).setting.generateRule.number,"onUpdate:modelValue":n[6]||(n[6]=R=>t(a).setting.generateRule.number=R),border:"",label:"数字",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(v,{modelValue:t(a).setting.generateRule.symbol,"onUpdate:modelValue":n[7]||(n[7]=R=>t(a).setting.generateRule.symbol=R),border:"",label:"符号",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"])]),_:1}),e(L,{md:{span:10},sm:{span:24},style:{"text-align":"center"}},{default:l(()=>[n[44]||(n[44]=s("span",null,"密码长度",-1)),e(B,{modelValue:t(a).setting.generateRule.length,"onUpdate:modelValue":n[8]||(n[8]=R=>t(a).setting.generateRule.length=R),max:32,min:4,size:"small",style:{"margin-top":"10px"}},null,8,["modelValue"])]),_:1})]),_:1})])])])]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[45]||(n[45]=[s("span",{class:"iconfont icon-function action-icon",style:{color:"#FF33FF"}},null,-1),r(" 功能管理 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[t(Re)()?(p(),k("div",fn,[s("div",mn,[e(d,{tag:"b"},{default:l(()=>[...n[46]||(n[46]=[r("启用AI创建",-1)])]),_:1}),e(I,{modelValue:t(a).setting.enableAiAdd,"onUpdate:modelValue":n[9]||(n[9]=R=>t(a).setting.enableAiAdd=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[47]||(n[47]=[r(" 在首页启用AI创建密码，AI创建可以把包含账号信息的文本解析成结构化的密码。 ",-1)])]),_:1})])):S("",!0),s("div",cn,[s("div",gn,[e(d,{tag:"b"},{default:l(()=>[...n[48]||(n[48]=[r("显示标签卡片",-1)])]),_:1}),e(I,{modelValue:t(a).setting.showLabelCard,"onUpdate:modelValue":n[10]||(n[10]=R=>t(a).setting.showLabelCard=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[49]||(n[49]=[r(" 显示标签卡片后，您可以在首页方便地管理所有标签，并使用标签功能筛选密码列表。 ",-1)])]),_:1})]),s("div",yn,[s("div",vn,[e(d,{tag:"b"},{default:l(()=>[...n[50]||(n[50]=[r("在标题栏显示笔记功能入口",-1)])]),_:1}),e(I,{modelValue:t(a).setting.showNote,"onUpdate:modelValue":n[11]||(n[11]=R=>t(a).setting.showNote=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[51]||(n[51]=[r(" 启用笔记功能后可在首页进入笔记页面，如果需要记录图片请确保对象存储服务开启外网访问权限，否则图片无法正常显示。 ",-1)])]),_:1})]),s("div",_n,[s("div",wn,[e(d,{tag:"b"},{default:l(()=>[...n[52]||(n[52]=[r("显示收藏卡片",-1)])]),_:1}),e(I,{modelValue:t(a).setting.showFavoriteCard,"onUpdate:modelValue":n[12]||(n[12]=R=>t(a).setting.showFavoriteCard=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[53]||(n[53]=[r(" 显示收藏卡片后，您可以在首页查看所有已收藏的密码，点击密码名称即可在密码列表中显示。 ",-1)])]),_:1})]),s("div",bn,[s("div",xn,[e(d,{tag:"b"},{default:l(()=>[...n[54]||(n[54]=[r("密码回收站",-1)])]),_:1}),e(I,{modelValue:t(a).setting.enableRecycleBin,"onUpdate:modelValue":n[13]||(n[13]=R=>t(a).setting.enableRecycleBin=R),"before-change":A},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[55]||(n[55]=[r(" 开启密码回收站后，已删除的密码将会被保存至回收站，您可以选择永久删除或恢复。 ",-1)])]),_:1})]),s("div",kn,[s("div",Cn,[e(d,{tag:"b"},{default:l(()=>[...n[56]||(n[56]=[r("快捷键",-1)])]),_:1}),e(I,{modelValue:t(a).setting.enableShortcutKey,"onUpdate:modelValue":n[14]||(n[14]=R=>t(a).setting.enableShortcutKey=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[62]||(n[62]=r(" 锁定/解锁： ",-1)),e(U,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[57]||(n[57]=[r("Alt + L",-1)])]),_:1}),n[63]||(n[63]=r(" 搜索： ",-1)),e(U,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[58]||(n[58]=[r("Ctrl + F",-1)])]),_:1}),n[64]||(n[64]=r(" 创建： ",-1)),e(U,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[59]||(n[59]=[r("Alt + N",-1)])]),_:1}),n[65]||(n[65]=r(" 保存： ",-1)),e(U,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[60]||(n[60]=[r("Ctrl + S",-1)])]),_:1}),n[66]||(n[66]=r(" 聚焦搜索： ",-1)),e(U,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[61]||(n[61]=[r("/",-1)])]),_:1})]),_:1})]),e(pe,{closable:!1,"show-icon":"",title:"若您需要更多密码显示空间，可以选择关闭标签和收藏卡片并在更多功能中使用。",type:"info"})]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[67]||(n[67]=[s("span",{class:"iconfont icon-display action-icon",style:{color:"#00e329"}},null,-1),r(" 密码显示 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",Sn,[s("div",Vn,[e(d,{tag:"b"},{default:l(()=>[...n[68]||(n[68]=[r("密码排序",-1)])]),_:1}),s("div",null,[e(x,{modelValue:t(a).setting.sortField,"onUpdate:modelValue":n[15]||(n[15]=R=>t(a).setting.sortField=R),size:"small",style:{width:"90px"}},{default:l(()=>[e(w,{label:"添加时间",value:"addTime"}),e(w,{label:"修改时间",value:"updateTime"}),e(w,{label:"密码强度",value:"strength"}),e(w,{label:"密码名称",value:"title"}),e(w,{label:"登录名",value:"username"}),e(w,{label:"收藏",value:"favorite"})]),_:1},8,["modelValue"]),e(x,{modelValue:t(a).setting.sortOrder,"onUpdate:modelValue":n[16]||(n[16]=R=>t(a).setting.sortOrder=R),size:"small",style:{width:"65px","margin-left":"5px"}},{default:l(()=>[e(w,{value:t(Ee).ASC,label:"正序"},null,8,["value"]),e(w,{value:t(Ee).DESC,label:"倒序"},null,8,["value"])]),_:1},8,["modelValue"])])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[69]||(n[69]=[r(" 此选项用于设置密码默认排序规则。您也可以通过点击密码列表中的小箭头进行临时排序，临时排序会在页面刷新后重置。 ",-1)])]),_:1})]),s("div",$n,[s("div",An,[e(d,{tag:"b"},{default:l(()=>[...n[70]||(n[70]=[r("在密码列表中显示标签",-1)])]),_:1}),e(I,{modelValue:t(a).setting.showLabelForTable,"onUpdate:modelValue":n[17]||(n[17]=R=>t(a).setting.showLabelForTable=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[71]||(n[71]=[r(" 此选项用于设置是否在密码列表中显示标签列，显示标签将会占用更多空间，您可根据需要开启。 ",-1)])]),_:1})]),s("div",Pn,[s("div",Fn,[e(d,{tag:"b"},{default:l(()=>[...n[72]||(n[72]=[r("在密码列表中显示时间",-1)])]),_:1}),e(x,{modelValue:t(a).setting.showTimeForTable,"onUpdate:modelValue":n[18]||(n[18]=R=>t(a).setting.showTimeForTable=R),size:"small",style:{width:"100px"}},{default:l(()=>[e(w,{label:"不显示时间",value:"no"}),e(w,{label:"显示添加时间",value:"addTime"}),e(w,{label:"显示修改时间",value:"updateTime"})]),_:1},8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[73]||(n[73]=[r(" 此选项用于设置是否在密码列表中显示时间，显示时间将会占用更多空间，您可根据需要开启。 ",-1)])]),_:1})]),s("div",Dn,[s("div",Rn,[e(d,{tag:"b"},{default:l(()=>[...n[74]||(n[74]=[r("显示密码强度",-1)])]),_:1}),e(I,{modelValue:t(a).setting.showStrength,"onUpdate:modelValue":n[19]||(n[19]=R=>t(a).setting.showStrength=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[75]||(n[75]=[r(" 我们根据密码组成将密码分为弱、中、强3个等级，分别用颜色 ",-1),s("div",{class:"password-strength",style:{"background-color":"#F56C6C"}},null,-1),s("div",{class:"password-strength",style:{"background-color":"#FF9700"}},null,-1),s("div",{class:"password-strength",style:{"background-color":"#67C23A"}},null,-1),r(" 表示，若您不喜欢此功能可在此关闭。 ",-1)])]),_:1})]),s("div",En,[s("div",Tn,[e(d,{tag:"b"},{default:l(()=>[...n[76]||(n[76]=[r("密码颜色",-1)])]),_:1}),e(I,{modelValue:t(a).setting.passwordColor,"onUpdate:modelValue":n[20]||(n[20]=R=>t(a).setting.passwordColor=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[77]||(n[77]=[r(" 开启此功能后您可以在创建密码时选择密码颜色，并在卡片或表格中显示 ",-1)])]),_:1})])]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[78]||(n[78]=[s("span",{class:"iconfont icon-verify action-icon",style:{color:"#33CFFF"}},null,-1),r(" 密码安全 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",Mn,[s("div",In,[e(d,{tag:"b"},{default:l(()=>[...n[79]||(n[79]=[r("超时锁定",-1)])]),_:1}),e(x,{modelValue:t(a).setting.timeoutLock,"onUpdate:modelValue":n[21]||(n[21]=R=>t(a).setting.timeoutLock=R),disabled:t(a).setting.autoUnlock,title:t(a).setting.autoUnlock?"已开启自动解锁无法设置自动锁定":"",size:"small",style:{width:"100px"}},{default:l(()=>[e(w,{value:0,label:"永不超时"}),e(w,{value:30,label:"30秒"}),e(w,{value:60,label:"1分钟"}),e(w,{value:300,label:"5分钟"}),e(w,{value:600,label:"10分钟"}),e(w,{value:1800,label:"30分钟"}),e(w,{value:3600,label:"1小时"}),e(w,{value:14400,label:"4小时"}),e(w,{value:28800,label:"8小时"}),e(w,{value:43200,label:"12小时"})]),_:1},8,["modelValue","disabled","title"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[80]||(n[80]=[r(" 系统将在此时间后自动锁定密码列表。 ",-1)])]),_:1})]),t(u).loginType!=="local"?(p(),k("div",Ln,[s("div",Un,[e(d,{tag:"b"},{default:l(()=>[...n[81]||(n[81]=[r("自动登录",-1)])]),_:1}),e(I,{modelValue:t(a).setting.autoLogin,"onUpdate:modelValue":n[22]||(n[22]=R=>t(a).setting.autoLogin=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[82]||(n[82]=[r(" 开启自动登录功能后，系统会将您的登录信息通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL并成功验证主密码时，系统会自动登录。 ",-1)])]),_:1})])):S("",!0),s("div",Bn,[s("div",zn,[e(d,{tag:"b"},{default:l(()=>[...n[83]||(n[83]=[r("自动解锁",-1)])]),_:1}),e(I,{modelValue:t(a).setting.autoUnlock,"onUpdate:modelValue":n[23]||(n[23]=R=>t(a).setting.autoUnlock=R),"before-change":V},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[84]||(n[84]=[r(" 开启自动解锁功能后，系统会将您的主密码通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL时，系统会自动登录并使用主密码解锁。 ",-1)])]),_:1})]),s("div",Nn,[s("div",On,[e(d,{tag:"b"},{default:l(()=>[...n[85]||(n[85]=[r("验证密码时显示手势",-1)])]),_:1}),e(I,{modelValue:t(a).setting.verifyShowGesture,"onUpdate:modelValue":n[24]||(n[24]=R=>t(a).setting.verifyShowGesture=R)},null,8,["modelValue"])]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[86]||(n[86]=[r(" 当您使用手势密码时可以在此配置是否显示手势滑动轨迹。 ",-1)])]),_:1})]),s("div",Kn,[e(re,{plain:"",type:"primary",onClick:t(i).setPasswordRef.setMainPassword},{default:l(()=>[...n[87]||(n[87]=[r("修改主密码",-1)])]),_:1},8,["onClick"]),e(re,{type:"danger",onClick:t(i).cancelAccountRef.showCloseAccount},{default:l(()=>[...n[88]||(n[88]=[r("注销账户",-1)])]),_:1},8,["onClick"])])]),_:1},8,["height"])]),_:1}),e(G,{name:"loginInfo"},{label:l(()=>[e(d,null,{default:l(()=>[...n[89]||(n[89]=[s("span",{class:"iconfont icon-info action-icon",style:{color:"#409EFF"}},null,-1),r(" 登录信息 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",Hn,[e(Ne)])]),_:1},8,["height"])]),_:1}),D()?S("",!0):(p(),E(G,{key:0},{label:l(()=>[e(d,null,{default:l(()=>[...n[90]||(n[90]=[s("span",{class:"iconfont icon-recovery action-icon",style:{color:"#ffc400"}},null,-1),r(" 备份恢复 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[t(Re)()?(p(),E(pe,{key:0,style:{"margin-bottom":"10px"},type:"success"},{default:l(()=>[...n[91]||(n[91]=[r("AI批量导入功能已上线，可以快速导入已有密码，欢迎体验!",-1)])]),_:1})):S("",!0),e(pe,{style:{"margin-bottom":"10px"},type:"warning"},{default:l(()=>[...n[92]||(n[92]=[r("笔记数据不会被备份或导出，请注意",-1)])]),_:1}),s("div",Gn,[s("div",jn,[e(d,{tag:"b"},{default:l(()=>[...n[93]||(n[93]=[r("备份密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[25]||(n[25]=R=>t(i).backupAndRecoveryRef.backup(!1))},{default:l(()=>[...n[94]||(n[94]=[r("备份 ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[96]||(n[96]=r(" 密码备份功能可以安全的将加密后的密码文件导出，在需要时通过 ",-1)),e(d,null,{default:l(()=>[...n[95]||(n[95]=[r("恢复备份密码",-1)])]),_:1}),n[97]||(n[97]=r(" 功能还原。 ",-1))]),_:1})]),t(Re)()?(p(),k("div",Yn,[s("div",Jn,[e(d,{tag:"b"},{default:l(()=>[...n[98]||(n[98]=[r("AI批量导入",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[26]||(n[26]=R=>t(i).aiImportRef.batchImport())},{default:l(()=>[...n[99]||(n[99]=[r("导入 ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[100]||(n[100]=[r(" AI导入功能支持批量导入非结构化密码，例如从一段文本中导入多个密码 ",-1)])]),_:1})])):S("",!0),s("div",Wn,[s("div",Xn,[e(d,{tag:"b"},{default:l(()=>[...n[101]||(n[101]=[r("恢复备份密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[27]||(n[27]=R=>t(i).backupAndRecoveryRef.recovery())},{default:l(()=>[...n[102]||(n[102]=[r("恢复 ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[103]||(n[103]=[r(" 此功能可以将备份文件中的密码恢复到密码列表。在验证备份文件的主密码后，您可以选择合并或覆盖方式恢复密码。 ",-1)])]),_:1})]),s("div",qn,[s("div",hn,[e(d,{tag:"b"},{default:l(()=>[...n[104]||(n[104]=[r("导出密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[28]||(n[28]=R=>t(i).exportExcelRef.exportExcel(!1))},{default:l(()=>[...n[105]||(n[105]=[r("导出 Excel ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[106]||(n[106]=[r(" 导出密码会将敏感信息明文存储在excel表格中，请注意密码安全。若您仅需要迁移账号或备份密码建议使用密码备份与恢复功能更加高效安全。 ",-1)])]),_:1})]),s("div",Qn,[s("div",Zn,[e(d,{tag:"b"},{default:l(()=>[...n[107]||(n[107]=[r("导入密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[29]||(n[29]=R=>t(i).importExcelRef&&t(i).importExcelRef.importExcel())},{default:l(()=>[...n[108]||(n[108]=[r("导入 Excel ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[109]||(n[109]=[r(" 密码导入功能支持按照密码模板导入excel文件中的密码，您可以通过下载模板功能获取密码模板。 ",-1)])]),_:1})]),s("div",eo,[s("div",to,[e(d,{tag:"b"},{default:l(()=>[...n[110]||(n[110]=[r("下载导入模板",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[30]||(n[30]=R=>t(i).exportExcelRef&&t(i).exportExcelRef.exportExcel(!0))},{default:l(()=>[...n[111]||(n[111]=[r("下载 ",-1)])]),_:1})]),e(g,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[113]||(n[113]=r(" 您可在下载的Excel模板中按照要求填写您的密码列表（ ",-1)),e(d,{type:"danger"},{default:l(()=>[...n[112]||(n[112]=[r("密码名称为必填",-1)])]),_:1}),n[114]||(n[114]=r(" ），然后使用密码导入功能导入您的密码。 ",-1))]),_:1})])]),_:1},8,["height"])]),_:1})),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[115]||(n[115]=[s("span",{class:"iconfont icon-problem action-icon",style:{color:"#FF69B4"}},null,-1),r(" 问题反馈 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",lo,[s("div",no,[e(d,{tag:"b"},{default:l(()=>[...n[116]||(n[116]=[r("建议反馈",-1)])]),_:1})]),e(g,{class:"function-line"}),s("div",oo,[e(d,{style:{"text-indent":"10px"},tag:"p"},{default:l(()=>[n[118]||(n[118]=r(" 您的建议是我们不断进步的动力，您可以在此项目 ",-1)),e(Oe,{href:t(te).repository.url+"/issues",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...n[117]||(n[117]=[r("开源地址 ",-1)])]),_:1},8,["href"]),n[119]||(n[119]=r(" 中留下您遇到的问题或提出宝贵的建议。 ",-1))]),_:1})])]),s("div",so,[s("div",ao,[e(d,{tag:"b"},{default:l(()=>[...n[120]||(n[120]=[r("常见问题",-1)])]),_:1})]),s("div",ro,[e(Ae)])])]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[121]||(n[121]=[s("span",{class:"iconfont icon-about action-icon",style:{color:"#FF4500"}},null,-1),r(" 关于项目 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",io,[e(Ke)])]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[122]||(n[122]=[s("span",{class:"iconfont icon-coffee action-icon",style:{color:"#FF5858FF"}},null,-1),r(" 支持我们 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",uo,[e(Pe)])]),_:1},8,["height"])]),_:1}),e(G,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[123]||(n[123]=[s("span",{class:"iconfont icon-copyright action-icon",style:{color:"#FF8C00"}},null,-1),r(" 版权声明 ",-1)])]),_:1})]),default:l(()=>[e(P,{height:F()},{default:l(()=>[s("div",po,[e(He)])]),_:1},8,["height"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","fullscreen"])}}}),mo=q(fo,[["__scopeId","data-v-2bbf89f6"]]),co={key:0,style:{"margin-top":"10px","text-align":"center"}},go=J({__name:"SetPassword",setup(H,{expose:f}){const o=Q(),a=Ye(),u=ne(),i=z(),b=z(),y=z(),c=z(!1),_=z(JSON.parse(JSON.stringify(o.mainPasswordType))),F=z(""),V=z(""),A=Me({firstMainPassword:"",secondMainPassword:""}),T=Me({firstMainPassword:[{required:!0,message:"请输入主密码",trigger:"blur"}],secondMainPassword:[{required:!0,message:"请再次输入主密码",trigger:"blur"}]}),O=()=>{A.firstMainPassword="",A.secondMainPassword="",V.value="",o.serviceStatus===j.WAIT_INIT?c.value=!0:u.verifyPasswordRef.getAndVerify(d=>o.passwordManager.verifyPassword(d)).then(d=>{F.value=d,c.value=!0})},N=d=>{d.validate(w=>{if(w){if(A.firstMainPassword!==A.secondMainPassword){Z.error("两次输入的密码不一致");return}if(A.firstMainPassword===F.value){Z.error("新密码与原密码一致");return}o.serviceStatus===j.WAIT_INIT?m(A.firstMainPassword):n(A.firstMainPassword)}})},D=d=>{if(!V.value){V.value=d;return}if(!(d.length<5)){if(V.value!==d){V.value="",Z.warning("两次绘制的密码不一致");return}if(V.value===F.value){V.value="",Z.error("新密码与原密码一致");return}o.serviceStatus===j.WAIT_INIT?m(V.value):n(V.value)}},m=d=>{o.loading(),o.passwordManager.initMainPassword(_.value,d).then(w=>{w.status?(c.value=!1,Z.success("设置成功"),a.setAutoLoginInfo(d)):Z.error(w.message),o.unloading()}).catch(()=>{o.unloading()})},n=d=>{o.passwordManager.updateMainPassword(F.value,_.value,d).then(w=>{w.status?(c.value=!1,a.setAutoLoginInfo(d),Z.success("修改成功")):Z.error(w.message),o.unloading()}).catch(()=>{o.unloading()})};return W(_,()=>{i.value?.clearValidate()}),f({setMainPassword:O}),(d,w)=>{const x=oe,g=Ve,I=me,$=We,v=Be,L=dt,B=Pt,C=it,P=de,G=ce;return p(),E(G,{modelValue:t(c),"onUpdate:modelValue":w[7]||(w[7]=U=>ae(c)?c.value=U:null),"close-on-click-modal":!1,"close-on-press-escape":t(o).serviceStatus!==t(j).WAIT_INIT,"show-close":t(o).serviceStatus!==t(j).WAIT_INIT,width:["xs"].includes(t(Y)().value)?"95%":"550px",onOpen:w[8]||(w[8]=U=>t(i)?.resetFields()),onOpened:w[9]||(w[9]=U=>t(b)?.focus())},Xt({header:l(()=>[e(x,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...w[10]||(w[10]=[s("span",{class:"iconfont icon-verify"},null,-1),r(" 设置主密码 ",-1)])]),_:1})]),default:l(()=>[e(g,{closable:!1,"show-icon":"",style:{"margin-top":"10px"},title:"主密码一旦遗忘，所有密码均无法找回！请慎重设置您的主密码。",type:"warning"}),e(C,{modelValue:t(_),"onUpdate:modelValue":w[5]||(w[5]=U=>ae(_)?_.value=U:null),style:{"margin-top":"15px"},type:"card"},{default:l(()=>[e(L,{name:t(Fe).STANDARD,label:"标准密码"},{default:l(()=>[e(v,{ref_key:"setPasswordFormRef",ref:i,model:t(A),rules:t(T),"label-width":"80px",style:{width:"300px",margin:"20px auto"},onSubmit:w[4]||(w[4]=vt(()=>{},["prevent"]))},{default:l(()=>[e($,{label:"主密码",prop:"firstMainPassword"},{default:l(()=>[e(I,{ref_key:"firstPasswordInputRef",ref:b,modelValue:t(A).firstMainPassword,"onUpdate:modelValue":w[0]||(w[0]=U=>t(A).firstMainPassword=U),autocomplete:"new-password",placeholder:"请输入主密码","show-password":"",type:"password",onKeyup:w[1]||(w[1]=Ie(U=>t(y).focus(),["enter","native"]))},null,8,["modelValue"])]),_:1}),e($,{label:"确认密码",prop:"secondMainPassword",style:{"padding-top":"10px"}},{default:l(()=>[e(I,{ref_key:"secondMainPasswordRef",ref:y,modelValue:t(A).secondMainPassword,"onUpdate:modelValue":w[2]||(w[2]=U=>t(A).secondMainPassword=U),autocomplete:"new-password",placeholder:"请再次输入主密码","show-password":"",type:"password",onKeyup:w[3]||(w[3]=Ie(U=>N(t(i)),["enter","native"]))},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["name"]),e(L,{disabled:t(o).globalLoading.vis,name:t(Fe).GESTURE,label:"手势密码"},{default:l(()=>[t(_)===t(Fe).GESTURE?(p(),k("div",co,[t(V)?(p(),E(x,{key:1},{default:l(()=>[...w[12]||(w[12]=[r("请再次绘制手势密码",-1)])]),_:1})):(p(),E(x,{key:0},{default:l(()=>[...w[11]||(w[11]=[r("请绘制手势密码",-1)])]),_:1})),e(B,{style:{width:"350px",margin:"0 auto"},onComplete:D})])):S("",!0)]),_:1},8,["disabled","name"])]),_:1},8,["modelValue"])]),_:2},[t(_)===t(Fe).STANDARD?{name:"footer",fn:l(()=>[e(P,{disabled:t(o).globalLoading.vis,type:"primary",onClick:w[6]||(w[6]=U=>N(t(i)))},{default:l(()=>[...w[13]||(w[13]=[r("确定 ",-1)])]),_:1},8,["disabled"])]),key:"0"}:void 0]),1032,["modelValue","close-on-press-escape","show-close","width"])}}}),yo=q(go,[["__scopeId","data-v-c3cf4cd1"]]),vo={style:{position:"absolute",padding:"7px"}},_o={style:{"margin-top":"20px",padding:"10px"}},wo={style:{"margin-top":"20px",padding:"10px"}},bo=J({__name:"BackupAndRecovery",setup(H,{expose:f}){const o=Q(),a=ne(),u=z(!1),i=z(),b=z([]),y=z([]),c=m=>{let n=o.passwordManager.getStoreData();if(!n){se.error({title:"系统异常",message:"备份文件不存在"});return}let d=m?`您与“${ve(Date.now(),"YYYY-MM-DD HH:mm")}” 进行密码恢复时系统自动备份了该文件，`:`您于“${ve(Date.now(),"YYYY-MM-DD HH:mm")}” 手动备份了该文件，`,w=o.allPasswordArray.length,x=Ft(),g={explain:`此文件为password-XL 密码备份文件，${d}此文件包含：${w} 个密码、${x} 个标签。 password-XL 官网服务地址为：https://password-xl.cn`,storeData:n,backupTime:Date.now()},I="密码备份 "+ve(Date.now(),"YYYY-MM-DD HH:mm:ss")+".json";const $=new Blob([JSON.stringify(g)],{type:"text/plain;charset=utf-8"});tl.saveAs($,I)},_=()=>{i.value.click()},F=()=>{if(i.value.files.length===0)return;let m=i.value.files[0],n=new FileReader;n.onload=()=>{if(n.result)try{let d=JSON.parse(n.result);i.value.value="",V(d)}catch{se.error({title:"恢复失败",message:"请检查备份文件是否正确"})}},n.readAsText(m)},V=async m=>{let n,d;if(Ze(o.mainPassword,m.storeData.passwordData))n=De(o.mainPassword,m.storeData.passwordData),d=De(o.mainPassword,m.storeData.labelData);else{let x=await a.verifyPasswordRef.getAndVerify(g=>Ze(g,m.storeData.passwordData),m.storeData.mainPasswordType);x&&(n=De(x,m.storeData.passwordData),d=De(x,m.storeData.labelData))}if(!n||!d)return se.error({title:"恢复失败",message:"请检查备份文件及主密码是否正确"}),!1;b.value=Dt(JSON.parse(n)),y.value=JSON.parse(d),!o.allPasswordArray.length&&!o.labelArray.length?A():u.value=!0},A=()=>{a.verifyPasswordRef.getAndVerify(m=>o.passwordManager.verifyPassword(m)).then(()=>{T()})},T=()=>{(o.allPasswordArray.length||o.labelArray.length)&&(c(!0),Z.success("已为您自动备份现有密码")),o.allPasswordArray=b.value,o.labelArray=y.value,D()},O=()=>{a.verifyPasswordRef.getAndVerify(m=>o.passwordManager.verifyPassword(m)).then(()=>{N()})},N=()=>{(o.allPasswordArray.length||o.labelArray.length)&&(c(!0),Z.success("已为您自动备份现有密码")),Rt(o.allPasswordArray,b.value),Et(o.labelArray,y.value),D()},D=async()=>{let m=await o.passwordManager.syncStoreData().catch(n=>n);m.status?(Z.success("密码恢复成功"),u.value=!1):se.error({title:"系统异常",message:m.message})};return f({backup:c,recovery:_}),(m,n)=>{const d=oe,w=_e,x=Se,g=Ce,I=ce;return p(),k(X,null,[s("input",{ref_key:"fileInput",ref:i,accept:"application/json",style:{display:"none"},type:"file",onChange:n[0]||(n[0]=$=>F())},null,544),e(I,{modelValue:t(u),"onUpdate:modelValue":n[1]||(n[1]=$=>ae(u)?u.value=$:null),fullscreen:["xs","sm"].includes(t(Y)().value),draggable:"",width:"600px"},{header:l(()=>[e(d,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...n[2]||(n[2]=[s("span",{class:"iconfont icon-recovery"},null,-1),r(" 恢复密码 ",-1),s("span",{style:{"font-weight":"bold"}},"·",-1),r(" 请选择恢复方式 ",-1)])]),_:1})]),default:l(()=>[e(g,null,{default:l(()=>[e(x,{md:{span:12},sm:{span:24},class:"recovery-col"},{default:l(()=>[s("div",{class:"recovery-type recovery-merge",onClick:O},[s("div",vo,[e(w,{effect:"dark",type:"success"},{default:l(()=>[...n[3]||(n[3]=[r("推荐",-1)])]),_:1})]),n[6]||(n[6]=s("div",{class:"icon-div"},[s("span",{class:"iconfont icon-merge"})],-1)),e(d,{class:"recovery-text"},{default:l(()=>[...n[4]||(n[4]=[r(" 合并恢复 ",-1)])]),_:1}),s("div",_o,[e(d,null,{default:l(()=>[...n[5]||(n[5]=[r("将现有密码与备份文件中的密码合并（修改过的密码会添加备注说明）",-1)])]),_:1})])])]),_:1}),e(x,{md:{span:12},sm:{span:24},class:"recovery-col"},{default:l(()=>[s("div",{class:"recovery-type recovery-cover",onClick:A},[n[9]||(n[9]=s("div",{class:"icon-div"},[s("span",{class:"iconfont icon-cover"})],-1)),e(d,{class:"recovery-text"},{default:l(()=>[...n[7]||(n[7]=[r(" 覆盖恢复 ",-1)])]),_:1}),s("div",wo,[e(d,null,{default:l(()=>[...n[8]||(n[8]=[r("使用备份文件覆盖密码列表，现有的密码和标签都将被删除",-1)])]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])],64)}}}),xo=q(bo,[["__scopeId","data-v-9c120f14"]]),ko={key:1,style:{"text-align":"center"}},Co={style:{margin:"20px"}},So={style:{margin:"40px"}},Vo=J({__name:"RecycleBin",setup(H,{expose:f}){const o=Q(),a=ie(),u=()=>{o.recycleBinDialogVis=!0},i=()=>{a.setting.enableRecycleBin=!0,o.passwordManager.syncSetting().then(c=>{c&&c.status&&Z.success("已开启密码回收站")})},b=c=>{o.passwordManager.completelyDeletePassword(c.id).then(_=>{_.status&&Z.success("删除成功")})},y=c=>{o.passwordManager.cancelDeletePassword(c.id)};return f({openRecycleBin:u}),(c,_)=>{const F=oe,V=Ue,A=ge,T=Le,O=de,N=ce;return p(),E(N,{modelValue:t(o).recycleBinDialogVis,"onUpdate:modelValue":_[0]||(_[0]=D=>t(o).recycleBinDialogVis=D),fullscreen:["xs"].includes(t(Y)().value),class:"recycle-bin",draggable:"",width:"600px"},{header:l(()=>[e(F,{size:"large",style:{"user-select":"none"}},{default:l(()=>[..._[1]||(_[1]=[s("span",{class:"iconfont icon-recycle-bin"},null,-1),r(" 回收站 ",-1)])]),_:1})]),default:l(()=>[t(a).setting.enableRecycleBin?(p(),E(T,{key:0,data:t(o).deletedArray,"header-cell-style":{padding:0},height:"380px"},{empty:l(()=>[e(F,{type:"info"},{default:l(()=>[..._[2]||(_[2]=[r("这里空空如也",-1)])]),_:1})]),default:l(()=>[e(V,{prop:"title"}),e(V,{width:"150px"},{default:l(D=>[e(A,{underline:!1,type:"primary",onClick:m=>y(D.row)},{default:l(()=>[..._[3]||(_[3]=[r("还原",-1)])]),_:1},8,["onClick"]),e(A,{underline:!1,style:{"margin-left":"15px"},type:"danger",onClick:m=>b(D.row)},{default:l(()=>[..._[4]||(_[4]=[r(" 彻底删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])):(p(),k("div",ko,[_[7]||(_[7]=s("div",{style:{"margin-top":"20px"}},[s("span",{class:"iconfont icon-recycle-bin not-enabled-recycle-bin-icon"})],-1)),s("div",Co,[e(F,{type:"info"},{default:l(()=>[..._[5]||(_[5]=[r("当前未开启密码回收站功能",-1)])]),_:1})]),s("div",So,[e(O,{plain:"",type:"primary",onClick:i},{default:l(()=>[..._[6]||(_[6]=[r("开启回收站",-1)])]),_:1})])]))]),_:1},8,["modelValue","fullscreen"])}}}),$o=q(Vo,[["__scopeId","data-v-e6d7b6c4"]]),Ao={key:0,class:"empty-favorite"},Po={key:1},Fo=J({__name:"Favorite",setup(H){const f=Q(),o=ne(),a=z(0),u=y=>{y.favorite=!1,a.value=0,f.filterCondition.favoriteId=0,f.passwordManager.updatePassword(y)},i=y=>{f.filterCondition.favoriteId===y?f.filterCondition.favoriteId=0:(f.filterCondition.favoriteId=y,o.labelTreeRef?o.labelTreeRef.setCheckedNodes([]):f.filterCondition.labelArray=[])},b=y=>f.filterCondition.favoriteId===y.id?"dark":a.value===y.id?"light":"plain";return(y,c)=>{const _=_e,F=he,V=qe,A=Xe,T=ze;return p(),E(T,{height:"calc(50vh - 106px)"},{default:l(()=>[t(f).favoritePasswordArray.length?S("",!0):(p(),k("div",Ao," 暂无收藏 ")),t(f).favoritePasswordArray.length?(p(),k("div",Po,[(p(!0),k(X,null,fe(t(f).favoritePasswordArray,O=>(p(),E(A,{trigger:"contextmenu"},{dropdown:l(()=>[e(V,null,{default:l(()=>[e(F,{onClick:N=>u(O)},{default:l(()=>[...c[1]||(c[1]=[s("span",{class:"iconfont icon-edit cancel-favorite"},null,-1),r(" 取消收藏 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:l(()=>[e(_,{effect:b(O),class:"favorite-tag",size:"large",type:"warning",onClick:N=>i(O.id),onMouseenter:N=>a.value=O.id,onMouseleave:c[0]||(c[0]=N=>a.value=0)},{default:l(()=>[r(K(O.title),1)]),_:2},1032,["effect","onClick","onMouseenter"])]),_:2},1024))),256))])):S("",!0)]),_:1})}}}),wt=q(Fo,[["__scopeId","data-v-6e060ee0"]]),Do={key:0,style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},Ro=J({__name:"FavoriteDrawer",setup(H,{expose:f}){const o=Q(),a=z(!1);return f({showFavoriteDrawer:()=>{a.value=!0}}),W(()=>o.filterCondition.favoriteId,()=>{a.value=!1}),(i,b)=>{const y=wt,c=Qe;return p(),k("div",null,[e(c,{modelValue:t(a),"onUpdate:modelValue":b[0]||(b[0]=_=>ae(a)?a.value=_:null),direction:["xs","sm"].includes(t(Y)().value)?"btt":"rtl",size:["xs","sm"].includes(t(Y)().value)?"60%":"350px",title:"收藏"},{default:l(()=>[t(o).favoritePasswordArray.length?(p(),k("div",Do,[...b[1]||(b[1]=[s("span",{class:"iconfont icon-info",style:{"font-size":"100%"}},null,-1),r(" 点击收藏内容即可查看密码 ",-1)])])):S("",!0),e(y)]),_:1},8,["modelValue","direction","size"])])}}}),Eo=q(Ro,[["__scopeId","data-v-e746cfbb"]]),To=["onClick","onContextmenu"],Mo={key:1,style:{width:"100%"}},Io=J({__name:"LabelTree",setup(H,{expose:f}){const o=Q(),a=ne(),u=z({}),i={},b=z(0),y=()=>o.labelArray.map(m=>m.id),c=m=>m.data.id!==b.value,_=(m,n)=>{let d=0;m&&(d=n==="peer"?m.data.pid:m.data.id);let w={id:Date.now(),pid:d,name:"新标签",children:[]};b.value=w.id,m?n==="peer"?a.labelTreeRef.insertAfter(w,m.data.id):a.labelTreeRef.append(w,m.data.id):a.labelTreeRef.append(w),a.labelTreeRef.setCurrentKey(w.id,!0),setTimeout(function(){i[w.id]?.focus()},150)},F=m=>{b.value=m.data.id,setTimeout(function(){i[m.data.id]?.focus()},150)},V=m=>{ke.confirm("确认删除“"+m.data.name+"”吗？","删除标签",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{A(m)}).catch(()=>{})},A=m=>{const n=(x,g)=>{g.push(x.id);for(let I=0;I<x.children.length;I++)n(x.children[I],g)};let d=[];n(m.data,d);let w=!1;for(let x=0;x<o.allPasswordArray.length;x++){let g=o.allPasswordArray[x];for(let I=0;I<g.labels.length;I++)d.includes(g.labels[I])&&(g.labels.splice(I--,1),w=!0)}a.labelTreeRef.remove(m.data.id);for(let x=0;x<o.filterCondition.labelArray.length;x++)d.includes(o.filterCondition.labelArray[x])&&o.filterCondition.labelArray.splice(x,1);for(let x=0;x<d.length;x++)delete i[d[x]];o.passwordManager.syncStoreData(),w&&o.passwordManager.syncStoreData()},T=m=>{m.name.trim()&&b.value!==0&&(b.value=0,o.passwordManager.syncStoreData())},O=m=>{b.value===0&&a.labelTreeRef.setChecked(m,!m.checked)},N=()=>{let m=a.labelTreeRef.getCheckedKeys();m.length>0&&(o.filterCondition.favoriteId=0),o.filterCondition.labelArray=m},D=(m,n)=>{m.stopPropagation(),a.contextmenuRef.hideContextmenu();for(let d in u.value)u.value[d]&&u.value[d].handleClose()};return f({addLabel:_}),(m,n)=>{const d=de,w=me,x=he,g=qe,I=Xe,$=Gt,v=ze;return p(),E(v,{height:"calc(50vh - 106px)"},{default:l(()=>[e($,{ref:L=>t(a).labelTreeRef=L,"allow-drag":c,"check-strictly":!0,data:t(o).labelArray,"default-expanded-keys":y(),"expand-on-click-node":!1,draggable:"","node-key":"id","show-checkbox":"",style:{"background-color":"rgba(0,0,0,0)"},onCheckChange:N,onNodeDrop:n[1]||(n[1]=L=>t(o).passwordManager.syncStoreData())},{empty:l(()=>[t(o).serviceStatus===t(j).UNLOCKED?(p(),E(d,{key:0,plain:"",size:"small",type:"primary",onClick:n[0]||(n[0]=L=>_(null,"sub"))},{default:l(()=>[...n[2]||(n[2]=[r(" 创建密码标签 ",-1)])]),_:1})):S("",!0)]),default:l(({node:L,data:B})=>[e(I,{ref:C=>t(u)[B.id]=C,disabled:t(b)!==0,"hide-timeout":0,style:{width:"100%"},trigger:"contextmenu"},{dropdown:l(()=>[e(g,null,{default:l(()=>[e(x,{onClick:C=>_(L,"peer")},{default:l(()=>[...n[3]||(n[3]=[s("span",{class:"iconfont icon-peer-directory more-item",style:{color:"rgb(22 220 109)"}},null,-1),r(" 添加同级标签 ",-1)])]),_:1},8,["onClick"]),e(x,{onClick:C=>_(L,"sub")},{default:l(()=>[...n[4]||(n[4]=[s("span",{class:"iconfont icon-sub-directory more-item",style:{color:"rgb(0 147 255)"}},null,-1),r(" 添加子级标签 ",-1)])]),_:1},8,["onClick"]),e(x,{divided:"",onClick:C=>F(L)},{default:l(()=>[...n[5]||(n[5]=[s("span",{class:"iconfont icon-edit more-item",style:{color:"#FF9700","font-size":"130%"}},null,-1),r(" 修改标签 ",-1)])]),_:1},8,["onClick"]),e(x,{onClick:C=>V(L)},{default:l(()=>[...n[6]||(n[6]=[s("span",{class:"iconfont icon-delete more-item",style:{color:"rgb(255,23,23)","font-size":"130%"}},null,-1),r(" 删除标签 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:l(()=>[B.id!==t(b)?(p(),k("div",{key:0,class:"label-content",onClick:C=>O(L),onContextmenu:C=>D(C,B.id)},K(B.name),41,To)):S("",!0),B.id===t(b)?(p(),k("div",Mo,[e(w,{ref:C=>i[L.data.id]=C,modelValue:B.name,"onUpdate:modelValue":C=>B.name=C,size:"small",onBlur:C=>T(B),onKeyup:Ie(C=>T(B),["enter"])},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeyup"])])):S("",!0)]),_:2},1032,["disabled"])]),_:1},8,["data","default-expanded-keys"])]),_:1})}}}),bt=q(Io,[["__scopeId","data-v-7bfb6101"]]),Lo=J({__name:"LabelDrawer",setup(H,{expose:f}){const o=z(!1);return f({showLabelDrawer:()=>{o.value=!0}}),(u,i)=>{const b=bt,y=Qe;return p(),k("div",null,[e(y,{modelValue:t(o),"onUpdate:modelValue":i[0]||(i[0]=c=>ae(o)?o.value=c:null),direction:["xs","sm"].includes(t(Y)().value)?"btt":"rtl",size:["xs","sm"].includes(t(Y)().value)?"80%":"350px",title:"标签"},{default:l(()=>[i[1]||(i[1]=s("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},[s("span",{class:"iconfont icon-info",style:{"font-size":"100%"}}),r(" 选中标签可以对密码列表进行过滤 ")],-1)),e(b)]),_:1},8,["modelValue","direction","size"])])}}}),Uo=q(Lo,[["__scopeId","data-v-df4b86cb"]]),Bo={class:"generate-input-div"},zo={class:"generate-use-type-div"},No={class:"generate-length-div"},Oo=["onClick"],Ko={class:"iconfont icon-check-mark",style:{"font-size":"14px"}},Ho={style:{"margin-right":"10px"}},Go={style:{display:"flex","justify-content":"end"}},jo=J({__name:"PasswordForm",setup(H,{expose:f}){const o=ne(),a=Q(),u=ie(),i=z(""),b=z(!1),y=()=>({id:0,title:"",address:"",username:"",password:"",remark:"",addTime:0,updateTime:0,deleteTime:0,favoriteTime:0,favorite:!1,customFields:[],labels:[],status:je.NORMAL,bgColor:""}),c=z(y()),_=z(JSON.parse(JSON.stringify(u.setting.generateRule))),F=Me({title:[{required:!0,message:"请输入名称",trigger:"blur"}]}),V=$=>{i.value="add",c.value=y(),_.value=JSON.parse(JSON.stringify(u.setting.generateRule)),a.passwordFormDrawerVis=!0,o.passwordFormFormRef?.clearValidate(),u.setting.autoGeneratePassword&&n(),$&&gt(()=>{c.value.title=$}),setTimeout(()=>{o.passwordFormTitleRef?.focus()},300)},A=$=>{D!==null&&clearInterval(D),m!==null&&clearTimeout(m),$.name&&(c.value.title=$.name),$.address&&(c.value.address=$.address),$.username&&(c.value.username=$.username),$.password&&(c.value.password=$.password),$.remark&&(c.value.remark=$.remark)},T=$=>{i.value="edit",_.value=JSON.parse(JSON.stringify(u.setting.generateRule)),c.value=JSON.parse(JSON.stringify($)),a.passwordFormDrawerVis=!0,o.passwordFormFormRef?.clearValidate()},O=()=>{a.passwordFormDrawerVis=!1},N=($,v)=>{if(!$){v([]);return}let L=a.passwordArray.filter(B=>B.username.startsWith($)).map(B=>({value:B.username})).filter((B,C,P)=>C===P.findIndex(G=>G.value===B.value));v([...new Set(L)])};let D=null,m=null;const n=()=>{b.value=!1,D!==null&&clearInterval(D),m=setTimeout(()=>{b.value=!0,c.value.password="";const $=Tt(_.value);if(!$)return;let v=0;D=setInterval(()=>{c.value.password+=$[v++],v>=$.length&&(clearInterval(D),D=null)},500/_.value.length/4)},1)},d=()=>a.labelArray.map($=>$.id),w=()=>{c.value.customFields instanceof Array||(c.value.customFields=[]),c.value.customFields.push({key:"",val:"",hidden:!1})},x=async $=>{await $.validate(v=>{v&&(i.value==="add"?a.passwordManager.addPassword(JSON.parse(JSON.stringify(c.value))).then(L=>{L.status?(Z.success("保存成功"),a.passwordFormDrawerVis=!1):se.error({title:"系统异常",message:L.message})}):(c.value.updateTime=Date.now(),a.passwordManager.updatePassword(JSON.parse(JSON.stringify(c.value))).then(L=>{L.status?(Z.success("修改成功"),a.passwordFormDrawerVis=!1):se.error({title:"系统异常",message:L.message})})))})};f({addPasswordForm:V,editPasswordForm:T,setPasswordForm:A,closePasswordForm:O});const g=$=>{u.setting.enableShortcutKey&&$.ctrlKey&&$.key.toUpperCase()==="S"&&a.passwordFormDrawerVis&&($.preventDefault(),x(o.passwordFormFormRef))},I=$=>{c.value.customFields.splice($,1)};return $e(()=>{document.addEventListener("keydown",g)}),yt(()=>{document.removeEventListener("keydown",g)}),($,v)=>{const L=oe,B=me,C=We,P=ft,G=de,U=be,pe=ut,re=Se,Ne=Ce,Oe=pt,Ae=we,Ke=jt,Pe=Yt,He=Be,Ge=Qe;return p(),E(Ge,{modelValue:t(a).passwordFormDrawerVis,"onUpdate:modelValue":v[15]||(v[15]=M=>t(a).passwordFormDrawerVis=M),direction:["xs","sm"].includes(t(Y)().value)?"btt":"rtl","show-close":!1,size:["xs","sm"].includes(t(Y)().value)?"80%":"540px"},{header:l(()=>[e(L,{style:{"font-size":"16px"}},{default:l(()=>[r(K(t(i)==="add"?"添加密码":"修改密码"),1)]),_:1})]),default:l(()=>[e(He,{ref:M=>t(o).passwordFormFormRef=M,model:t(c),rules:t(F),autocomplete:"off","label-width":"60px"},{default:l(()=>[e(C,{label:"名称",prop:"title"},{default:l(()=>[e(B,{ref:M=>t(o).passwordFormTitleRef=M,modelValue:t(c).title,"onUpdate:modelValue":v[0]||(v[0]=M=>t(c).title=M),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{label:"地址",prop:"address"},{default:l(()=>[e(B,{modelValue:t(c).address,"onUpdate:modelValue":v[1]||(v[1]=M=>t(c).address=M),autocomplete:"new-password",clearable:"",placeholder:"https://"},null,8,["modelValue"])]),_:1}),e(C,{label:"用户名",prop:"username"},{default:l(()=>[e(P,{modelValue:t(c).username,"onUpdate:modelValue":v[2]||(v[2]=M=>t(c).username=M),"fetch-suggestions":N,autocomplete:"new-password",clearable:""},null,8,["modelValue"])]),_:1}),e(C,{label:"密码"},{default:l(()=>[e(Ae,{class:"generate-card"},{default:l(()=>[s("div",Bo,[e(B,{modelValue:t(c).password,"onUpdate:modelValue":v[4]||(v[4]=M=>t(c).password=M),autocomplete:"new-password",class:"generate-input",clearable:"",placeholder:"输入密码或随机生成"},{append:l(()=>[e(U,{content:"随机生成",placement:"top"},{default:l(()=>[e(G,{ref:M=>t(o).passwordFormGenerateBtnRef=M,class:"refresh-password",tabindex:"-1",onClick:n},{default:l(()=>[s("i",{class:_t([{"random-dice":t(b)},"iconfont icon-dice"]),onAnimationend:v[3]||(v[3]=M=>b.value=!1)},null,34)]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),e(G,{plain:"",tabindex:"-1",type:"success",onClick:v[5]||(v[5]=M=>t(h)(t(c).password))},{default:l(()=>[...v[16]||(v[16]=[r("复制",-1)])]),_:1})]),s("div",zo,[e(Ne,null,{default:l(()=>[e(re,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(pe,{modelValue:t(_).uppercase,"onUpdate:modelValue":v[6]||(v[6]=M=>t(_).uppercase=M),disabled:!t(_).lowercase&&!t(_).number&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"大写",size:"small",tabindex:"-1",onChange:n},null,8,["modelValue","disabled"])]),_:1}),e(re,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(pe,{modelValue:t(_).lowercase,"onUpdate:modelValue":v[7]||(v[7]=M=>t(_).lowercase=M),disabled:!t(_).uppercase&&!t(_).number&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"小写",size:"small",tabindex:"-1",onChange:n},null,8,["modelValue","disabled"])]),_:1}),e(re,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(pe,{modelValue:t(_).number,"onUpdate:modelValue":v[8]||(v[8]=M=>t(_).number=M),disabled:!t(_).uppercase&&!t(_).lowercase&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"数字",size:"small",tabindex:"-1",onChange:n},null,8,["modelValue","disabled"])]),_:1}),e(re,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(pe,{modelValue:t(_).symbol,"onUpdate:modelValue":v[9]||(v[9]=M=>t(_).symbol=M),disabled:!t(_).uppercase&&!t(_).lowercase&&!t(_).number,border:"",class:"generate-type-checkbox",label:"符号",size:"small",tabindex:"-1",onChange:n},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),s("div",No,[e(Oe,{ref:M=>t(o).passwordFormGenerateRuleRef=M,modelValue:t(_).length,"onUpdate:modelValue":v[10]||(v[10]=M=>t(_).length=M),max:32,min:4,"show-input-controls":!1,"show-input":"",size:"small",tabindex:"-1",onChange:n},null,8,["modelValue"])])]),_:1})]),_:1}),e(C,{label:"标签"},{default:l(()=>[e(Ke,{modelValue:t(c).labels,"onUpdate:modelValue":v[11]||(v[11]=M=>t(c).labels=M),"check-strictly":!0,data:t(a).labelArray,"default-expanded-keys":d(),props:{label:"name"},multiple:"","node-key":"id","show-checkbox":""},null,8,["modelValue","data","default-expanded-keys"])]),_:1}),e(C,{label:"备注"},{default:l(()=>[e(B,{modelValue:t(c).remark,"onUpdate:modelValue":v[12]||(v[12]=M=>t(c).remark=M),rows:2,autocomplete:"new-password",placeholder:"备注...",type:"textarea"},null,8,["modelValue"])]),_:1}),t(u).setting.passwordColor?(p(),E(C,{key:0},{default:l(()=>[(p(!0),k(X,null,fe(t(u).setting.bgColors,M=>(p(),k("div",{style:le({"background-color":t(Te)(M,t(c).bgColor===M?"0.5":"0.3"),transform:t(c).bgColor===M?"scale(1.5)":"scale(1)"}),class:"bg-color-item",onClick:xe=>t(c).bgColor===M?t(c).bgColor="":t(c).bgColor=M},[ct(s("span",Ko,null,512),[[qt,t(c).bgColor===M]])],12,Oo))),256))]),_:1})):S("",!0),e(C,{label:"自定义"},{default:l(()=>[t(c).customFields&&t(c).customFields.length>0?(p(),E(Ae,{key:0,style:{width:"100%"}},{default:l(()=>[(p(!0),k(X,null,fe(t(c).customFields,(M,xe)=>(p(),k("div",{style:le([{"margin-bottom":xe!==t(c).customFields.length-1?"15px":"0"},{display:"flex"}])},[s("div",Ho,[M.hidden?(p(),E(Pe,{key:0,style:{cursor:"pointer"},onClick:R=>M.hidden=!1},{default:l(()=>[...v[17]||(v[17]=[s("span",{class:"iconfont icon-hide"},null,-1)])]),_:1},8,["onClick"])):(p(),E(Pe,{key:1,style:{cursor:"pointer"},onClick:R=>M.hidden=!0},{default:l(()=>[...v[18]||(v[18]=[s("span",{class:"iconfont icon-show"},null,-1)])]),_:1},8,["onClick"]))]),e(B,{modelValue:M.key,"onUpdate:modelValue":R=>M.key=R,autocomplete:"off",placeholder:"名称",style:{"margin-right":"10px",flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),e(B,{modelValue:M.val,"onUpdate:modelValue":R=>M.val=R,autocomplete:"off",type:M.hidden?"password":"text",placeholder:"内容",style:{"margin-right":"10px",flex:"2"}},null,8,["modelValue","onUpdate:modelValue","type"]),e(G,{plain:"",title:"删除",type:"danger",onClick:R=>I(xe)},{default:l(()=>[...v[19]||(v[19]=[s("span",{class:"iconfont icon-clean"},null,-1)])]),_:1},8,["onClick"])],4))),256))]),_:1})):S("",!0),e(G,{plain:"",style:{"margin-top":"10px"},type:"primary",onClick:v[13]||(v[13]=M=>w())},{default:l(()=>[...v[20]||(v[20]=[r("添加自定义信息",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"]),s("div",Go,[e(G,{ref:M=>t(o).passwordFormSaveBtnRef=M,type:"primary",onClick:v[14]||(v[14]=M=>x(t(o).passwordFormFormRef))},{default:l(()=>[...v[21]||(v[21]=[r("保存 ",-1)])]),_:1},512)])]),_:1},8,["modelValue","direction","size"])}}}),Yo=q(jo,[["__scopeId","data-v-5dfb87da"]]),Jo=J({__name:"CancelAccount",setup(H,{expose:f}){const o=ne(),a=Q(),u=z(!1),i=()=>{u.value=!0},b=()=>{o.verifyPasswordRef.getAndVerify(y=>a.passwordManager.verifyPassword(y)).then(()=>{a.passwordManager.closeAccount().then(y=>{y.status?(se.success({title:"账户注销成功",message:"欢迎再次使用！"}),a.logout()):se.error({title:"账户注销失败",message:y.message})})})};return f({showCloseAccount:i}),(y,c)=>{const _=oe,F=Ve,V=de,A=ce;return p(),E(A,{modelValue:t(u),"onUpdate:modelValue":c[1]||(c[1]=T=>ae(u)?u.value=T:null),width:["xs"].includes(t(Y)().value)?"95%":"400px"},{header:l(()=>[e(_,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...c[2]||(c[2]=[s("span",{class:"iconfont icon-risk"},null,-1),r(" 注销账户 ",-1)])]),_:1})]),footer:l(()=>[e(V,{plain:"",type:"primary",onClick:c[0]||(c[0]=T=>u.value=!1)},{default:l(()=>[...c[4]||(c[4]=[r("我点错了",-1)])]),_:1}),e(V,{type:"danger",onClick:b},{default:l(()=>[...c[5]||(c[5]=[r("确认注销",-1)])]),_:1})]),default:l(()=>[e(F,{closable:!1,type:"error"},{default:l(()=>[...c[3]||(c[3]=[r("注销账户将永久删除所有密码和标签且不可恢复，确认注销账户吗？",-1)])]),_:1})]),_:1},8,["modelValue","width"])}}}),Wo=q(Jo,[["__scopeId","data-v-c6356025"]]),Xo={style:{display:"flex","justify-content":"space-between"}},qo=J({__name:"FavoriteCard",setup(H){const f=Q(),o=ie();return(a,u)=>{const i=oe,b=mt,y=be,c=wt,_=we;return t(o).setting.showFavoriteCard?(p(),E(_,{key:0,style:le({"background-color":t(f).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),class:"favorite-card"},{header:l(()=>[s("div",Xo,[s("div",null,[u[2]||(u[2]=s("span",{class:"iconfont icon-collect",style:{color:"#FF9700","margin-right":"8px","font-size":"110%"}},null,-1)),e(i,{size:"large"},{default:l(()=>[...u[1]||(u[1]=[r("收藏",-1)])]),_:1})]),s("div",null,[t(f).filterCondition.favoriteId!==0?(p(),E(y,{key:0,content:"收藏过滤生效中，点击取消",placement:"left"},{default:l(()=>[e(b,{class:"item","is-dot":""},{default:l(()=>[s("span",{class:"iconfont icon-filtration filter-icon",onClick:u[0]||(u[0]=F=>t(f).filterCondition.favoriteId=0)})]),_:1})]),_:1})):S("",!0)])])]),default:l(()=>[e(c)]),_:1},8,["style"])):S("",!0)}}}),ho=q(qo,[["__scopeId","data-v-27e83281"]]),Qo={style:{display:"flex","justify-content":"space-between"}},Zo=J({__name:"LabelCard",setup(H){const f=Q(),o=ne(),a=ie();return(u,i)=>{const b=oe,y=mt,c=be,_=bt,F=we;return t(a).setting.showLabelCard?(p(),E(F,{key:0,style:le({"background-color":t(f).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),class:"label-card",header:"标签"},{header:l(()=>[s("div",Qo,[s("div",null,[i[2]||(i[2]=s("span",{class:"iconfont icon-label",style:{color:"#409EFF","margin-right":"8px","font-size":"110%"}},null,-1)),e(b,{size:"large"},{default:l(()=>[...i[1]||(i[1]=[r("标签",-1)])]),_:1})]),s("div",null,[t(f).filterCondition.labelArray.length?(p(),E(c,{key:0,content:"标签过滤生效中，点击取消",placement:"left"},{default:l(()=>[e(y,{class:"item","is-dot":""},{default:l(()=>[s("span",{class:"iconfont icon-filtration filter-icon",onClick:i[0]||(i[0]=V=>t(o).labelTreeRef.setCheckedNodes([]))})]),_:1})]),_:1})):S("",!0)])])]),default:l(()=>[e(_,{ref:V=>t(o).labelTreeDivRef=V},null,512)]),_:1},8,["style"])):S("",!0)}}}),es=q(Zo,[["__scopeId","data-v-565bc2b0"]]),ts=""+new URL("empty-CTwObXQe.svg",import.meta.url).href,ls={class:"empty-list-div"},ns={key:0},os={key:1},ss=J({__name:"EmptyList",setup(H){const f=Q(),o=ne();return(a,u)=>{const i=de;return p(),k("div",ls,[t(f).serviceStatus===t(j).LOGGED?(p(),k("div",ns,[u[3]||(u[3]=s("span",{class:"iconfont icon-lock-close"},null,-1)),u[4]||(u[4]=s("div",{class:"status-tip"},"已锁定",-1)),e(i,{plain:"",style:{"margin-top":"30px"},type:"primary",onClick:u[0]||(u[0]=b=>t(o).verifyPasswordRef.verifyAndUnlock())},{default:l(()=>[...u[2]||(u[2]=[r(" 解锁 ",-1)])]),_:1})])):S("",!0),t(f).serviceStatus===t(j).UNLOCKED?(p(),k("div",os,[u[6]||(u[6]=s("img",{alt:"",src:ts},null,-1)),u[7]||(u[7]=s("div",{class:"status-tip"},"这里一个密码都没有",-1)),t(f).passwordArray.length===0?(p(),E(i,{key:0,plain:"",style:{"margin-top":"30px"},type:"primary",onClick:u[1]||(u[1]=b=>t(o).passwordFormRef.addPasswordForm())},{default:l(()=>[...u[5]||(u[5]=[r(" 添加我的第一个密码 ",-1)])]),_:1})):S("",!0)])):S("",!0)])}}}),xt=q(ss,[["__scopeId","data-v-46971f0f"]]),as=["onDblclick"],rs=["onClick"],is={class:"password-field-ul",style:{height:"100%"}},ds={key:0,class:"empty-card"},us={key:1},ps={key:2},fs={class:"card-username-div"},ms=["onClick"],cs={key:3},gs={key:0,class:"card-password-span"},ys={key:1,style:{position:"relative",top:"3px"}},vs=["onClick"],_s=["onClick"],ws={key:4},bs={key:5},xs={key:0},ks={key:0},Cs={key:0,class:"card-password-span"},Ss={key:1,style:{position:"relative",top:"3px"}},Vs=["onClick"],$s=["onClick"],As=["onClick"],Ps={key:1},Fs={style:{display:"flex","justify-content":"space-between"}},Ds=J({__name:"PasswordCards",setup(H){const f=Q(),o=ne(),a=ie(),u=z(0),i=z(),b=z({}),y=n=>{n.favorite=!n.favorite,n.favoriteTime=Date.now(),f.passwordManager.updatePassword(n)},c=n=>{n.password.length>40?(o.showPasswordRef.showPassword(n),u.value=0):u.value=n.id},_=n=>{ke.confirm("确认删除“"+n.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{f.passwordManager.deletePassword(n.id).then(d=>{d.status||se.error({title:"系统异常",message:d.message})})}).catch(()=>{})},F=()=>["xs"].includes(Y().value)?1:["sm","md"].includes(Y().value)?2:["lg"].includes(Y().value)?3:4,V=n=>{let d=f.isDark?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.1)";return a.setting.passwordColor?{"background-color":Te(n.bgColor,"0.06"),"border-bottom":n.bgColor?"1px solid "+Te(n.bgColor,"0.06"):"1px solid "+d}:{"background-color":"rgba(0,0,0,0)","border-bottom":"1px solid "+d}},A=()=>a.setting.dynamicBackground?{"background-color":f.isDark?"rgba(0,0,0,0.3)":"rgba(255,255,255,0.3)"}:{"background-color":f.isDark?"rgba(0,0,0,1)":"rgba(255,255,255,1)"},T=z(1),O=z(F()*5),N=()=>f.visPasswordArray.slice(0,T.value*O.value),D=()=>{const n=i.value.wrapRef;n.scrollTop+n.clientHeight>=n.scrollHeight-200&&T.value*O.value<f.visPasswordArray.length&&T.value++},m=()=>{i.value.wrapRef.addEventListener("scroll",()=>{D()})};return $e(()=>{D(),m()}),(n,d)=>{const w=be,x=oe,g=ge,I=_e,$=de,v=we,L=xt,B=ze;return p(),E(B,{ref_key:"passwordCardScrollbar",ref:i,height:"100%"},{default:l(()=>[t(f).visPasswordArray.length?(p(),k("div",{key:0,style:le([{"grid-template-columns":"repeat("+F()+", 1fr)"},{display:"grid",padding:"6px"}])},[(p(!0),k(X,null,fe(N(),C=>(p(),k("div",{onDblclick:P=>t(o).passwordFormRef.editPasswordForm(C)},[e(v,{style:le(A()),"body-style":"height: 100%;",class:"password-card"},{header:l(()=>[s("div",{style:le(V(C)),class:"password-header-div"},[s("div",null,[t(a).setting.showStrength&&C.password?(p(),E(w,{key:0,content:t(at)(C.password),placement:"top"},{default:l(()=>[s("div",{style:le({"background-color":t(rt)(C.password)}),class:"password-strength"},null,4)]),_:2},1032,["content"])):S("",!0),e(x,{style:{"font-size":"17px",color:"#555"}},{default:l(()=>[r(K(C.title),1)]),_:2},1024)]),s("div",null,[e(w,{content:C.favorite?"取消收藏":"收藏",placement:"top"},{default:l(()=>[s("span",{class:_t([C.favorite?"icon-favorited":"icon-collect","iconfont icon-favorited card-opt-icon"]),style:le([{color:C.favorite?"#FF9700":"rgb(255 151 0 / 75%)"},{"font-size":"115%"}]),onClick:P=>y(C)},null,14,rs)]),_:2},1032,["content"])])],4)]),footer:l(()=>[s("div",Fs,[e(x,{style:{"font-size":"80%"},type:"info"},{default:l(()=>[r(K(t(ve)(C.updateTime,"YYYY-MM-DD HH:mm")),1)]),_:2},1024),s("div",null,[e(w,{content:"删除",placement:"top"},{default:l(()=>[e($,{plain:"",size:"small",type:"danger",onClick:P=>_(C)},{default:l(()=>[...d[13]||(d[13]=[s("span",{class:"iconfont icon-delete card-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(w,{content:"修改",placement:"top"},{default:l(()=>[e($,{plain:"",size:"small",type:"primary",onClick:P=>t(o).passwordFormRef.editPasswordForm(C)},{default:l(()=>[...d[14]||(d[14]=[s("span",{class:"iconfont icon-edit card-opt-icon",style:{"font-size":"145%"}},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(w,{content:"分享",placement:"top"},{default:l(()=>[e($,{plain:"",size:"small",type:"success",onClick:P=>t(st)(C)},{default:l(()=>[...d[15]||(d[15]=[s("span",{class:"iconfont icon-share card-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024)])])]),default:l(()=>[s("ul",is,[!C.address&&!C.username&&!C.password&&!C.remark&&!C.labels.length&&!(C.customFields&&C.customFields.length>0)?(p(),k("li",ds,[e(x,{style:{margin:"20px 0"}},{default:l(()=>[...d[1]||(d[1]=[r(" 空空如也！ ",-1)])]),_:1})])):S("",!0),C.address?(p(),k("li",us,[e(x,{class:"password-field-name"},{default:l(()=>[...d[2]||(d[2]=[r("地址:",-1)])]),_:1}),e(x,{class:"password-field-value"},{default:l(()=>[t(nt)(C.address)?(p(),E(g,{key:0,href:C.address,target:"_blank",type:"primary"},{default:l(()=>[r(K(C.address),1)]),_:2},1032,["href"])):(p(),E(x,{key:1},{default:l(()=>[r(K(C.address),1)]),_:2},1024))]),_:2},1024),d[3]||(d[3]=s("div",{class:"clear"},null,-1))])):S("",!0),C.username?(p(),k("li",ps,[e(x,{class:"password-field-name"},{default:l(()=>[...d[4]||(d[4]=[r("用户名:",-1)])]),_:1}),e(x,{class:"password-field-value"},{default:l(()=>[s("div",fs,[r(K(C.username)+" ",1),e(w,{"hide-after":0,"show-after":300,content:"复制用户名",placement:"top"},{default:l(()=>[s("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:P=>t(h)(C.username)},null,8,ms)]),_:2},1024)])]),_:2},1024),d[5]||(d[5]=s("div",{class:"clear"},null,-1))])):S("",!0),C.password?(p(),k("li",cs,[e(x,{class:"password-field-name"},{default:l(()=>[...d[6]||(d[6]=[r("密码:",-1)])]),_:1}),e(x,{class:"password-field-value"},{default:l(()=>[t(u)===C.id?(p(),k("span",gs,K(C.password),1)):(p(),k("span",ys,"**********")),t(u)===C.id?(p(),k("span",{key:2,class:"iconfont icon-hide password-card-icon",onClick:d[0]||(d[0]=P=>u.value=0)})):(p(),k("span",{key:3,class:"iconfont icon-show password-card-icon",onClick:P=>c(C)},null,8,vs)),s("span",{class:"iconfont icon-copy password-card-icon",onClick:P=>t(h)(C.password)},null,8,_s)]),_:2},1024),d[7]||(d[7]=s("div",{class:"clear"},null,-1))])):S("",!0),C.remark?(p(),k("li",ws,[e(x,{class:"password-field-name"},{default:l(()=>[...d[8]||(d[8]=[r("备注:",-1)])]),_:1}),e(x,{class:"password-field-value"},{default:l(()=>[r(K(C.remark),1)]),_:2},1024),d[9]||(d[9]=s("div",{class:"clear"},null,-1))])):S("",!0),C.labels.length?(p(),k("li",bs,[e(x,{class:"password-field-name"},{default:l(()=>[...d[10]||(d[10]=[r("标签:",-1)])]),_:1}),e(x,{class:"password-field-value"},{default:l(()=>[(p(!0),k(X,null,fe(t(ot)(C),P=>(p(),E(I,{class:"card-label"},{default:l(()=>[r(K(P.name),1)]),_:2},1024))),256))]),_:2},1024),d[11]||(d[11]=s("div",{class:"clear"},null,-1))])):S("",!0),(p(!0),k(X,null,fe(C.customFields,(P,G)=>(p(),k(X,null,[P.key||P.val?(p(),k("li",xs,[e(x,{class:"password-field-name"},{default:l(()=>[r(K(P.key)+":",1)]),_:2},1024),e(x,{class:"password-field-value"},{default:l(()=>[P.hidden?(p(),k("span",ks,[t(b)[C.id+"_"+G]?(p(),k("span",Cs,K(P.val),1)):(p(),k("span",Ss,"**********")),t(b)[C.id+"_"+G]?(p(),k("span",{key:2,class:"iconfont icon-hide password-card-icon",onClick:U=>t(b)[C.id+"_"+G]=!1},null,8,Vs)):(p(),k("span",{key:3,class:"iconfont icon-show password-card-icon",onClick:U=>t(b)[C.id+"_"+G]=!0},null,8,$s)),s("span",{class:"iconfont icon-copy password-card-icon",onClick:U=>t(h)(P.val)},null,8,As)])):(p(),k("span",Ps,K(P.val),1))]),_:2},1024),d[12]||(d[12]=s("div",{class:"clear"},null,-1))])):S("",!0)],64))),256))])]),_:2},1032,["style"])],40,as))),256))],4)):(p(),E(L,{key:1}))]),_:1},512)}}}),Rs=q(Ds,[["__scopeId","data-v-14d86cc3"]]),Es={key:0,class:"password-card-table"},Ts={key:0,class:"username-div"},Ms={class:"username-text"},Is=["onClick"],Ls={key:0,class:"table-password-div"},Us={style:{width:"150px"}},Bs={key:0,class:"table-password-span"},zs={key:1,class:"table-password-symbol"},Ns=["onClick"],Os=["onClick"],Ks={style:{display:"flex","justify-content":"space-evenly"}},Hs=J({__name:"PasswordTable",setup(H){const f=Q(),o=ne(),a=ie(),u=z(0),i=z(),b=D=>{D.password.length>40?(o.showPasswordRef.showPassword(D),u.value=0):u.value=D.id},y=D=>{ke.confirm("确认删除“"+D.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{f.passwordManager.deletePassword(D.id).then(m=>{m.status||se.error({title:"系统异常",message:m.message})})}).catch(()=>{})},c=D=>{D.favorite?D.favorite=!1:D.favorite=!0,D.favoriteTime=Date.now(),f.passwordManager.updatePassword(D)},_=(D,m)=>{let n=et(D.password),d=et(m.password);return n>d?a.setting.sortOrder===Ee.ASC?1:-1:n<d?a.setting.sortOrder===Ee.ASC?-1:1:0},F=D=>a.setting.passwordColor&&D.row.bgColor?{"background-color":Te(D.row.bgColor,"0.1")}:{"background-color":"rgba(0,0,0,0)"},V=z(1),A=z(Math.ceil(innerHeight/62)+5),T=()=>f.visPasswordArray.slice(0,V.value*A.value),O=()=>{const D=i.value?.$el.querySelector(".el-scrollbar__wrap");D.scrollTop+D.clientHeight>=D.scrollHeight-200&&V.value*A.value<f.visPasswordArray.length&&V.value++},N=()=>{i.value.$el.querySelector(".el-scrollbar__wrap").addEventListener("scroll",()=>{O()})};return $e(()=>{O(),N()}),(D,m)=>{const n=be,d=Ue,w=ge,x=oe,g=_e,I=Le,$=xt;return t(f).visPasswordArray.length?(p(),k("div",Es,[e(I,{ref_key:"passwordTableRef",ref:i,"cell-style":{"background-color":"rgba(0,0,0,0)"},data:T(),"header-cell-style":{"background-color":"rgba(0,0,0,0)"},"header-row-style":{"background-color":"rgba(0,0,0,0)"},"row-style":F,height:"calc(100vh - 120px)",style:{"background-color":"rgba(0,0,0,0)"}},{default:l(()=>[t(a).setting.showStrength?(p(),E(d,{key:0,"sort-method":_,prop:"strength",sortable:"",width:"30px"},{default:l(v=>[e(n,{content:t(at)(v.row.password),placement:"top"},{default:l(()=>[s("div",{style:le({"background-color":t(rt)(v.row.password)}),class:"password-strength"},null,4)]),_:2},1032,["content"])]),_:1})):S("",!0),e(d,{label:"名称","min-width":"130px",prop:"title",sortable:""}),e(d,{label:"地址","min-width":"200px",prop:"address"},{default:l(v=>[s("div",null,[t(nt)(v.row.address)?(p(),E(w,{key:0,href:v.row.address,class:"address-link",target:"_blank",type:"primary"},{default:l(()=>[r(K(v.row.address),1)]),_:2},1032,["href"])):(p(),E(x,{key:1},{default:l(()=>[r(K(v.row.address),1)]),_:2},1024))])]),_:1}),e(d,{label:"用户名","min-width":"180px",prop:"username",sortable:""},{default:l(v=>[v.row.username?(p(),k("div",Ts,[s("div",Ms,K(v.row.username),1),s("div",null,[s("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:L=>t(h)(v.row.username)},null,8,Is)])])):S("",!0)]),_:1}),e(d,{label:"密码",prop:"password",width:"220px"},{default:l(v=>[v.row.password?(p(),k("div",Ls,[s("div",Us,[t(u)===v.row.id?(p(),k("span",Bs,K(v.row.password),1)):S("",!0),t(u)!==v.row.id?(p(),k("span",zs,"*******")):S("",!0)]),s("div",null,[t(u)===v.row.id?(p(),k("span",{key:0,class:"iconfont icon-hide password-row-icon",onClick:m[0]||(m[0]=L=>u.value=0)})):S("",!0),t(u)!==v.row.id?(p(),k("span",{key:1,class:"iconfont icon-show password-row-icon",onClick:L=>b(v.row)},null,8,Ns)):S("",!0),s("span",{class:"iconfont icon-copy password-row-icon",onClick:L=>t(h)(v.row.password)},null,8,Os)])])):S("",!0)]),_:1}),t(a).setting.showTimeForTable==="addTime"?(p(),E(d,{key:1,formatter:v=>t(ve)(v.addTime,"YYYY-MM-DD HH:mm"),label:"添加时间","min-width":"150px",prop:"addTime",sortable:""},null,8,["formatter"])):S("",!0),t(a).setting.showTimeForTable==="updateTime"?(p(),E(d,{key:2,formatter:v=>t(ve)(v.updateTime,"YYYY-MM-DD HH:mm"),label:"修改时间","min-width":"150px",prop:"updateTime",sortable:""},null,8,["formatter"])):S("",!0),t(a).setting.showLabelForTable?(p(),E(d,{key:3,label:"标签","min-width":"110px",prop:"labels"},{default:l(v=>[(p(!0),k(X,null,fe(t(ot)(v.row),L=>(p(),E(g,{class:"table-label"},{default:l(()=>[r(K(L.name),1)]),_:2},1024))),256))]),_:1})):S("",!0),e(d,{label:"备注","min-width":"130px",prop:"remark"}),e(d,{label:"操作","min-width":"145px",width:"150px"},{default:l(v=>[s("div",Ks,[e(n,{content:"分享",placement:"top"},{default:l(()=>[e(w,{underline:!1,type:"success",onClick:L=>t(st)(v.row)},{default:l(()=>[...m[1]||(m[1]=[s("span",{class:"iconfont icon-share table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(n,{content:"修改",placement:"top"},{default:l(()=>[e(w,{underline:!1,type:"primary",onClick:L=>t(o).passwordFormRef.editPasswordForm(v.row)},{default:l(()=>[...m[2]||(m[2]=[s("span",{class:"iconfont icon-edit table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(n,{content:v.row.favorite?"取消收藏":"收藏",placement:"top"},{default:l(()=>[v.row.favorite?(p(),E(w,{key:0,underline:!1,type:"primary",onClick:L=>c(v.row)},{default:l(()=>[...m[3]||(m[3]=[s("span",{class:"iconfont icon-favorited table-opt-icon",style:{color:"#FF9700"}},null,-1)])]),_:1},8,["onClick"])):S("",!0),v.row.favorite?S("",!0):(p(),E(w,{key:1,underline:!1,type:"primary",onClick:L=>c(v.row)},{default:l(()=>[...m[4]||(m[4]=[s("span",{class:"iconfont icon-collect table-opt-icon",style:{color:"#FF9700"}},null,-1)])]),_:1},8,["onClick"]))]),_:2},1032,["content"]),e(n,{content:"删除",placement:"top"},{default:l(()=>[e(w,{underline:!1,type:"danger",onClick:L=>y(v.row)},{default:l(()=>[...m[5]||(m[5]=[s("span",{class:"iconfont icon-delete table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024)])]),_:1})]),_:1},8,["data"])])):(p(),E($,{key:1}))}}}),Gs=q(Hs,[["__scopeId","data-v-2b6dba48"]]),js=J({__name:"FilteringTip",setup(H){const f=Q(),o=ne(),a=ie(),u=()=>f.filterCondition.favoriteId?!a.setting.showFavoriteCard||["xs","sm"].includes(Y().value):!1,i=()=>f.filterCondition.labelArray.length===0?!1:!a.setting.showLabelCard||["xs","sm"].includes(Y().value);return(b,y)=>{const c=Ve;return p(),k(X,null,[u()?(p(),k("div",{key:0,style:le({"background-color":t(f).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[e(c,{center:"","close-text":"取消筛选","show-icon":"",title:"现在显示的是根据收藏筛选后的密码",type:"warning",onClose:y[0]||(y[0]=_=>t(f).filterCondition.favoriteId=0)})],4)):S("",!0),i()?(p(),k("div",{key:1,style:le({"background-color":t(f).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[e(c,{center:"","close-text":"取消筛选","show-icon":"",title:"现在显示的是根据标签筛选后的密码",type:"warning",onClose:y[1]||(y[1]=_=>t(o).labelTreeRef.setCheckedNodes([]))})],4)):S("",!0)],64)}}}),Ys={class:"password-card-header"},Js={class:"password-count"},Ws={style:{display:"flex"}},Xs={key:0,class:"clear-history",style:{"text-align":"center","margin-left":"-20px","margin-right":"-20px"}},qs={key:1},hs={style:{display:"flex"}},Qs=J({__name:"PasswordHeader",setup(H){const f=Q(),o=ne(),a=ll(),u=ie(),i=z(""),b=z(!1),y=x=>{f.filterCondition.searchText=i.value},c=()=>{if(!i.value||!i.value.trim())return;let x=[],g=localStorage.getItem("searchHistory");g&&(x=JSON.parse(g));let I=x.findIndex($=>$===i.value.trim());I>-1&&x.splice(I,1),x.unshift(i.value),x.length>100&&(x=x.splice(0,100)),localStorage.setItem("searchHistory",JSON.stringify(x))},_=(x,g)=>{if(!x){g([]);return}let I=localStorage.getItem("searchHistory");if(I){let $=JSON.parse(I);if($&&$.length>0){let v=x?$.filter(B=>B.includes(x)):$;v=v.slice(0,5);let L=v.map((B=>({value:B})));L.push({value:i.value,type:"cleanHistory"}),g(L);return}}g([])},F=()=>{localStorage.removeItem("searchHistory")};let V=null;const A=()=>{if(V&&clearTimeout(V),i.value===""&&!b.value){y();return}V=setTimeout(function(){y()},200)},T=()=>{o.passwordFormRef.addPasswordForm()},O=()=>{o.verifyPasswordRef.verifyAndUnlock()},N=()=>{f.passwordManager.lock()},D=x=>{f.setTopicMode(x)},m=()=>{o.recycleBinRef.openRecycleBin()},n=()=>{a.push("/note")},d=()=>{location.href="https://home.password-xl.cn"},w=()=>{o.aiAddPasswordRef.show()};return(x,g)=>{const I=oe,$=de,v=ft,L=be,B=he,C=qe,P=Xe,G=Je;return p(),k(X,null,[s("div",Ys,[s("div",null,[t(u).setting.showPasswordStatistics?(p(),E(I,{key:0,class:"hidden-sm-and-down password-title",style:{width:"300px"}},{default:l(()=>[t(f).visPasswordArray.length>0?(p(),k(X,{key:0},[g[13]||(g[13]=s("span",null," 共 ",-1)),s("span",Js,K(t(f).visPasswordArray.length),1),g[14]||(g[14]=s("span",null," 个密码 ",-1))],64)):t(f).passwordArray.length?S("",!0):(p(),k(X,{key:1},[r(" 没有保存的密码 ")],64))]),_:1})):(p(),k("div",{key:1,class:"hidden-xs-only",style:{height:"32px"},onClick:d},[...g[15]||(g[15]=[s("img",{alt:"",src:nl,style:{height:"32px",cursor:"pointer"}},null,-1)])]))]),s("div",Ws,[e(v,{ref:U=>t(o).searchInputRef=U,modelValue:t(i),"onUpdate:modelValue":g[1]||(g[1]=U=>ae(i)?i.value=U:null),debounce:10,disabled:t(f).serviceStatus!==t(j).UNLOCKED,"fetch-suggestions":_,class:"search-input","popper-class":"header-autocomplete-suggestion",clearable:"",placeholder:"搜索..",onBlur:g[2]||(g[2]=U=>{b.value=!1,c()}),onChange:g[3]||(g[3]=U=>y()),onClear:g[4]||(g[4]=U=>y()),onCompositionend:g[5]||(g[5]=U=>b.value=!1),onCompositionstart:g[6]||(g[6]=U=>b.value=!0),onKeyup:[A,g[7]||(g[7]=Ie(U=>y(),["enter","native"]))]},{default:l(({item:U})=>[U.type==="cleanHistory"?(p(),k("div",Xs,[s("span",{class:"clear-history-text",onClick:F},"清除搜索历史")])):(p(),k("div",qs,K(U.value),1))]),append:l(()=>[e($,{class:"search-btn",onClick:g[0]||(g[0]=U=>y("searchBtn"))},{default:l(()=>[...g[16]||(g[16]=[s("span",{class:"iconfont icon-search search-input-icon"},null,-1)])]),_:1})]),_:1},8,["modelValue","disabled"])]),s("div",hs,[t(u).setting.enableAiAdd&&t(Re)()?(p(),E($,{key:0,ref:U=>t(o).aiCreatePasswordBtnRef=U,disabled:t(f).serviceStatus!==t(j).UNLOCKED,class:"ai-add-password-btn",plain:"",type:"primary",onClick:w},{default:l(()=>[...g[17]||(g[17]=[r(" Ai ",-1)])]),_:1},8,["disabled"])):S("",!0),e($,{ref:U=>t(o).createPasswordBtnRef=U,disabled:t(f).serviceStatus!==t(j).UNLOCKED,class:"add-password-btn",plain:"",type:"primary",onClick:T},{default:l(()=>[...g[18]||(g[18]=[r(" 添加 ",-1)])]),_:1},8,["disabled"]),t(f).serviceStatus===t(j).UNLOCKED&&!["xs","sm"].includes(t(Y)().value)&&t(u).setting.showNote?(p(),E(L,{key:1,content:"打开笔记"},{default:l(()=>[e($,{class:"to-note-btn",plain:"",onClick:n},{default:l(()=>[...g[19]||(g[19]=[s("span",{class:"iconfont icon-note",style:{"font-size":"125%",transform:"scaleX(1.1)",color:"#67C23A"}},null,-1)])]),_:1})]),_:1})):S("",!0),t(f).serviceStatus===t(j).UNLOCKED?(p(),E(L,{key:2,content:"锁定"},{default:l(()=>[e($,{class:"lock-btn",plain:"",onClick:N},{default:l(()=>[s("span",{style:le([{color:t(f).isDark?"#ccc":"#666"},{"font-size":"120%"}]),class:"iconfont icon-lock"},null,4)]),_:1})]),_:1})):S("",!0),t(f).serviceStatus===t(j).LOGGED?(p(),E(L,{key:3,content:"解锁"},{default:l(()=>[e($,{class:"unlock-btn",plain:"",onClick:O},{default:l(()=>[s("span",{style:le([{color:t(f).isDark?"#ccc":"#666"},{"font-size":"120%"}]),class:"iconfont icon-unlock"},null,4)]),_:1})]),_:1})):S("",!0),e(P,{trigger:"click"},{dropdown:l(()=>[e(C,null,{default:l(()=>[["xs","sm"].includes(t(Y)().value)||!t(u).setting.showLabelCard?(p(),E(B,{key:0,disabled:t(f).serviceStatus!==t(j).UNLOCKED,onClick:t(o).labelDrawer?.showLabelDrawer},{default:l(()=>[...g[21]||(g[21]=[s("span",{class:"iconfont icon-label menu-item",style:{color:"#409EFF"}},null,-1),r(" 标签 ",-1)])]),_:1},8,["disabled","onClick"])):S("",!0),["xs","sm"].includes(t(Y)().value)||!t(u).setting.showFavoriteCard?(p(),E(B,{key:1,disabled:t(f).serviceStatus!==t(j).UNLOCKED,onClick:t(o).favoriteDrawer?.showFavoriteDrawer},{default:l(()=>[...g[22]||(g[22]=[s("span",{class:"iconfont icon-collect menu-item",style:{color:"#FF9700"}},null,-1),r(" 收藏 ",-1)])]),_:1},8,["disabled","onClick"])):S("",!0),t(u).setting.passwordDisplayMode===t(ee).TABLE?(p(),E(B,{key:2,divided:["xs","sm"].includes(t(Y)().value)||!t(u).setting.showFavoriteCard||!t(u).setting.showLabelCard,onClick:g[8]||(g[8]=U=>t(u).setting.passwordDisplayMode=t(ee).CARD)},{default:l(()=>[...g[23]||(g[23]=[s("span",{class:"iconfont icon-card menu-item",style:{color:"#67c23a"}},null,-1),r(" 卡片视图 ",-1)])]),_:1},8,["divided"])):S("",!0),t(u).setting.passwordDisplayMode===t(ee).CARD?(p(),E(B,{key:3,onClick:g[9]||(g[9]=U=>t(u).setting.passwordDisplayMode=t(ee).TABLE)},{default:l(()=>[...g[24]||(g[24]=[s("span",{class:"iconfont icon-list menu-item",style:{color:"#409eff"}},null,-1),r(" 列表视图 ",-1)])]),_:1})):S("",!0),e(B,{disabled:t(f).serviceStatus!==t(j).UNLOCKED,divided:"",onClick:n},{default:l(()=>[...g[25]||(g[25]=[s("span",{class:"iconfont icon-note menu-item",style:{color:"#67C23A",transform:"scaleX(1.1)"}},null,-1),r(" 打开笔记 ",-1)])]),_:1},8,["disabled"]),t(f).isDark?S("",!0):(p(),E(B,{key:4,divided:["xs","sm"].includes(t(Y)().value),onClick:g[10]||(g[10]=U=>D(t(ue).DARK))},{default:l(()=>[...g[26]||(g[26]=[s("span",{class:"iconfont icon-dark-mode menu-item",style:{color:"rgb(96 0 255)"}},null,-1),r(" 深色主题 ",-1)])]),_:1},8,["divided"])),t(f).isDark?(p(),E(B,{key:5,divided:["xs","sm"].includes(t(Y)().value),onClick:g[11]||(g[11]=U=>D(t(ue).LIGHT))},{default:l(()=>[...g[27]||(g[27]=[s("span",{class:"iconfont icon-right-mode menu-item",style:{color:"rgb(186 255 0)"}},null,-1),r(" 明亮主题 ",-1)])]),_:1},8,["divided"])):S("",!0),e(B,{disabled:t(f).serviceStatus!==t(j).UNLOCKED,divided:"",onClick:t(o).settingRef?.openSetting},{default:l(()=>[...g[28]||(g[28]=[s("span",{class:"iconfont icon-setting menu-item",style:{color:"#409EFF"}},null,-1),r(" 系统设置 ",-1)])]),_:1},8,["disabled","onClick"]),e(B,{disabled:t(f).serviceStatus!==t(j).UNLOCKED,onClick:m},{default:l(()=>[...g[29]||(g[29]=[s("span",{class:"iconfont icon-recycle-bin menu-item",style:{color:"#E6A23C"}},null,-1),r(" 回收站 ",-1)])]),_:1},8,["disabled"]),e(B,{divided:"",onClick:g[12]||(g[12]=U=>t(f).logout())},{default:l(()=>[...g[30]||(g[30]=[s("span",{class:"iconfont icon-exit menu-item",style:{color:"#F56C6C"}},null,-1),r(" 退出登录 ",-1)])]),_:1})]),_:1})]),default:l(()=>[e($,{style:le({color:t(f).isDark?"#ccc":"#666"}),class:"menu-btn",plain:""},{default:l(()=>[...g[20]||(g[20]=[s("span",{class:"iconfont icon-menu",style:{"font-size":"130%"}},null,-1)])]),_:1},8,["style"])]),_:1})])]),e(G,{class:"password-head-body-line"})],64)}}}),Zs=q(Qs,[["__scopeId","data-v-76794967"]]),ea={id:"contextmenu-ul"},ta=J({__name:"Contextmenu",setup(H,{expose:f}){const o=Q(),a=ne(),u=ie(),i=z({show:!1,x:0,y:0}),b=A=>{A.preventDefault(),i.value.x=A.clientX,i.value.y=A.clientY,i.value.show=!0},y=()=>{i.value.show=!1},c=A=>{u.setting.passwordDisplayMode=A,o.passwordManager.syncSetting(),i.value.show=!1},_=()=>{if(o.serviceStatus===j.UNLOCKED){a.passwordFormRef.addPasswordForm(),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.passwordFormRef.addPasswordForm(),i.value.show=!1})},F=()=>{if(o.serviceStatus===j.UNLOCKED){a.recycleBinRef.openRecycleBin(),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.recycleBinRef.openRecycleBin(),i.value.show=!1})},V=()=>{if(o.serviceStatus===j.UNLOCKED){a.labelTreeDivRef.addLabel(null,"sub"),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.labelTreeDivRef.addLabel(null,"sub"),i.value.show=!1})};return f({showContextmenu:b,hideContextmenu:y}),(A,T)=>{const O=we;return t(i).show?(p(),k("div",{key:0,style:le({top:t(i).y+"px",left:t(i).x+"px"}),class:"contextmenu-div"},[e(O,null,{default:l(()=>[s("ul",ea,[s("li",{onClick:_},[...T[4]||(T[4]=[s("span",{class:"iconfont icon-create",style:{color:"#409EFF"}},null,-1),r(" 创建密码 ",-1)])]),t(o).serviceStatus===t(j).LOGGED?(p(),k("li",{key:0,onClick:T[0]||(T[0]=N=>t(a).verifyPasswordRef.verifyAndUnlock())},[...T[5]||(T[5]=[s("span",{class:"iconfont icon-lock",style:{color:"#E6A23C"}},null,-1),r(" 解锁 ",-1)])])):S("",!0),t(o).serviceStatus===t(j).UNLOCKED?(p(),k("li",{key:1,onClick:T[1]||(T[1]=N=>t(o).passwordManager.lock())},[...T[6]||(T[6]=[s("span",{class:"iconfont icon-unlock",style:{color:"#E6A23C"}},null,-1),r(" 锁定 ",-1)])])):S("",!0),t(u).setting.passwordDisplayMode===t(ee).CARD?(p(),k("li",{key:2,onClick:T[2]||(T[2]=N=>c(t(ee).TABLE))},[...T[7]||(T[7]=[s("span",{class:"iconfont icon-list",style:{color:"#67C23A"}},null,-1),r(" 表格视图 ",-1)])])):S("",!0),t(u).setting.passwordDisplayMode===t(ee).TABLE?(p(),k("li",{key:3,onClick:T[3]||(T[3]=N=>c(t(ee).CARD))},[...T[8]||(T[8]=[s("span",{class:"iconfont icon-card",style:{color:"#67C23A"}},null,-1),r(" 卡片视图 ",-1)])])):S("",!0),s("li",{onClick:V},[...T[9]||(T[9]=[s("span",{class:"iconfont icon-label",style:{color:"#409EFF"}},null,-1),r(" 添加标签 ",-1)])]),s("li",{onClick:F},[...T[10]||(T[10]=[s("span",{class:"iconfont icon-recycle-bin",style:{color:"#F56C6C"}},null,-1),r(" 回收站 ",-1)])])])]),_:1})],4)):S("",!0)}}}),la=q(ta,[["__scopeId","data-v-15310a4c"]]),na={style:{height:"calc(100vh - 84px)"}},oa={style:{height:"calc(100vh - 60px)"}},sa=J({__name:"IndexPage",setup(H){const f=lt(()=>tt(()=>import("./ExportExcel-CDrqyMme.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),o=lt(()=>tt(()=>import("./ImportExcel-BtQnwGPW.js"),__vite__mapDeps([11,3,2,4,5,6,7,10,1,8,9,12]),import.meta.url)),a=Q(),u=ne(),i=ie();return $e(()=>{a.serviceStatus===j.LOGGED?(u.verifyPasswordRef.verifyAndUnlock(),i.setting.autoUnlock||localStorage.removeItem("mainPassword")):a.serviceStatus===j.WAIT_INIT&&u.setPasswordRef.setMainPassword()}),["xs","sm"].includes(Y().value)&&i.setting.passwordDisplayMode===ee.TABLE&&(i.setting.passwordDisplayMode=ee.CARD),(b,y)=>{const c=Zs,_=js,F=Gs,V=Rs,A=we,T=Se,O=es,N=ho,D=Ce,m=Wo,n=Yo,d=Uo,w=Eo,x=$o,g=xo,I=yo,$=mo,v=fl,L=pl,B=dl,C=il;return p(),k(X,null,[["xs","sm"].includes(t(Y)().value)?(p(),k("div",{key:1,style:le([{"background-color":t(a).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"},{"backdrop-filter":"blur(50px)",height:"100vh"}])},[e(c),e(_),t(i).setting.passwordDisplayMode===t(ee).TABLE?(p(),E(F,{key:0})):S("",!0),s("div",oa,[t(i).setting.passwordDisplayMode===t(ee).CARD?(p(),E(V,{key:0})):S("",!0)])],4)):(p(),k("div",{key:0,onClick:y[0]||(y[0]=P=>t(u).contextmenuRef&&t(u).contextmenuRef.hideContextmenu()),onContextmenu:y[1]||(y[1]=vt(P=>t(u).contextmenuRef.showContextmenu(P),["prevent"]))},[e(D,{class:"password-body-row"},{default:l(()=>[e(T,{lg:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:20},md:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:18},xl:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:21}},{default:l(()=>[e(A,{style:le({"background-color":t(a).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),"body-class":"password-card-body",class:"password-card"},{default:l(()=>[e(c),e(_),t(i).setting.passwordDisplayMode===t(ee).TABLE?(p(),E(F,{key:0})):S("",!0),s("div",na,[t(i).setting.passwordDisplayMode===t(ee).CARD?(p(),E(V,{key:0})):S("",!0)])]),_:1},8,["style"])]),_:1},8,["lg","md","xl"]),t(i).setting.showLabelCard||t(i).setting.showFavoriteCard?(p(),E(T,{key:0,lg:{span:4},md:{span:6},xl:{span:3}},{default:l(()=>[e(O),e(N)]),_:1})):S("",!0)]),_:1})],32)),e(m,{ref:P=>t(u).cancelAccountRef=P},null,512),e(n,{ref:P=>t(u).passwordFormRef=P},null,512),e(d,{ref:P=>t(u).labelDrawer=P},null,512),e(w,{ref:P=>t(u).favoriteDrawer=P},null,512),e(x,{ref:P=>t(u).recycleBinRef=P},null,512),e(g,{ref:P=>t(u).backupAndRecoveryRef=P},null,512),e(I,{ref:P=>t(u).setPasswordRef=P},null,512),e($,{ref:P=>t(u).settingRef=P},null,512),e(v,{ref:P=>t(u).tourRef=P},null,512),e(L,{ref:P=>t(u).showPasswordRef=P},null,512),t(i).visSetting?(p(),k(X,{key:2},[e(t(f),{ref:P=>t(u).exportExcelRef=P},null,512),e(t(o),{ref:P=>t(u).importExcelRef=P},null,512)],64)):S("",!0),e(la,{ref:P=>t(u).contextmenuRef=P},null,512),e(B),e(C,{ref:P=>t(u).aiImportRef=P},null,512)],64)}}}),ga=q(sa,[["__scopeId","data-v-4b255405"]]);export{ga as default};
