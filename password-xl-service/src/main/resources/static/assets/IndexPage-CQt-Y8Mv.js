const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ExportExcel-CJe5fQmN.js","./index-DYm6R2xW.js","./@vue-PmY8Mkr0.js","./element-plus-DUvDCZNl.js","./vendor-BvEI7uIN.js","./ali-oss-CN0NZiD5.js","./@element-plus-CuK1irWX.js","./element-plus-BUj08D2o.css","./cos-js-sdk-v5-WX9VGj_f.js","./index-DTA_oh_4.css","./exceljs-B9bSeXl2.js","./ImportExcel-BR02dbIb.js","./ImportExcel-BviHWDVL.css"])))=>i.map(i=>d[i]);
import{u as Z,a as ne,b as ae,S as K,P as Q,T as ue,c as q,d as G,_ as X,e as Ke,g as ce,f as Ee,h as _t,i as wt,M as Pe,j as bt,k as ge,l as xt,m as Qe,n as Re,o as kt,p as Ct,q as St,r as Vt,s as $t,t as De,v as tt,w as lt,x as nt,y as ot,z as st,A as Ze,B as he}from"./index-DYm6R2xW.js";import{d as Y,H as Ce,R as at,S as Te,n as E,v as l,D as e,u as t,a as s,B as r,C as O,o as m,r as U,c as $,F as W,j as se,z as F,ax as At,a1 as pe,I as J,a3 as Ft,a0 as Pt,P as rt,aa as Me,y as it,M as Rt,Q as te,x as Et,E as Dt,ay as et}from"./@vue-PmY8Mkr0.js";import{d as ye,c as oe,e as de,f as ve,k as Tt,l as Mt,i as fe,m as Se,n as Ve,o as He,p as Ge,q as Lt,r as It,s as Ut,t as Bt,u as $e,w as _e,g as Le,x as Ye,h as je,y as dt,A as ut,B as Ie,C as zt,D as Nt,F as Ot,G as pt,H as ft,a as ke,E as ie,b as le,I as Je,J as We,K as Xe,L as qe,M as Kt,N as mt,O as we,P as be,Q as Ht,R as ct}from"./element-plus-DUvDCZNl.js";import{_ as Gt,a as Yt,b as jt,c as Jt}from"./local-DhpgDmJL.js";import{a0 as Wt,X as Xt}from"./vendor-BvEI7uIN.js";import{_ as qt}from"./logo-B_J9w6Yt.js";import"./cos-js-sdk-v5-WX9VGj_f.js";import"./ali-oss-CN0NZiD5.js";import"./@element-plus-CuK1irWX.js";const Qt=Y({__name:"ShortcutKey",setup(H){const f=Z(),o=ne(),a=ae(),p=v=>{a.setting.enableShortcutKey&&(v.ctrlKey&&v.key.toUpperCase()==="F"?(v.preventDefault(),o.searchInputRef?.focus()):v.altKey&&v.key.toUpperCase()==="N"?(v.preventDefault(),o.passwordFormRef.addPasswordForm()):v.altKey&&v.key.toUpperCase()==="L"?(v.preventDefault(),f.serviceStatus===K.LOGGED?o.verifyPasswordRef.verifyAndUnlock():f.passwordManager.lock()):v.altKey&&v.key.toUpperCase()==="V"?(v.preventDefault(),a.setting.passwordDisplayMode===Q.CARD?i(Q.TABLE):i(Q.CARD)):v.altKey&&v.key.toUpperCase()==="T"&&(v.preventDefault(),f.isDark?x(ue.LIGHT):x(ue.DARK)))},i=v=>{a.setting.passwordDisplayMode=v,f.passwordManager.syncSetting()},x=v=>{f.setTopicMode(v)};return Ce(()=>{document.addEventListener("keydown",p)}),at(()=>{document.removeEventListener("keydown",p)}),(v,k)=>null}}),Zt=Y({__name:"ShowPassword",setup(H,{expose:f}){const o=Te({alertVisible:!1,content:"",title:""});return f({showPassword:p=>{o.content=p.password,o.title=p.title,o.alertVisible=!0}}),(p,i)=>{const x=oe,v=ye,k=de,g=ve;return m(),E(g,{modelValue:t(o).alertVisible,"onUpdate:modelValue":i[2]||(i[2]=_=>t(o).alertVisible=_),width:["xs","sm"].includes(t(G)().value)?"95%":"40%","append-to-body":""},{header:l(()=>[e(x,{size:"large",style:{"user-select":"none"}},{default:l(()=>[i[3]||(i[3]=s("span",{class:"iconfont icon-show-password"},null,-1)),r(" "+O(t(o).title),1)]),_:1})]),footer:l(()=>[e(x,{class:"password-length-tip",type:"info"},{default:l(()=>[...i[4]||(i[4]=[s("span",{class:"iconfont icon-info"},null,-1),r(" 密码长度大于40会以弹框形式展示密码 ",-1)])]),_:1}),e(k,{plain:"",type:"success",onClick:i[1]||(i[1]=_=>{t(q)(t(o).content),t(o).alertVisible=!1})},{default:l(()=>[...i[5]||(i[5]=[r(" 一键复制 ",-1)])]),_:1})]),default:l(()=>[e(v,{modelValue:t(o).content,"onUpdate:modelValue":i[0]||(i[0]=_=>t(o).content=_),rows:10,readonly:"",type:"textarea"},null,8,["modelValue"])]),_:1},8,["modelValue","width"])}}}),ht=X(Zt,[["__scopeId","data-v-f516dc24"]]),el=Y({__name:"NoviceGuide",setup(H,{expose:f}){const o=ne(),a=ae(),p=U(!1),i=U(!1),x=U(!1),v=()=>{p.value=!0},k=()=>{o.passwordFormRef.addPasswordForm("示例密码"),setTimeout(()=>{i.value=!0,o.passwordFormFormRef.clearValidate(),setTimeout(()=>{o.passwordFormTitleRef.focus()},100)},350)},g=()=>{o.passwordFormRef.closePasswordForm(),setTimeout(()=>{x.value=!0},350)};return f({startTour:v}),(_,V)=>{const A=oe,D=Mt,z=Tt;return m(),$(W,null,[e(z,{modelValue:t(p),"onUpdate:modelValue":V[0]||(V[0]=B=>se(p)?p.value=B:null)},{indicators:l(()=>[...V[4]||(V[4]=[])]),default:l(()=>[e(D,{"next-button-props":{onClick:k,children:"下一步"},target:t(o).createPasswordBtnRef?.$el,title:"欢迎使用 password-XL"},{default:l(()=>[e(A,null,{default:l(()=>[...V[3]||(V[3]=[r("您可以点击这里创建密码",-1)])]),_:1})]),_:1},8,["next-button-props","target"])]),_:1},8,["modelValue"]),e(z,{modelValue:t(i),"onUpdate:modelValue":V[1]||(V[1]=B=>se(i)?i.value=B:null),"target-area-clickable":!1,"z-index":9e3},{indicators:l(({current:B,total:I})=>[e(A,null,{default:l(()=>[r(O(B+1)+" / "+O(I),1)]),_:2},1024)]),default:l(()=>[e(D,{"next-button-props":{children:"下一步"},target:t(o).passwordFormTitleRef?.$el,title:"密码名称"},{default:l(()=>[e(A,null,{default:l(()=>[...V[5]||(V[5]=[r("在这里输入密码名称",-1)])]),_:1})]),_:1},8,["target"]),e(D,{"next-button-props":{children:"下一步"},target:t(o).passwordFormGenerateBtnRef?.$el,title:"随机密码"},{default:l(()=>[e(A,null,{default:l(()=>[...V[6]||(V[6]=[r("点击这里可以随机生成密码，当然您也可以在输入框直接粘贴您已有的密码",-1)])]),_:1})]),_:1},8,["target"]),e(D,{"next-button-props":{children:"下一步"},target:t(o).passwordFormGenerateRuleRef?.$el,title:"控制生成规则"},{default:l(()=>[e(A,null,{default:l(()=>[...V[7]||(V[7]=[r("拖动这里控制随机密码的长度",-1)])]),_:1})]),_:1},8,["target"]),e(D,{"next-button-props":{children:"好的",onClick:g},target:t(o).passwordFormSaveBtnRef?.$el,title:"保存"},{default:l(()=>[e(A,null,{default:l(()=>[...V[8]||(V[8]=[r("最后，点击这里即可保存密码",-1)])]),_:1})]),_:1},8,["next-button-props","target"])]),_:1},8,["modelValue"]),e(z,{modelValue:t(x),"onUpdate:modelValue":V[2]||(V[2]=B=>se(x)?x.value=B:null),"z-index":9e3},{indicators:l(()=>[...V[11]||(V[11]=[])]),default:l(()=>[t(a).setting.passwordDisplayMode===t(Q).TABLE?(m(),E(D,{key:0,"next-button-props":{children:"好的"},target:t(o).displayModeCardRef?.$el,title:"密码视图"},{default:l(()=>[e(A,null,{default:l(()=>[...V[9]||(V[9]=[r("点击这里可以切换卡片视图",-1)])]),_:1})]),_:1},8,["target"])):F("",!0),t(a).setting.passwordDisplayMode===t(Q).CARD?(m(),E(D,{key:1,"next-button-props":{children:"好的"},target:t(o).displayModeTableRef?.$el,title:"密码视图"},{default:l(()=>[e(A,null,{default:l(()=>[...V[10]||(V[10]=[r("点击这里可以切换表格视图",-1)])]),_:1})]),_:1},8,["target"])):F("",!0)]),_:1},8,["modelValue"])],64)}}}),tl={};function ll(H,f){return f[0]||(f[0]=At('<h2>版权声明（Copyright Notice）</h2><p>版权所有 © [2024] [黄艳鹏]</p><p>本开源项目由 [黄艳鹏] 开发，现以MPL-2.0许可协议发布。</p><h3>许可协议（License）</h3><p style="text-indent:20px;">本项目的源代码可以在MPL-2.0许可协议下使用。主要条款如下：</p><ol><li>个人或组织可以免费使用、复制和修改本项目的源代码。</li><li>禁止将本项目的源代码或修改后的代码用于任何形式的商业用途，包括但不限于售卖、租赁或其他形式的盈利活动。</li><li>禁止分发本项目的源代码或修改后的代码给第三方。</li></ol><h3>免责声明（Disclaimer）</h3><p style="text-indent:20px;"> 本项目的源代码按“现状”提供，使用者需自行承担使用风险。在任何情况下，原作者或版权持有者对因使用本项目源代码而产生的任何直接、间接、附带、特殊、惩罚性或后果性的损害不承担责任。</p>',8))}const nl=X(tl,[["render",ll]]),ol=""+new URL("donate-BWYZILYa.png",import.meta.url).href,sl="password-xl",al="1.3.10",rl="module",il="electron/main.mjs",dl={name:"黄艳鹏",email:"hyp0105@qq.com"},ul=[{name:"黄艳鹏",email:"hyp0105@qq.com",weChat:"huangyanpeng1864"}],pl="开源免费的密码管理项目",fl="https://password-xl.cn",ml={type:"git",url:"https://github.com/peng0105/password-xl"},cl={start:"vite",preview:"vue-tsc -b && vite build && vite preview",build:"vue-tsc -b && vite build","dist-to-windows":"vue-tsc -b && vite build && electron-builder build --win --config electron/electron-builder.json5","dist-to-mac":"vue-tsc -b && vite build && electron-builder build --mac --config electron/electron-builder.json5","dist-to-linux":"vue-tsc -b && vite build && electron-builder build --linux --config electron/electron-builder.json5","start-exe":"electron ."},gl={aieditor:"^1.4.0","ali-oss":"^6.23.0",axios:"^1.13.2",buffer:"^6.0.3","cos-js-sdk-v5":"^1.10.1","crypto-js":"^4.2.0","element-plus":"^2.13.0",exceljs:"^4.4.0","file-saver":"^2.0.5","node-forge":"^1.3.3",pinia:"^3.0.4",vue:"^3.5.26","vue-router":"^4.6.4"},yl={"@types/ali-oss":"^6.16.13","@types/crypto-js":"^4.2.2","@types/file-saver":"^2.0.7","@types/node":"^25.0.3","@vitejs/plugin-legacy":"^7.2.1","@vitejs/plugin-vue":"^6.0.3",electron:"^39.2.7","electron-builder":"^26.0.12",terser:"^5.44.1",typescript:"^5.9.3","unplugin-auto-import":"^20.3.0","unplugin-icons":"^22.5.0","unplugin-vue-components":"^30.0.0",vite:"^7.3.0","vue-tsc":"^3.2.2"},ee={name:sl,private:!0,version:al,type:rl,main:il,author:dl,contributors:ul,description:pl,homepage:fl,repository:ml,scripts:cl,dependencies:gl,devDependencies:yl},vl={class:"support-ul"},_l={style:{float:"left"}},wl={style:{float:"left",width:"calc(100% - 40px)","padding-left":"5px"}},bl=Y({__name:"SupportMe",setup(H){const f=[{name:"Seeking dream",money:10,time:"2024-10-11"},{name:"Ching",money:10,time:"2024-07-13"},{name:"李春雨",money:5,time:"2024-07-12"},{name:"张博文",money:50,time:"2024-07-12"}];return(o,a)=>{const p=oe,i=fe,x=Ve,v=Ge,k=He,g=Se;return m(),$(W,null,[a[19]||(a[19]=s("h2",{style:{"margin-top":"0"}},"支持我们",-1)),e(p,{size:"large",style:{"text-indent":"20px"},tag:"p"},{default:l(()=>[...a[0]||(a[0]=[r(" 为了帮助您更安全、便捷地管理密码，我们打造了一个开源免费的密码管理工具。在开发和维护过程中，我们面临着诸多困难和挑战。您的支持对项目的发展至关重要，您可以通过以下方式支持此项目： ",-1)])]),_:1}),s("ul",vl,[s("li",null,[e(p,{size:"large"},{default:l(()=>[a[2]||(a[2]=s("span",{class:"iconfont icon-praise support-icon",style:{color:"#E6A23C"}},null,-1)),a[3]||(a[3]=r(" 在项目 ",-1)),e(i,{href:t(ee).repository.url,underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[1]||(a[1]=[r("开源地址 ",-1)])]),_:1},8,["href"]),a[4]||(a[4]=r(" 中为项目点赞，增加项目的曝光度。 ",-1))]),_:1})]),s("li",null,[e(p,{size:"large"},{default:l(()=>[a[6]||(a[6]=s("span",{class:"iconfont icon-report support-icon",style:{color:"#F56C6C"}},null,-1)),a[7]||(a[7]=r(" 在Github上 ",-1)),e(i,{href:t(ee).repository.url+"/issues",underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[5]||(a[5]=[r("报告您遇到的错误 ",-1)])]),_:1},8,["href"]),a[8]||(a[8]=r(" ，帮助我们持续改进。 ",-1))]),_:1})]),s("li",null,[e(p,{size:"large"},{default:l(()=>[a[10]||(a[10]=s("span",{class:"iconfont icon-idea support-icon",style:{color:"#67C23A"}},null,-1)),a[11]||(a[11]=r(" 提出您的 ",-1)),e(i,{href:t(ee).repository.url+"/issues",underline:!1,style:{"font-size":"16px",position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...a[9]||(a[9]=[r("建议和想法 ",-1)])]),_:1},8,["href"]),a[12]||(a[12]=r(" ，帮助我们更好地满足用户需求。 ",-1))]),_:1})]),s("li",null,[e(p,{size:"large"},{default:l(()=>[...a[13]||(a[13]=[s("span",{class:"iconfont icon-company support-icon",style:{color:"#E6A23C"}},null,-1),r(" 将此工具分享给您的朋友和家人，让更多人受益。 ",-1)])]),_:1})]),s("li",null,[s("div",_l,[e(p,{size:"large"},{default:l(()=>[...a[14]||(a[14]=[s("span",{class:"iconfont icon-money support-icon",style:{color:"#F56C6C"}},null,-1)])]),_:1})]),s("div",wl,[e(p,{size:"large"},{default:l(()=>[...a[15]||(a[15]=[r(" 如果您认可我们的努力，请考虑给予一些经济上的支持，以帮助我们为您提供更加优质的密码管理体验。 ",-1)])]),_:1})]),a[16]||(a[16]=s("div",{style:{clear:"both"}},null,-1))])]),e(g,null,{default:l(()=>[e(x,{md:{span:9},sm:{span:24},xs:{span:24},style:{"text-align":"center"}},{default:l(()=>[...a[17]||(a[17]=[s("div",{style:{"text-align":"center"}},[s("h3",{style:{"margin-top":"4px"}},"微信赞赏码"),s("div",{style:{padding:"5px 20px","text-align":"center"}},[s("img",{alt:"",src:ol,style:{width:"80%","max-width":"300px","border-radius":"50%"}})])],-1)])]),_:1}),e(x,{md:{span:15},sm:{span:24},xs:{span:24},style:{"text-align":"center","padding-right":"10px"}},{default:l(()=>[a[18]||(a[18]=s("h3",{style:{"margin-top":"4px"}},"捐赠者列表",-1)),e(k,{data:f,border:"",stripe:""},{default:l(()=>[e(v,{label:"名称",prop:"name"}),e(v,{label:"时间","min-width":"60px",prop:"time"}),e(v,{label:"金额","min-width":"40px",prop:"money"})]),_:1})]),_:1})]),_:1})],64)}}}),xl=X(bl,[["__scopeId","data-v-871290c0"]]),kl={style:{padding:"10px"}},Cl={style:{"padding-left":"25px","line-height":"26px"}},Sl=Y({__name:"About",setup(H){const f=U(["密码支持自定义信息","导出、导入Excel","支持Windows、Android客户端","支持停用动态壁纸"]);return(o,a)=>{const p=It,i=fe,x=Lt;return m(),$(W,null,[a[0]||(a[0]=s("div",null,[s("h2",{style:{"margin-top":"0"}},"关于项目")],-1)),s("div",kl,[e(x,{column:1},{default:l(()=>[e(p,{label:"项目名称:"},{default:l(()=>[r(O(t(ee).name),1)]),_:1}),e(p,{label:"当前版本:"},{default:l(()=>[r(O(t(ee).version),1)]),_:1}),e(p,{label:"官方网站:"},{default:l(()=>[e(i,{href:t(ee).homepage,target:"_blank",type:"primary"},{default:l(()=>[r(O(t(ee).homepage),1)]),_:1},8,["href"])]),_:1}),e(p,{label:"开源地址:"},{default:l(()=>[e(i,{href:t(ee).repository.url,target:"_blank",type:"primary"},{default:l(()=>[r(O(t(ee).repository.url),1)]),_:1},8,["href"])]),_:1}),e(p,{label:"作者邮箱:"},{default:l(()=>[r(O(t(ee).contributors[0].email),1)]),_:1}),e(p,{label:"作者微信:"},{default:l(()=>[r(O(t(ee).contributors[0].weChat),1)]),_:1})]),_:1})]),a[1]||(a[1]=s("div",null,[s("h2",{style:{"margin-top":"0"}},"最近更新")],-1)),s("div",null,[s("ol",Cl,[(m(!0),$(W,null,pe(t(f),v=>(m(),$("li",null,O(v),1))),256))])])],64)}}}),Vl={style:{"text-indent":"15px"}},$l={style:{"text-indent":"15px"}},Al={style:{"text-indent":"15px"}},Fl={style:{"padding-left":"15px"}},Pl={style:{"padding-left":"15px"}},Rl={style:{"padding-left":"15px"}},El={style:{"padding-left":"15px"}},Dl=Y({__name:"CommonProblem",setup(H){return(f,o)=>{const a=oe,p=$e,i=Bt,x=fe,v=_e,k=Ut;return m(),E(k,null,{default:l(()=>[e(i,{title:"1、主密码忘记了怎么办？"},{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[o[10]||(o[10]=r(" 很抱歉，由于密码安全机制，主密码一旦忘记没有任何办法查看密码数据。如您需要注销账号可以登录密码存储位置删除密码文件",-1)),o[11]||(o[11]=s("br",null,null,-1)),s("div",Vl,[e(a,{tag:"b"},{default:l(()=>[...o[0]||(o[0]=[r("oss：",-1)])]),_:1}),o[1]||(o[1]=r(" 请登录阿里云控制台->对象存储，删除password-xl文件夹 ",-1))]),s("div",$l,[e(a,{tag:"b"},{default:l(()=>[...o[2]||(o[2]=[r("cos：",-1)])]),_:1}),o[3]||(o[3]=r(" 请登录腾讯云控制台->对象存储，删除password-xl文件夹 ",-1))]),s("div",Al,[e(a,{tag:"b"},{default:l(()=>[...o[4]||(o[4]=[r("私有服务：",-1)])]),_:1}),o[5]||(o[5]=r(" 请到服务端密码数据存储目录删除您的用户名文件夹 ",-1))]),s("div",Fl,[e(a,{tag:"b"},{default:l(()=>[...o[6]||(o[6]=[r("本地存储：",-1)])]),_:1}),o[8]||(o[8]=r(" 请到 C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl目录下删除setting.json和store.json两个文件。",-1)),o[9]||(o[9]=s("br",null,null,-1)),e(a,{size:"small",type:"info"},{default:l(()=>[e(p,{type:"info"},{default:l(()=>[...o[7]||(o[7]=[r(" AppData是系统隐藏目录，可以通过地址栏输入C:\\Users\\您的用户名\\AppData\\Roaming\\password-xl直接进入文件夹 ",-1)])]),_:1})]),_:1})])]),_:1})]),_:1}),e(i,{title:"2、如何私有部署password-XL？"},{default:l(()=>[e(a,null,{default:l(()=>[e(a,{size:"large"},{default:l(()=>[...o[12]||(o[12]=[r("项目分为前端和后端两个服务，您可以根据需要选择部署：",-1)])]),_:1}),o[16]||(o[16]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[13]||(o[13]=[r("仅部署前端服务：",-1)])]),_:1}),o[17]||(o[17]=r(" 可以使用阿里云OSS、腾讯云COS、和本地存储功能",-1)),o[18]||(o[18]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[14]||(o[14]=[r("仅部署后端服务：",-1)])]),_:1}),o[19]||(o[19]=r(" 可以使用官网提供的页面或安装程序将密码文件存储在您的私有服务中",-1)),o[20]||(o[20]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[15]||(o[15]=[r("两个服务都部署：",-1)])]),_:1}),o[21]||(o[21]=r(" 可以使用部署的前端页面将密码文件存储在私有服务中",-1)),o[22]||(o[22]=s("br",null,null,-1))]),_:1}),o[31]||(o[31]=s("br",null,null,-1)),e(a,null,{default:l(()=>[e(a,{size:"large"},{default:l(()=>[...o[23]||(o[23]=[r("部署文档：",-1)])]),_:1}),s("div",Pl,[e(x,{href:t(ee).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker",target:"_blank",type:"primary"},{default:l(()=>[...o[24]||(o[24]=[r(" 后端-docker部署 ",-1)])]),_:1},8,["href"]),o[28]||(o[28]=s("br",null,null,-1)),e(x,{href:t(ee).repository.url+"/wiki/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90jar",target:"_blank",type:"primary"},{default:l(()=>[...o[25]||(o[25]=[r(" 后端-jar包部署 ",-1)])]),_:1},8,["href"]),o[29]||(o[29]=s("br",null,null,-1)),e(x,{href:t(ee).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90docker",target:"_blank",type:"primary"},{default:l(()=>[...o[26]||(o[26]=[r(" 前端-docker部署 ",-1)])]),_:1},8,["href"]),o[30]||(o[30]=s("br",null,null,-1)),e(x,{href:t(ee).repository.url+"/wiki/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3%E2%80%90nginx",target:"_blank",type:"primary"},{default:l(()=>[...o[27]||(o[27]=[r(" 前端-nginx部署 ",-1)])]),_:1},8,["href"])])]),_:1})]),_:1}),e(i,{title:"3、每次输入主密码很麻烦，可以自动解锁吗？"},{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[...o[32]||(o[32]=[r("      您可以在设置-> 密码安全模块中开启自动解锁功能。 ",-1)])]),_:1})]),_:1}),e(i,{title:"4、忘记登录信息如何找回？"},{default:l(()=>[s("div",Rl,[e(a,null,{default:l(()=>[e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[33]||(o[33]=[r("阿里云OSS：",-1)])]),_:1}),o[38]||(o[38]=r(" 您可以参考 ",-1)),e(x,{href:t(ee).repository.url+"/wiki/%E9%98%BF%E9%87%8C%E4%BA%91OSS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...o[34]||(o[34]=[r(" 阿里云OSS注册指引 ",-1)])]),_:1},8,["href"]),o[39]||(o[39]=r(" ，登录阿里云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失",-1)),o[40]||(o[40]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[35]||(o[35]=[r("腾讯云COS：",-1)])]),_:1}),o[41]||(o[41]=r(" 您可以参考 ",-1)),e(x,{href:t(ee).repository.url+"/wiki/%E8%85%BE%E8%AE%AF%E4%BA%91COS%E6%B3%A8%E5%86%8C%E6%8C%87%E5%BC%95",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...o[36]||(o[36]=[r(" 腾讯云COS注册指引 ",-1)])]),_:1},8,["href"]),o[42]||(o[42]=r(" ，登录腾讯云控制台重新创建子账户并在存储桶位置为账号分配权限，密码数据不会丢失",-1)),o[43]||(o[43]=s("br",null,null,-1)),e(a,{style:{"text-indent":"15px",display:"inline-block"},tag:"b"},{default:l(()=>[...o[37]||(o[37]=[r("私有服务：",-1)])]),_:1}),o[44]||(o[44]=r(" 您可在服务端项目部署路径下用户配置文件中查看您的登录密码。如果不是您部署项目请联系管理员",-1)),o[45]||(o[45]=s("br",null,null,-1))]),_:1})])]),_:1}),e(i,{title:"5、如何迁移密码数据？"},{default:l(()=>[s("div",El,[e(a,{style:{"text-indent":"15px",display:"inline-block"}},{default:l(()=>[o[47]||(o[47]=r(" 您可以通过 ",-1)),e(v,null,{default:l(()=>[...o[46]||(o[46]=[r("设置->备份恢复",-1)])]),_:1}),o[48]||(o[48]=r(" 菜单下的备份恢复功能迁移密码数据。 ",-1))]),_:1})])]),_:1})]),_:1})}}}),Tl={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Ml={style:{"text-align":"center","margin-bottom":"5px",width:"100%"}},Ll={style:{"text-align":"center","margin-bottom":"15px",width:"100%"}},Il={style:{"text-align":"center","margin-top":"50px",width:"100%"}},Ul={style:{"margin-top":"25px"}},Bl={style:{padding:"0 50px 0 20px"}},zl={style:{"text-align":"center","margin-top":"30px",width:"100%"}},Nl=Y({__name:"LoginInfo",setup(H){const f=Ke(),o=()=>!!window.electronAPI,a=()=>!!window.androidAPI;return(p,i)=>{const x=oe,v=Ye,k=de,g=ye,_=je,V=Le;return m(),E(V,{"label-width":"80px"},{default:l(()=>[t(f).loginType==="oss"?(m(),$(W,{key:0},[s("div",Tl,[i[15]||(i[15]=s("img",{alt:"",class:"login-type-image",src:Gt,style:{height:"28px"}},null,-1)),e(x,{style:{"font-size":"24px"}},{default:l(()=>[...i[14]||(i[14]=[r("阿里云OSS",-1)])]),_:1})]),e(v),s("div",null,[e(_,{label:"region"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.region,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[0]||(i[0]=A=>t(q)(t(f).loginForm.region))},{default:l(()=>[...i[16]||(i[16]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"accessKeyId"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.accessKeyId,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[1]||(i[1]=A=>t(q)(t(f).loginForm.accessKeyId))},{default:l(()=>[...i[17]||(i[17]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"accessKeySecret"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.accessKeySecret,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[2]||(i[2]=A=>t(q)(t(f).loginForm.accessKeySecret))},{default:l(()=>[...i[18]||(i[18]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"bucket"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.bucket,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[3]||(i[3]=A=>t(q)(t(f).loginForm.bucket))},{default:l(()=>[...i[19]||(i[19]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(m(),E(_,{key:0,label:"快速登录链接"},{default:l(()=>[e(g,{"model-value":t(ce)(t(f).loginForm),readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[4]||(i[4]=A=>t(q)(t(ce)(t(f).loginForm)))},{default:l(()=>[...i[20]||(i[20]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):F("",!0)])],64)):t(f).loginType==="cos"?(m(),$(W,{key:1},[s("div",Ml,[i[22]||(i[22]=s("img",{alt:"",class:"login-type-image",src:Yt,style:{height:"28px"}},null,-1)),e(x,{style:{"font-size":"24px"}},{default:l(()=>[...i[21]||(i[21]=[r("腾讯云COS",-1)])]),_:1})]),e(v),s("div",null,[e(_,{label:"region"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.region,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[5]||(i[5]=A=>t(q)(t(f).loginForm.region))},{default:l(()=>[...i[23]||(i[23]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"secretId"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.secretId,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[6]||(i[6]=A=>t(q)(t(f).loginForm.secretId))},{default:l(()=>[...i[24]||(i[24]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"secretKey"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.secretKey,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[7]||(i[7]=A=>t(q)(t(f).loginForm.secretKey))},{default:l(()=>[...i[25]||(i[25]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"bucket"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.bucket,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[8]||(i[8]=A=>t(q)(t(f).loginForm.bucket))},{default:l(()=>[...i[26]||(i[26]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(m(),E(_,{key:0,label:"快速登录链接"},{default:l(()=>[e(g,{"model-value":t(ce)(t(f).loginForm),readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[9]||(i[9]=A=>t(q)(t(ce)(t(f).loginForm)))},{default:l(()=>[...i[27]||(i[27]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):F("",!0)])],64)):t(f).loginType==="private"?(m(),$(W,{key:2},[s("div",Ll,[i[29]||(i[29]=s("img",{alt:"",class:"login-type-image",src:jt,style:{height:"28px"}},null,-1)),e(x,{style:{"font-size":"24px"}},{default:l(()=>[...i[28]||(i[28]=[r("私有服务",-1)])]),_:1})]),e(v),s("div",null,[e(_,{label:"服务地址"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.serverUrl,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[10]||(i[10]=A=>t(q)(t(f).loginForm.serverUrl))},{default:l(()=>[...i[30]||(i[30]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"用户名"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.username,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[11]||(i[11]=A=>t(q)(t(f).loginForm.username))},{default:l(()=>[...i[31]||(i[31]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),e(_,{label:"密码"},{default:l(()=>[e(g,{"model-value":t(f).loginForm.password,readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[12]||(i[12]=A=>t(q)(t(f).loginForm.password))},{default:l(()=>[...i[32]||(i[32]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1}),!o()&&!a()?(m(),E(_,{key:0,label:"快速登录链接"},{default:l(()=>[e(g,{"model-value":t(ce)(t(f).loginForm),readonly:!0},{append:l(()=>[e(k,{class:"copy-btn",onClick:i[13]||(i[13]=A=>t(q)(t(ce)(t(f).loginForm)))},{default:l(()=>[...i[33]||(i[33]=[s("span",{class:"iconfont icon-copy"},null,-1)])]),_:1})]),_:1},8,["model-value"])]),_:1})):F("",!0)])],64)):(m(),$(W,{key:3},[s("div",Il,[i[35]||(i[35]=s("img",{alt:"",class:"login-type-image",src:Jt,style:{height:"130px"}},null,-1)),s("div",Ul,[e(x,{style:{"font-size":"22px"}},{default:l(()=>[...i[34]||(i[34]=[r("您正在使用本地文件存储",-1)])]),_:1})])]),s("div",Bl,[s("div",zl,[e(x,{type:"info"},{default:l(()=>[...i[36]||(i[36]=[r("没有更多信息",-1)])]),_:1})])])],64))]),_:1})}}}),Ol=X(Nl,[["__scopeId","data-v-298341ca"]]),Kl={class:"function-div"},Hl={class:"function-header",style:{"margin-bottom":"5px"}},Gl={class:"function-div"},Yl={class:"function-header",style:{"margin-bottom":"5px"}},jl={class:"function-div"},Jl={class:"function-header"},Wl={class:"function-div"},Xl={class:"function-header"},ql={class:"function-div"},Ql={class:"function-header"},Zl={style:{"margin-top":"10px"}},hl={class:"function-div"},en={class:"function-header"},tn={class:"function-div"},ln={class:"function-header"},nn={class:"function-div"},on={class:"function-header"},sn={class:"function-div"},an={class:"function-header"},rn={class:"function-div"},dn={class:"function-header"},un={class:"function-div"},pn={class:"function-header"},fn={class:"function-div"},mn={class:"function-header",style:{"margin-bottom":"5px"}},cn={class:"function-div"},gn={class:"function-header"},yn={class:"function-div"},vn={class:"function-header",style:{"margin-bottom":"5px"}},_n={class:"function-div"},wn={class:"function-header"},bn={class:"function-div"},xn={class:"function-header"},kn={class:"function-div"},Cn={class:"function-header",style:{"margin-bottom":"5px"}},Sn={key:0,class:"function-div"},Vn={class:"function-header"},$n={class:"function-div"},An={class:"function-header"},Fn={class:"function-div"},Pn={class:"function-header"},Rn={class:"function-div",style:{display:"flex","justify-content":"space-evenly"}},En={class:"login-info"},Dn={class:"function-div"},Tn={class:"function-header",style:{"margin-bottom":"5px"}},Mn={class:"function-div"},Ln={class:"function-header",style:{"margin-bottom":"5px"}},In={class:"function-div"},Un={class:"function-header",style:{"margin-bottom":"5px"}},Bn={class:"function-div"},zn={class:"function-header",style:{"margin-bottom":"5px"}},Nn={class:"function-div"},On={class:"function-header",style:{"margin-bottom":"5px"}},Kn={class:"function-div"},Hn={class:"function-header"},Gn={style:{"margin-top":"10px"}},Yn={class:"function-div",style:{"margin-top":"30px"}},jn={class:"function-header"},Jn={style:{"margin-top":"5px"}},Wn={style:{padding:"0"}},Xn={style:{padding:"0"}},qn={style:{padding:"0 15px"}},Qn=Y({__name:"Setting",setup(H,{expose:f}){const o=Z(),a=ae(),p=Ke(),i=ne(),x=U(!1),v=U(ue.AUTO),k=()=>{let u=localStorage.getItem("topicMode");u?v.value=u:v.value=ue.AUTO,a.visSetting=!0,x.value=!1},g=()=>{a.visSetting=!1},_=()=>["xs","sm"].includes(G().value)?"calc(100vh - 120px)":"500px",V=()=>{if(a.setting.autoUnlock)return Promise.resolve(!0);let u=`为了您的账号安全，建议您不要开启记住主密码功能。开启后任何人打开您设备的password-XL时，都可以直接访问解锁后的密码列表，极大地增加了密码泄露的风险。
如您仍需开启此功能，请务必妥善保存并牢记您的主密码。当您更换设备或浏览器指纹发生变更时，仍需您手动登录并使用主密码解锁。`;return new Promise(async n=>{ke({title:"重要安全提示",message:Ft("div",{class:"el-alert el-alert--error is-light",style:"text-indent: 20px;"},u),showConfirmButton:!0,confirmButtonText:"确认开启",confirmButtonClass:"el-button--danger"}).then(()=>{i.verifyPasswordRef.getAndVerify(d=>o.passwordManager.verifyPassword(d)).then(d=>{n(!0),localStorage.setItem("mainPassword",_t(wt(),d))})}).catch(()=>n(!1))})},A=()=>{if(!a.setting.enableRecycleBin||!o.deletedArray.length)return Promise.resolve(!0);let u="关闭回收站将立即清空回收站中所有密码";return new Promise(async(n,d)=>{ke({message:u,showConfirmButton:!0,confirmButtonText:"清空",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonClass:"el-button--danger"}).then(()=>{n(!0)}).catch(()=>{d()})})},D=u=>x.value?Promise.resolve(!0):u==="loginInfo"&&!["local","electron"].includes(p.loginType)?new Promise((n,d)=>{i.verifyPasswordRef.getAndVerify(y=>o.passwordManager.verifyPassword(y)).then(()=>{n(!0),x.value=!0}).catch(y=>{d()})}):Promise.resolve(!0);f({openSetting:k,closeSetting:g}),J(()=>a.setting.showLabelCard,u=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&i.labelTreeRef?.setCheckedNodes([])})}),J(()=>a.setting.showNote,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.dynamicBackground,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.showFavoriteCard,u=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(o.filterCondition.favoriteId=0)})}),J(()=>a.setting.enableRecycleBin,(u,n)=>{a.visSetting&&o.passwordManager.syncSetting().then(d=>{d.status&&(u||o.passwordManager.emptyRecycle())})}),J(()=>a.setting.enableShortcutKey,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.sortField,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.sortOrder,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.showLabelForTable,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.enableAiAdd,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.showTimeForTable,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.showStrength,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.timeoutLock,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.autoLogin,u=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(u?ie.success({title:"已开启自动登录",message:"在您下次登录时将系统将记住登录信息！"}):(sessionStorage.removeItem("loginInfo"),localStorage.removeItem("loginInfo"),ie.success({title:"已关闭自动登录",message:"自动登录信息已清除！"}),a.setting.autoUnlock=!1))})}),J(()=>a.setting.autoUnlock,u=>{a.visSetting&&o.passwordManager.syncSetting().then(n=>{n.status&&(u?(a.setting.autoLogin=!0,le.success("已开启自动解锁"),a.setting.timeoutLock=0):(localStorage.removeItem("mainPassword"),le.success("已清除主密码信息")))})}),J(()=>a.setting.verifyShowGesture,u=>{a.visSetting&&(o.passwordManager.syncSetting(),localStorage.setItem("showGesture",u+""))}),J(()=>v.value,u=>{a.visSetting&&o.setTopicMode(u)});let z=null;J(()=>a.setting.easyConfuseChat,u=>{a.visSetting&&(z&&clearTimeout(z),z=setTimeout(()=>{o.passwordManager.syncSetting()},300))}),J(()=>a.setting.autoGeneratePassword,u=>{a.visSetting&&o.passwordManager.syncSetting()}),J(()=>a.setting.passwordColor,u=>{a.visSetting&&o.passwordManager.syncSetting()});let B=null;J(()=>a.setting.generateRule,u=>{a.visSetting&&(B&&clearTimeout(B),B=setTimeout(()=>{o.passwordManager.syncSetting()},300))},{deep:!0});const I=()=>!!window.androidAPI;return(u,n)=>{const d=oe,y=Nt,P=zt,c=Ye,T=Ot,N=ye,w=pt,b=Ve,C=ft,S=Se,j=Ie,h=ut,L=_e,Ae=$e,re=de,me=Ol,Ue=fe,Be=Dl,Fe=Sl,ze=xl,Ne=nl,Oe=dt,M=Le,xe=ve;return m(),E(xe,{modelValue:t(a).visSetting,"onUpdate:modelValue":n[31]||(n[31]=R=>t(a).visSetting=R),fullscreen:["xs","sm"].includes(t(G)().value),draggable:"",width:"750px"},{header:l(()=>[e(d,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...n[32]||(n[32]=[s("span",{class:"iconfont icon-setting"},null,-1),r(" 设置 ",-1)])]),_:1})]),default:l(()=>[e(M,{modelValue:t(a),"onUpdate:modelValue":n[30]||(n[30]=R=>se(a)?a.value=R:null),"label-position":"right","label-width":"140px"},{default:l(()=>[e(Oe,{"before-leave":D,style:{"margin-top":"10px"},"tab-position":"left"},{default:l(()=>[e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[33]||(n[33]=[s("span",{class:"iconfont icon-personalization action-icon",style:{color:"#FF5733"}},null,-1),s("span",{style:{"letter-spacing":"3px"}}," 个性化",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",Kl,[s("div",Hl,[e(d,{tag:"b"},{default:l(()=>[...n[34]||(n[34]=[r("主题",-1)])]),_:1}),e(P,{modelValue:t(v),"onUpdate:modelValue":n[0]||(n[0]=R=>se(v)?v.value=R:null),size:"small",style:{width:"100px"}},{default:l(()=>[e(y,{value:t(ue).AUTO,label:"跟随系统"},null,8,["value"]),e(y,{value:t(ue).LIGHT,label:"明亮主题"},null,8,["value"]),e(y,{value:t(ue).DARK,label:"深色主题"},null,8,["value"])]),_:1},8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[35]||(n[35]=[r(" 您可以根据个人喜好选择明亮或深色主题，也可以设置为跟随系统 ",-1)])]),_:1})]),s("div",Gl,[s("div",Yl,[e(d,{tag:"b"},{default:l(()=>[...n[36]||(n[36]=[r("显示背景图",-1)])]),_:1}),e(T,{modelValue:t(a).setting.dynamicBackground,"onUpdate:modelValue":n[1]||(n[1]=R=>t(a).setting.dynamicBackground=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[37]||(n[37]=[r(" 用于控制是否显示首页动态背景图，若浏览器卡顿您可以关闭动态背景图 ",-1)])]),_:1})]),s("div",jl,[s("div",Jl,[e(d,{tag:"b"},{default:l(()=>[...n[38]||(n[38]=[r("易混淆字符",-1)])]),_:1}),e(N,{modelValue:t(a).setting.easyConfuseChat,"onUpdate:modelValue":n[2]||(n[2]=R=>t(a).setting.easyConfuseChat=R),size:"small",style:{width:"100px"}},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[39]||(n[39]=[r(" 随机生成密码时将不会使用配置的易混淆字符 ",-1)])]),_:1})]),s("div",Wl,[s("div",Xl,[e(d,{tag:"b"},{default:l(()=>[...n[40]||(n[40]=[r("自动生成密码",-1)])]),_:1}),e(T,{modelValue:t(a).setting.autoGeneratePassword,"onUpdate:modelValue":n[3]||(n[3]=R=>t(a).setting.autoGeneratePassword=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[41]||(n[41]=[r(" 当您添加密码时是否希望系统使用默认规则自动生成一个密码 ",-1)])]),_:1})]),s("div",ql,[s("div",Ql,[e(d,{tag:"b"},{default:l(()=>[...n[42]||(n[42]=[r("随机密码生成规则",-1)])]),_:1})]),e(c,{class:"function-line"}),s("div",Zl,[s("div",null,[e(S,null,{default:l(()=>[e(b,{md:{span:10},sm:{span:24},style:{"margin-bottom":"10px","text-align":"center"}},{default:l(()=>[e(w,{modelValue:t(a).setting.generateRule.uppercase,"onUpdate:modelValue":n[4]||(n[4]=R=>t(a).setting.generateRule.uppercase=R),border:"",label:"大写",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(w,{modelValue:t(a).setting.generateRule.lowercase,"onUpdate:modelValue":n[5]||(n[5]=R=>t(a).setting.generateRule.lowercase=R),border:"",label:"小写",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(w,{modelValue:t(a).setting.generateRule.number,"onUpdate:modelValue":n[6]||(n[6]=R=>t(a).setting.generateRule.number=R),border:"",label:"数字",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"]),e(w,{modelValue:t(a).setting.generateRule.symbol,"onUpdate:modelValue":n[7]||(n[7]=R=>t(a).setting.generateRule.symbol=R),border:"",label:"符号",size:"small",style:{margin:"5px 15px"}},null,8,["modelValue"])]),_:1}),e(b,{md:{span:10},sm:{span:24},style:{"text-align":"center"}},{default:l(()=>[n[43]||(n[43]=s("span",null,"密码长度",-1)),e(C,{modelValue:t(a).setting.generateRule.length,"onUpdate:modelValue":n[8]||(n[8]=R=>t(a).setting.generateRule.length=R),max:32,min:4,size:"small",style:{"margin-top":"10px"}},null,8,["modelValue"])]),_:1})]),_:1})])])])]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[44]||(n[44]=[s("span",{class:"iconfont icon-function action-icon",style:{color:"#FF33FF"}},null,-1),r(" 功能管理 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",hl,[s("div",en,[e(d,{tag:"b"},{default:l(()=>[...n[45]||(n[45]=[r("启用AI创建",-1)])]),_:1}),e(T,{modelValue:t(a).setting.enableAiAdd,"onUpdate:modelValue":n[9]||(n[9]=R=>t(a).setting.enableAiAdd=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[46]||(n[46]=[r(" 在首页启用AI创建密码，AI创建可以把包含账号信息的文本解析成结构化的密码。 ",-1)])]),_:1})]),s("div",tn,[s("div",ln,[e(d,{tag:"b"},{default:l(()=>[...n[47]||(n[47]=[r("显示标签卡片",-1)])]),_:1}),e(T,{modelValue:t(a).setting.showLabelCard,"onUpdate:modelValue":n[10]||(n[10]=R=>t(a).setting.showLabelCard=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[48]||(n[48]=[r(" 显示标签卡片后，您可以在首页方便地管理所有标签，并使用标签功能筛选密码列表。 ",-1)])]),_:1})]),s("div",nn,[s("div",on,[e(d,{tag:"b"},{default:l(()=>[...n[49]||(n[49]=[r("启用笔记功能",-1)])]),_:1}),e(T,{modelValue:t(a).setting.showNote,"onUpdate:modelValue":n[11]||(n[11]=R=>t(a).setting.showNote=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[50]||(n[50]=[r(" 启用笔记功能后可在首页进入笔记页面，如果需要记录图片请确保对象存储服务开启外网访问权限，否则图片无法正常显示。 ",-1)])]),_:1})]),s("div",sn,[s("div",an,[e(d,{tag:"b"},{default:l(()=>[...n[51]||(n[51]=[r("显示收藏卡片",-1)])]),_:1}),e(T,{modelValue:t(a).setting.showFavoriteCard,"onUpdate:modelValue":n[12]||(n[12]=R=>t(a).setting.showFavoriteCard=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[52]||(n[52]=[r(" 显示收藏卡片后，您可以在首页查看所有已收藏的密码，点击密码名称即可在密码列表中显示。 ",-1)])]),_:1})]),s("div",rn,[s("div",dn,[e(d,{tag:"b"},{default:l(()=>[...n[53]||(n[53]=[r("密码回收站",-1)])]),_:1}),e(T,{modelValue:t(a).setting.enableRecycleBin,"onUpdate:modelValue":n[13]||(n[13]=R=>t(a).setting.enableRecycleBin=R),"before-change":A},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[54]||(n[54]=[r(" 开启密码回收站后，已删除的密码将会被保存至回收站，您可以选择永久删除或恢复。 ",-1)])]),_:1})]),s("div",un,[s("div",pn,[e(d,{tag:"b"},{default:l(()=>[...n[55]||(n[55]=[r("快捷键",-1)])]),_:1}),e(T,{modelValue:t(a).setting.enableShortcutKey,"onUpdate:modelValue":n[14]||(n[14]=R=>t(a).setting.enableShortcutKey=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[60]||(n[60]=r(" 锁定/解锁： ",-1)),e(L,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[56]||(n[56]=[r("Alt + L",-1)])]),_:1}),n[61]||(n[61]=r(" 搜索： ",-1)),e(L,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[57]||(n[57]=[r("Ctrl + F",-1)])]),_:1}),n[62]||(n[62]=r(" 创建： ",-1)),e(L,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[58]||(n[58]=[r("Alt + N",-1)])]),_:1}),n[63]||(n[63]=r(" 保存： ",-1)),e(L,{size:"small",style:{"text-indent":"0","margin-right":"10px"},type:"primary"},{default:l(()=>[...n[59]||(n[59]=[r("Ctrl + S",-1)])]),_:1})]),_:1})]),e(Ae,{closable:!1,"show-icon":"",title:"若您需要更多密码显示空间，可以选择关闭标签和收藏卡片并在更多功能中使用。",type:"info"})]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[64]||(n[64]=[s("span",{class:"iconfont icon-display action-icon",style:{color:"#00e329"}},null,-1),r(" 密码显示 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",fn,[s("div",mn,[e(d,{tag:"b"},{default:l(()=>[...n[65]||(n[65]=[r("密码排序",-1)])]),_:1}),s("div",null,[e(P,{modelValue:t(a).setting.sortField,"onUpdate:modelValue":n[15]||(n[15]=R=>t(a).setting.sortField=R),size:"small",style:{width:"90px"}},{default:l(()=>[e(y,{label:"添加时间",value:"addTime"}),e(y,{label:"修改时间",value:"updateTime"}),e(y,{label:"密码强度",value:"strength"}),e(y,{label:"密码名称",value:"title"}),e(y,{label:"登录名",value:"username"}),e(y,{label:"收藏",value:"favorite"})]),_:1},8,["modelValue"]),e(P,{modelValue:t(a).setting.sortOrder,"onUpdate:modelValue":n[16]||(n[16]=R=>t(a).setting.sortOrder=R),size:"small",style:{width:"65px","margin-left":"5px"}},{default:l(()=>[e(y,{value:t(Ee).ASC,label:"正序"},null,8,["value"]),e(y,{value:t(Ee).DESC,label:"倒序"},null,8,["value"])]),_:1},8,["modelValue"])])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[66]||(n[66]=[r(" 此选项用于设置密码默认排序规则。您也可以通过点击密码列表中的小箭头进行临时排序，临时排序会在页面刷新后重置。 ",-1)])]),_:1})]),s("div",cn,[s("div",gn,[e(d,{tag:"b"},{default:l(()=>[...n[67]||(n[67]=[r("在密码列表中显示标签",-1)])]),_:1}),e(T,{modelValue:t(a).setting.showLabelForTable,"onUpdate:modelValue":n[17]||(n[17]=R=>t(a).setting.showLabelForTable=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[68]||(n[68]=[r(" 此选项用于设置是否在密码列表中显示标签列，显示标签将会占用更多空间，您可根据需要开启。 ",-1)])]),_:1})]),s("div",yn,[s("div",vn,[e(d,{tag:"b"},{default:l(()=>[...n[69]||(n[69]=[r("在密码列表中显示时间",-1)])]),_:1}),e(P,{modelValue:t(a).setting.showTimeForTable,"onUpdate:modelValue":n[18]||(n[18]=R=>t(a).setting.showTimeForTable=R),size:"small",style:{width:"100px"}},{default:l(()=>[e(y,{label:"不显示时间",value:"no"}),e(y,{label:"显示添加时间",value:"addTime"}),e(y,{label:"显示修改时间",value:"updateTime"})]),_:1},8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[70]||(n[70]=[r(" 此选项用于设置是否在密码列表中显示时间，显示时间将会占用更多空间，您可根据需要开启。 ",-1)])]),_:1})]),s("div",_n,[s("div",wn,[e(d,{tag:"b"},{default:l(()=>[...n[71]||(n[71]=[r("显示密码强度",-1)])]),_:1}),e(T,{modelValue:t(a).setting.showStrength,"onUpdate:modelValue":n[19]||(n[19]=R=>t(a).setting.showStrength=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[72]||(n[72]=[r(" 我们根据密码组成将密码分为弱、中、强3个等级，分别用颜色 ",-1),s("div",{class:"password-strength",style:{"background-color":"#F56C6C"}},null,-1),s("div",{class:"password-strength",style:{"background-color":"#FF9700"}},null,-1),s("div",{class:"password-strength",style:{"background-color":"#67C23A"}},null,-1),r(" 表示，若您不喜欢此功能可在此关闭。 ",-1)])]),_:1})]),s("div",bn,[s("div",xn,[e(d,{tag:"b"},{default:l(()=>[...n[73]||(n[73]=[r("密码颜色",-1)])]),_:1}),e(T,{modelValue:t(a).setting.passwordColor,"onUpdate:modelValue":n[20]||(n[20]=R=>t(a).setting.passwordColor=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[74]||(n[74]=[r(" 开启此功能后您可以在创建密码时选择密码颜色，并在卡片或表格中显示 ",-1)])]),_:1})])]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[75]||(n[75]=[s("span",{class:"iconfont icon-verify action-icon",style:{color:"#33CFFF"}},null,-1),r(" 密码安全 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",kn,[s("div",Cn,[e(d,{tag:"b"},{default:l(()=>[...n[76]||(n[76]=[r("超时锁定",-1)])]),_:1}),e(P,{modelValue:t(a).setting.timeoutLock,"onUpdate:modelValue":n[21]||(n[21]=R=>t(a).setting.timeoutLock=R),disabled:t(a).setting.autoUnlock,title:t(a).setting.autoUnlock?"已开启自动解锁无法设置自动锁定":"",size:"small",style:{width:"100px"}},{default:l(()=>[e(y,{value:0,label:"永不超时"}),e(y,{value:30,label:"30秒"}),e(y,{value:60,label:"1分钟"}),e(y,{value:300,label:"5分钟"}),e(y,{value:600,label:"10分钟"}),e(y,{value:1800,label:"30分钟"}),e(y,{value:3600,label:"1小时"}),e(y,{value:14400,label:"4小时"}),e(y,{value:28800,label:"8小时"}),e(y,{value:43200,label:"12小时"})]),_:1},8,["modelValue","disabled","title"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[77]||(n[77]=[r(" 系统将在此时间后自动锁定密码列表。 ",-1)])]),_:1})]),t(p).loginType!=="local"?(m(),$("div",Sn,[s("div",Vn,[e(d,{tag:"b"},{default:l(()=>[...n[78]||(n[78]=[r("自动登录",-1)])]),_:1}),e(T,{modelValue:t(a).setting.autoLogin,"onUpdate:modelValue":n[22]||(n[22]=R=>t(a).setting.autoLogin=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[79]||(n[79]=[r(" 开启自动登录功能后，系统会将您的登录信息通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL并成功验证主密码时，系统会自动登录。 ",-1)])]),_:1})])):F("",!0),s("div",$n,[s("div",An,[e(d,{tag:"b"},{default:l(()=>[...n[80]||(n[80]=[r("自动解锁",-1)])]),_:1}),e(T,{modelValue:t(a).setting.autoUnlock,"onUpdate:modelValue":n[23]||(n[23]=R=>t(a).setting.autoUnlock=R),"before-change":V},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[81]||(n[81]=[r(" 开启自动解锁功能后，系统会将您的主密码通过浏览器指纹加密后存储在浏览器中。当您再次打开password-XL时，系统会自动登录并使用主密码解锁。 ",-1)])]),_:1})]),s("div",Fn,[s("div",Pn,[e(d,{tag:"b"},{default:l(()=>[...n[82]||(n[82]=[r("验证密码时显示手势",-1)])]),_:1}),e(T,{modelValue:t(a).setting.verifyShowGesture,"onUpdate:modelValue":n[24]||(n[24]=R=>t(a).setting.verifyShowGesture=R)},null,8,["modelValue"])]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[83]||(n[83]=[r(" 当您使用手势密码时可以在此配置是否显示手势滑动轨迹。 ",-1)])]),_:1})]),s("div",Rn,[e(re,{plain:"",type:"primary",onClick:t(i).setPasswordRef.setMainPassword},{default:l(()=>[...n[84]||(n[84]=[r("修改主密码",-1)])]),_:1},8,["onClick"]),e(re,{type:"danger",onClick:t(i).cancelAccountRef.showCloseAccount},{default:l(()=>[...n[85]||(n[85]=[r("注销账户",-1)])]),_:1},8,["onClick"])])]),_:1},8,["height"])]),_:1}),e(h,{name:"loginInfo"},{label:l(()=>[e(d,null,{default:l(()=>[...n[86]||(n[86]=[s("span",{class:"iconfont icon-info action-icon",style:{color:"#409EFF"}},null,-1),r(" 登录信息 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",En,[e(me)])]),_:1},8,["height"])]),_:1}),I()?F("",!0):(m(),E(h,{key:0},{label:l(()=>[e(d,null,{default:l(()=>[...n[87]||(n[87]=[s("span",{class:"iconfont icon-recovery action-icon",style:{color:"#ffc400"}},null,-1),r(" 备份恢复 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[e(Ae,{style:{"margin-bottom":"10px"},type:"warning"},{default:l(()=>[...n[88]||(n[88]=[r("笔记数据不会被备份或导出，请注意",-1)])]),_:1}),s("div",Dn,[s("div",Tn,[e(d,{tag:"b"},{default:l(()=>[...n[89]||(n[89]=[r("备份密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[25]||(n[25]=R=>t(i).backupAndRecoveryRef.backup(!1))},{default:l(()=>[...n[90]||(n[90]=[r("备份 ",-1)])]),_:1})]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[92]||(n[92]=r(" 密码备份功能可以安全的将加密后的密码文件导出，在需要时通过 ",-1)),e(d,null,{default:l(()=>[...n[91]||(n[91]=[r("恢复备份密码",-1)])]),_:1}),n[93]||(n[93]=r(" 功能还原。 ",-1))]),_:1})]),s("div",Mn,[s("div",Ln,[e(d,{tag:"b"},{default:l(()=>[...n[94]||(n[94]=[r("恢复备份密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[26]||(n[26]=R=>t(i).backupAndRecoveryRef.recovery())},{default:l(()=>[...n[95]||(n[95]=[r("恢复 ",-1)])]),_:1})]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[96]||(n[96]=[r(" 此功能可以将备份文件中的密码恢复到密码列表。在验证备份文件的主密码后，您可以选择合并或覆盖方式恢复密码。 ",-1)])]),_:1})]),s("div",In,[s("div",Un,[e(d,{tag:"b"},{default:l(()=>[...n[97]||(n[97]=[r("导出密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[27]||(n[27]=R=>t(i).exportExcelRef.exportExcel(!1))},{default:l(()=>[...n[98]||(n[98]=[r("导出 Excel ",-1)])]),_:1})]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[99]||(n[99]=[r(" 导出密码会将敏感信息明文存储在excel表格中，请注意密码安全。若您仅需要迁移账号或备份密码建议使用密码备份与恢复功能更加高效安全。 ",-1)])]),_:1})]),s("div",Bn,[s("div",zn,[e(d,{tag:"b"},{default:l(()=>[...n[100]||(n[100]=[r("导入密码",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[28]||(n[28]=R=>t(i).importExcelRef&&t(i).importExcelRef.importExcel())},{default:l(()=>[...n[101]||(n[101]=[r("导入 Excel ",-1)])]),_:1})]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[...n[102]||(n[102]=[r(" 密码导入功能支持按照密码模板导入excel文件中的密码，您可以通过下载模板功能获取密码模板。 ",-1)])]),_:1})]),s("div",Nn,[s("div",On,[e(d,{tag:"b"},{default:l(()=>[...n[103]||(n[103]=[r("下载导入模板",-1)])]),_:1}),e(re,{plain:"",size:"small",type:"primary",onClick:n[29]||(n[29]=R=>t(i).exportExcelRef&&t(i).exportExcelRef.exportExcel(!0))},{default:l(()=>[...n[104]||(n[104]=[r("下载 ",-1)])]),_:1})]),e(c,{class:"function-line"}),e(d,{style:{"text-indent":"10px"},tag:"p",type:"info"},{default:l(()=>[n[106]||(n[106]=r(" 您可在下载的Excel模板中按照要求填写您的密码列表（ ",-1)),e(d,{type:"danger"},{default:l(()=>[...n[105]||(n[105]=[r("密码名称为必填",-1)])]),_:1}),n[107]||(n[107]=r(" ），然后使用密码导入功能导入您的密码。 ",-1))]),_:1})])]),_:1},8,["height"])]),_:1})),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[108]||(n[108]=[s("span",{class:"iconfont icon-problem action-icon",style:{color:"#FF69B4"}},null,-1),r(" 问题反馈 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",Kn,[s("div",Hn,[e(d,{tag:"b"},{default:l(()=>[...n[109]||(n[109]=[r("建议反馈",-1)])]),_:1})]),e(c,{class:"function-line"}),s("div",Gn,[e(d,{style:{"text-indent":"10px"},tag:"p"},{default:l(()=>[n[111]||(n[111]=r(" 您的建议是我们不断进步的动力，您可以在此项目 ",-1)),e(Ue,{href:t(ee).repository.url+"/issues",style:{position:"relative",top:"-2px"},target:"_blank",type:"primary"},{default:l(()=>[...n[110]||(n[110]=[r("开源地址 ",-1)])]),_:1},8,["href"]),n[112]||(n[112]=r(" 中留下您遇到的问题或提出宝贵的建议。 ",-1))]),_:1})])]),s("div",Yn,[s("div",jn,[e(d,{tag:"b"},{default:l(()=>[...n[113]||(n[113]=[r("常见问题",-1)])]),_:1})]),s("div",Jn,[e(Be)])])]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[114]||(n[114]=[s("span",{class:"iconfont icon-about action-icon",style:{color:"#FF4500"}},null,-1),r(" 关于项目 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",Wn,[e(Fe)])]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[115]||(n[115]=[s("span",{class:"iconfont icon-coffee action-icon",style:{color:"#FF5858FF"}},null,-1),r(" 支持我们 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",Xn,[e(ze)])]),_:1},8,["height"])]),_:1}),e(h,null,{label:l(()=>[e(d,null,{default:l(()=>[...n[116]||(n[116]=[s("span",{class:"iconfont icon-copyright action-icon",style:{color:"#FF8C00"}},null,-1),r(" 版权声明 ",-1)])]),_:1})]),default:l(()=>[e(j,{height:_()},{default:l(()=>[s("div",qn,[e(Ne)])]),_:1},8,["height"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","fullscreen"])}}}),Zn=X(Qn,[["__scopeId","data-v-50541de6"]]),hn={key:0,style:{"margin-top":"10px","text-align":"center"}},eo=Y({__name:"SetPassword",setup(H,{expose:f}){const o=Z(),a=Ke(),p=ne(),i=U(),x=U(),v=U(),k=U(!1),g=U(JSON.parse(JSON.stringify(o.mainPasswordType))),_=U(""),V=U(""),A=Te({firstMainPassword:"",secondMainPassword:""}),D=Te({firstMainPassword:[{required:!0,message:"请输入主密码",trigger:"blur"}],secondMainPassword:[{required:!0,message:"请再次输入主密码",trigger:"blur"}]}),z=()=>{A.firstMainPassword="",A.secondMainPassword="",V.value="",o.serviceStatus===K.WAIT_INIT?k.value=!0:p.verifyPasswordRef.getAndVerify(d=>o.passwordManager.verifyPassword(d)).then(d=>{_.value=d,k.value=!0})},B=d=>{d.validate(y=>{if(y){if(A.firstMainPassword!==A.secondMainPassword){le.error("两次输入的密码不一致");return}if(A.firstMainPassword===_.value){le.error("新密码与原密码一致");return}o.serviceStatus===K.WAIT_INIT?u(A.firstMainPassword):n(A.firstMainPassword)}})},I=d=>{if(!V.value){V.value=d;return}if(!(d.length<5)){if(V.value!==d){V.value="",le.warning("两次绘制的密码不一致");return}if(V.value===_.value){V.value="",le.error("新密码与原密码一致");return}o.serviceStatus===K.WAIT_INIT?u(V.value):n(V.value)}},u=d=>{o.loading(),o.passwordManager.initMainPassword(g.value,d).then(y=>{y.status?(k.value=!1,le.success("设置成功"),a.setAutoLoginInfo(d)):le.error(y.message),o.unloading()}).catch(()=>{o.unloading()})},n=d=>{o.passwordManager.updateMainPassword(_.value,g.value,d).then(y=>{y.status?(k.value=!1,a.setAutoLoginInfo(d),le.success("修改成功")):le.error(y.message),o.unloading()}).catch(()=>{o.unloading()})};return J(g,()=>{i.value?.clearValidate()}),f({setMainPassword:z}),(d,y)=>{const P=oe,c=$e,T=ye,N=je,w=Le,b=ut,C=bt,S=dt,j=de,h=ve;return m(),E(h,{modelValue:t(k),"onUpdate:modelValue":y[7]||(y[7]=L=>se(k)?k.value=L:null),"close-on-click-modal":!1,"close-on-press-escape":t(o).serviceStatus!==t(K).WAIT_INIT,"show-close":t(o).serviceStatus!==t(K).WAIT_INIT,width:["xs"].includes(t(G)().value)?"95%":"550px",onOpen:y[8]||(y[8]=L=>t(i)?.resetFields()),onOpened:y[9]||(y[9]=L=>t(x)?.focus())},Pt({header:l(()=>[e(P,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...y[10]||(y[10]=[s("span",{class:"iconfont icon-verify"},null,-1),r(" 设置主密码 ",-1)])]),_:1})]),default:l(()=>[e(c,{closable:!1,"show-icon":"",style:{"margin-top":"10px"},title:"主密码一旦遗忘，所有密码均无法找回！请慎重设置您的主密码。",type:"warning"}),e(S,{modelValue:t(g),"onUpdate:modelValue":y[5]||(y[5]=L=>se(g)?g.value=L:null),style:{"margin-top":"15px"},type:"card"},{default:l(()=>[e(b,{name:t(Pe).STANDARD,label:"标准密码"},{default:l(()=>[e(w,{ref_key:"setPasswordFormRef",ref:i,model:t(A),rules:t(D),"label-width":"80px",style:{width:"300px",margin:"20px auto"},onSubmit:y[4]||(y[4]=rt(()=>{},["prevent"]))},{default:l(()=>[e(N,{label:"主密码",prop:"firstMainPassword"},{default:l(()=>[e(T,{ref_key:"firstPasswordInputRef",ref:x,modelValue:t(A).firstMainPassword,"onUpdate:modelValue":y[0]||(y[0]=L=>t(A).firstMainPassword=L),autocomplete:"new-password",placeholder:"请输入主密码","show-password":"",type:"password",onKeyup:y[1]||(y[1]=Me(L=>t(v).focus(),["enter","native"]))},null,8,["modelValue"])]),_:1}),e(N,{label:"确认密码",prop:"secondMainPassword",style:{"padding-top":"10px"}},{default:l(()=>[e(T,{ref_key:"secondMainPasswordRef",ref:v,modelValue:t(A).secondMainPassword,"onUpdate:modelValue":y[2]||(y[2]=L=>t(A).secondMainPassword=L),autocomplete:"new-password",placeholder:"请再次输入主密码","show-password":"",type:"password",onKeyup:y[3]||(y[3]=Me(L=>B(t(i)),["enter","native"]))},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["name"]),e(b,{disabled:t(o).globalLoading.vis,name:t(Pe).GESTURE,label:"手势密码"},{default:l(()=>[t(g)===t(Pe).GESTURE?(m(),$("div",hn,[t(V)?(m(),E(P,{key:1},{default:l(()=>[...y[12]||(y[12]=[r("请再次绘制手势密码",-1)])]),_:1})):(m(),E(P,{key:0},{default:l(()=>[...y[11]||(y[11]=[r("请绘制手势密码",-1)])]),_:1})),e(C,{style:{width:"350px",margin:"0 auto"},onComplete:I})])):F("",!0)]),_:1},8,["disabled","name"])]),_:1},8,["modelValue"])]),_:2},[t(g)===t(Pe).STANDARD?{name:"footer",fn:l(()=>[e(j,{disabled:t(o).globalLoading.vis,type:"primary",onClick:y[6]||(y[6]=L=>B(t(i)))},{default:l(()=>[...y[13]||(y[13]=[r("确定 ",-1)])]),_:1},8,["disabled"])]),key:"0"}:void 0]),1032,["modelValue","close-on-press-escape","show-close","width"])}}}),to=X(eo,[["__scopeId","data-v-c3cf4cd1"]]),lo={style:{position:"absolute",padding:"7px"}},no={style:{"margin-top":"20px",padding:"10px"}},oo={style:{"margin-top":"20px",padding:"10px"}},so=Y({__name:"BackupAndRecovery",setup(H,{expose:f}){const o=Z(),a=ne(),p=U(!1),i=U(),x=U([]),v=U([]),k=u=>{let n=o.passwordManager.getStoreData();if(!n){ie.error({title:"系统异常",message:"备份文件不存在"});return}let d=u?`您与“${ge(Date.now(),"YYYY-MM-DD HH:mm")}” 进行密码恢复时系统自动备份了该文件，`:`您于“${ge(Date.now(),"YYYY-MM-DD HH:mm")}” 手动备份了该文件，`,y=o.allPasswordArray.length,P=xt(),c={explain:`此文件为password-XL 密码备份文件，${d}此文件包含：${y} 个密码、${P} 个标签。 password-XL 官网服务地址为：https://password-xl.cn`,storeData:n,backupTime:Date.now()},T="密码备份 "+ge(Date.now(),"YYYY-MM-DD HH:mm:ss")+".json";const N=new Blob([JSON.stringify(c)],{type:"text/plain;charset=utf-8"});Wt.saveAs(N,T)},g=()=>{i.value.click()},_=()=>{if(i.value.files.length===0)return;let u=i.value.files[0],n=new FileReader;n.onload=()=>{if(n.result)try{let d=JSON.parse(n.result);i.value.value="",V(d)}catch{ie.error({title:"恢复失败",message:"请检查备份文件是否正确"})}},n.readAsText(u)},V=async u=>{let n,d;if(Qe(o.mainPassword,u.storeData.passwordData))n=Re(o.mainPassword,u.storeData.passwordData),d=Re(o.mainPassword,u.storeData.labelData);else{let P=await a.verifyPasswordRef.getAndVerify(c=>Qe(c,u.storeData.passwordData),u.storeData.mainPasswordType);P&&(n=Re(P,u.storeData.passwordData),d=Re(P,u.storeData.labelData))}if(!n||!d)return ie.error({title:"恢复失败",message:"请检查备份文件及主密码是否正确"}),!1;x.value=kt(JSON.parse(n)),v.value=JSON.parse(d),!o.allPasswordArray.length&&!o.labelArray.length?A():p.value=!0},A=()=>{a.verifyPasswordRef.getAndVerify(u=>o.passwordManager.verifyPassword(u)).then(()=>{D()})},D=()=>{(o.allPasswordArray.length||o.labelArray.length)&&(k(!0),le.success("已为您自动备份现有密码")),o.allPasswordArray=x.value,o.labelArray=v.value,I()},z=()=>{a.verifyPasswordRef.getAndVerify(u=>o.passwordManager.verifyPassword(u)).then(()=>{B()})},B=()=>{(o.allPasswordArray.length||o.labelArray.length)&&(k(!0),le.success("已为您自动备份现有密码")),Ct(o.allPasswordArray,x.value),St(o.labelArray,v.value),I()},I=async()=>{let u=await o.passwordManager.syncStoreData().catch(n=>n);u.status?(le.success("密码恢复成功"),p.value=!1):ie.error({title:"系统异常",message:u.message})};return f({backup:k,recovery:g}),(u,n)=>{const d=oe,y=_e,P=Ve,c=Se,T=ve;return m(),$(W,null,[s("input",{ref_key:"fileInput",ref:i,accept:"application/json",style:{display:"none"},type:"file",onChange:n[0]||(n[0]=N=>_())},null,544),e(T,{modelValue:t(p),"onUpdate:modelValue":n[1]||(n[1]=N=>se(p)?p.value=N:null),fullscreen:["xs","sm"].includes(t(G)().value),draggable:"",width:"600px"},{header:l(()=>[e(d,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...n[2]||(n[2]=[s("span",{class:"iconfont icon-recovery"},null,-1),r(" 恢复密码 ",-1),s("span",{style:{"font-weight":"bold"}},"·",-1),r(" 请选择恢复方式 ",-1)])]),_:1})]),default:l(()=>[e(c,null,{default:l(()=>[e(P,{md:{span:12},sm:{span:24},class:"recovery-col"},{default:l(()=>[s("div",{class:"recovery-type recovery-merge",onClick:z},[s("div",lo,[e(y,{effect:"dark",type:"success"},{default:l(()=>[...n[3]||(n[3]=[r("推荐",-1)])]),_:1})]),n[6]||(n[6]=s("div",{class:"icon-div"},[s("span",{class:"iconfont icon-merge"})],-1)),e(d,{class:"recovery-text"},{default:l(()=>[...n[4]||(n[4]=[r(" 合并恢复 ",-1)])]),_:1}),s("div",no,[e(d,null,{default:l(()=>[...n[5]||(n[5]=[r("将现有密码与备份文件中的密码合并（修改过的密码会添加备注说明）",-1)])]),_:1})])])]),_:1}),e(P,{md:{span:12},sm:{span:24},class:"recovery-col"},{default:l(()=>[s("div",{class:"recovery-type recovery-cover",onClick:A},[n[9]||(n[9]=s("div",{class:"icon-div"},[s("span",{class:"iconfont icon-cover"})],-1)),e(d,{class:"recovery-text"},{default:l(()=>[...n[7]||(n[7]=[r(" 覆盖恢复 ",-1)])]),_:1}),s("div",oo,[e(d,null,{default:l(()=>[...n[8]||(n[8]=[r("使用备份文件覆盖密码列表，现有的密码和标签都将被删除",-1)])]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])],64)}}}),ao=X(so,[["__scopeId","data-v-9c120f14"]]),ro={key:1,style:{"text-align":"center"}},io={style:{margin:"20px"}},uo={style:{margin:"40px"}},po=Y({__name:"RecycleBin",setup(H,{expose:f}){const o=Z(),a=ae(),p=U(!1),i=()=>{p.value=!0},x=()=>{a.setting.enableRecycleBin=!0,o.passwordManager.syncSetting().then(g=>{g&&g.status&&le.success("已开启密码回收站")})},v=g=>{o.passwordManager.completelyDeletePassword(g.id).then(_=>{_.status&&le.success("删除成功")})},k=g=>{o.passwordManager.cancelDeletePassword(g.id)};return f({openRecycleBin:i}),(g,_)=>{const V=oe,A=Ge,D=fe,z=He,B=de,I=ve;return m(),E(I,{modelValue:t(p),"onUpdate:modelValue":_[0]||(_[0]=u=>se(p)?p.value=u:null),fullscreen:["xs"].includes(t(G)().value),class:"recycle-bin",draggable:"",width:"600px"},{header:l(()=>[e(V,{size:"large",style:{"user-select":"none"}},{default:l(()=>[..._[1]||(_[1]=[s("span",{class:"iconfont icon-recycle-bin"},null,-1),r(" 回收站 ",-1)])]),_:1})]),default:l(()=>[t(a).setting.enableRecycleBin?(m(),E(z,{key:0,data:t(o).deletedArray,"header-cell-style":{padding:0},height:"380px"},{empty:l(()=>[e(V,{type:"info"},{default:l(()=>[..._[2]||(_[2]=[r("这里空空如也",-1)])]),_:1})]),default:l(()=>[e(A,{prop:"title"}),e(A,{width:"150px"},{default:l(u=>[e(D,{underline:!1,type:"primary",onClick:n=>k(u.row)},{default:l(()=>[..._[3]||(_[3]=[r("还原",-1)])]),_:1},8,["onClick"]),e(D,{underline:!1,style:{"margin-left":"15px"},type:"danger",onClick:n=>v(u.row)},{default:l(()=>[..._[4]||(_[4]=[r(" 彻底删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])):(m(),$("div",ro,[_[7]||(_[7]=s("div",{style:{"margin-top":"20px"}},[s("span",{class:"iconfont icon-recycle-bin not-enabled-recycle-bin-icon"})],-1)),s("div",io,[e(V,{type:"info"},{default:l(()=>[..._[5]||(_[5]=[r("当前未开启密码回收站功能",-1)])]),_:1})]),s("div",uo,[e(B,{plain:"",type:"primary",onClick:x},{default:l(()=>[..._[6]||(_[6]=[r("开启回收站",-1)])]),_:1})])]))]),_:1},8,["modelValue","fullscreen"])}}}),fo=X(po,[["__scopeId","data-v-681a38ee"]]),mo={key:0,class:"empty-favorite"},co={key:1},go=Y({__name:"Favorite",setup(H){const f=Z(),o=ne(),a=U(0),p=v=>{v.favorite=!1,a.value=0,f.filterCondition.favoriteId=0,f.passwordManager.updatePassword(v)},i=v=>{f.filterCondition.favoriteId===v?f.filterCondition.favoriteId=0:(f.filterCondition.favoriteId=v,o.labelTreeRef?o.labelTreeRef.setCheckedNodes([]):f.filterCondition.labelArray=[])},x=v=>f.filterCondition.favoriteId===v.id?"dark":a.value===v.id?"light":"plain";return(v,k)=>{const g=_e,_=Xe,V=We,A=Je,D=Ie;return m(),E(D,{height:"calc(50vh - 106px)"},{default:l(()=>[t(f).favoritePasswordArray.length?F("",!0):(m(),$("div",mo," 暂无收藏 ")),t(f).favoritePasswordArray.length?(m(),$("div",co,[(m(!0),$(W,null,pe(t(f).favoritePasswordArray,z=>(m(),E(A,{trigger:"contextmenu"},{dropdown:l(()=>[e(V,null,{default:l(()=>[e(_,{onClick:B=>p(z)},{default:l(()=>[...k[1]||(k[1]=[s("span",{class:"iconfont icon-edit cancel-favorite"},null,-1),r(" 取消收藏 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:l(()=>[e(g,{effect:x(z),class:"favorite-tag",size:"large",type:"warning",onClick:B=>i(z.id),onMouseenter:B=>a.value=z.id,onMouseleave:k[0]||(k[0]=B=>a.value=0)},{default:l(()=>[r(O(z.title),1)]),_:2},1032,["effect","onClick","onMouseenter"])]),_:2},1024))),256))])):F("",!0)]),_:1})}}}),gt=X(go,[["__scopeId","data-v-6e060ee0"]]),yo={key:0,style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},vo=Y({__name:"FavoriteDrawer",setup(H,{expose:f}){const o=Z(),a=U(!1);return f({showFavoriteDrawer:()=>{a.value=!0}}),J(()=>o.filterCondition.favoriteId,()=>{a.value=!1}),(i,x)=>{const v=gt,k=qe;return m(),$("div",null,[e(k,{modelValue:t(a),"onUpdate:modelValue":x[0]||(x[0]=g=>se(a)?a.value=g:null),direction:["xs","sm"].includes(t(G)().value)?"btt":"rtl",size:["xs","sm"].includes(t(G)().value)?"60%":"350px",title:"收藏"},{default:l(()=>[t(o).favoritePasswordArray.length?(m(),$("div",yo,[...x[1]||(x[1]=[s("span",{class:"iconfont icon-info",style:{"font-size":"100%"}},null,-1),r(" 点击收藏内容即可查看密码 ",-1)])])):F("",!0),e(v)]),_:1},8,["modelValue","direction","size"])])}}}),_o=X(vo,[["__scopeId","data-v-e746cfbb"]]),wo=["onClick","onContextmenu"],bo={key:1,style:{width:"100%"}},xo=Y({__name:"LabelTree",setup(H,{expose:f}){const o=Z(),a=ne(),p=U({}),i={},x=U(0),v=()=>o.labelArray.map(u=>u.id),k=u=>u.data.id!==x.value,g=(u,n)=>{let d=0;u&&(d=n==="peer"?u.data.pid:u.data.id);let y={id:Date.now(),pid:d,name:"新标签",children:[]};x.value=y.id,u?n==="peer"?a.labelTreeRef.insertAfter(y,u.data.id):a.labelTreeRef.append(y,u.data.id):a.labelTreeRef.append(y),a.labelTreeRef.setCurrentKey(y.id,!0),setTimeout(function(){i[y.id]?.focus()},150)},_=u=>{x.value=u.data.id,setTimeout(function(){i[u.data.id]?.focus()},150)},V=u=>{ke.confirm("确认删除“"+u.data.name+"”吗？","删除标签",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{A(u)}).catch(()=>{})},A=u=>{const n=(P,c)=>{c.push(P.id);for(let T=0;T<P.children.length;T++)n(P.children[T],c)};let d=[];n(u.data,d);let y=!1;for(let P=0;P<o.allPasswordArray.length;P++){let c=o.allPasswordArray[P];for(let T=0;T<c.labels.length;T++)d.includes(c.labels[T])&&(c.labels.splice(T--,1),y=!0)}a.labelTreeRef.remove(u.data.id);for(let P=0;P<o.filterCondition.labelArray.length;P++)d.includes(o.filterCondition.labelArray[P])&&o.filterCondition.labelArray.splice(P,1);for(let P=0;P<d.length;P++)delete i[d[P]];o.passwordManager.syncStoreData(),y&&o.passwordManager.syncStoreData()},D=u=>{u.name.trim()&&x.value!==0&&(x.value=0,o.passwordManager.syncStoreData())},z=u=>{x.value===0&&a.labelTreeRef.setChecked(u,!u.checked)},B=()=>{let u=a.labelTreeRef.getCheckedKeys();u.length>0&&(o.filterCondition.favoriteId=0),o.filterCondition.labelArray=u},I=(u,n)=>{u.stopPropagation(),a.contextmenuRef.hideContextmenu();for(let d in p.value)p.value[d]&&p.value[d].handleClose()};return f({addLabel:g}),(u,n)=>{const d=de,y=ye,P=Xe,c=We,T=Je,N=Kt,w=Ie;return m(),E(w,{height:"calc(50vh - 106px)"},{default:l(()=>[e(N,{ref:b=>t(a).labelTreeRef=b,"allow-drag":k,"check-strictly":!0,data:t(o).labelArray,"default-expanded-keys":v(),"expand-on-click-node":!1,draggable:"","node-key":"id","show-checkbox":"",style:{"background-color":"rgba(0,0,0,0)"},onCheckChange:B,onNodeDrop:n[1]||(n[1]=b=>t(o).passwordManager.syncStoreData())},{empty:l(()=>[t(o).serviceStatus===t(K).UNLOCKED?(m(),E(d,{key:0,plain:"",size:"small",type:"primary",onClick:n[0]||(n[0]=b=>g(null,"sub"))},{default:l(()=>[...n[2]||(n[2]=[r(" 创建密码标签 ",-1)])]),_:1})):F("",!0)]),default:l(({node:b,data:C})=>[e(T,{ref:S=>t(p)[C.id]=S,disabled:t(x)!==0,"hide-timeout":0,style:{width:"100%"},trigger:"contextmenu"},{dropdown:l(()=>[e(c,null,{default:l(()=>[e(P,{onClick:S=>g(b,"peer")},{default:l(()=>[...n[3]||(n[3]=[s("span",{class:"iconfont icon-peer-directory more-item",style:{color:"rgb(22 220 109)"}},null,-1),r(" 添加同级标签 ",-1)])]),_:1},8,["onClick"]),e(P,{onClick:S=>g(b,"sub")},{default:l(()=>[...n[4]||(n[4]=[s("span",{class:"iconfont icon-sub-directory more-item",style:{color:"rgb(0 147 255)"}},null,-1),r(" 添加子级标签 ",-1)])]),_:1},8,["onClick"]),e(P,{divided:"",onClick:S=>_(b)},{default:l(()=>[...n[5]||(n[5]=[s("span",{class:"iconfont icon-edit more-item",style:{color:"#FF9700","font-size":"130%"}},null,-1),r(" 修改标签 ",-1)])]),_:1},8,["onClick"]),e(P,{onClick:S=>V(b)},{default:l(()=>[...n[6]||(n[6]=[s("span",{class:"iconfont icon-delete more-item",style:{color:"rgb(255,23,23)","font-size":"130%"}},null,-1),r(" 删除标签 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:l(()=>[C.id!==t(x)?(m(),$("div",{key:0,class:"label-content",onClick:S=>z(b),onContextmenu:S=>I(S,C.id)},O(C.name),41,wo)):F("",!0),C.id===t(x)?(m(),$("div",bo,[e(y,{ref:S=>i[b.data.id]=S,modelValue:C.name,"onUpdate:modelValue":S=>C.name=S,size:"small",onBlur:S=>D(C),onKeyup:Me(S=>D(C),["enter"])},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeyup"])])):F("",!0)]),_:2},1032,["disabled"])]),_:1},8,["data","default-expanded-keys"])]),_:1})}}}),yt=X(xo,[["__scopeId","data-v-7bfb6101"]]),ko=Y({__name:"LabelDrawer",setup(H,{expose:f}){const o=U(!1);return f({showLabelDrawer:()=>{o.value=!0}}),(p,i)=>{const x=yt,v=qe;return m(),$("div",null,[e(v,{modelValue:t(o),"onUpdate:modelValue":i[0]||(i[0]=k=>se(o)?o.value=k:null),direction:["xs","sm"].includes(t(G)().value)?"btt":"rtl",size:["xs","sm"].includes(t(G)().value)?"80%":"350px",title:"标签"},{default:l(()=>[i[1]||(i[1]=s("div",{style:{"font-size":"12px",color:"#999","margin-bottom":"20px"}},[s("span",{class:"iconfont icon-info",style:{"font-size":"100%"}}),r(" 选中标签可以对密码列表进行过滤 ")],-1)),e(x)]),_:1},8,["modelValue","direction","size"])])}}}),Co=X(ko,[["__scopeId","data-v-df4b86cb"]]),So={class:"generate-input-div"},Vo={class:"generate-use-type-div"},$o={class:"generate-length-div"},Ao=["onClick"],Fo={class:"iconfont icon-check-mark",style:{"font-size":"14px"}},Po={style:{display:"flex","justify-content":"end"}},Ro=Y({__name:"PasswordForm",setup(H,{expose:f}){const o=ne(),a=Z(),p=ae(),i=U(!1),x=U(""),v=U(!1),k=()=>({id:0,title:"",address:"",username:"",password:"",remark:"",addTime:0,updateTime:0,deleteTime:0,favoriteTime:0,favorite:!1,customFields:[],labels:[],status:Vt.NORMAL,bgColor:""}),g=U(k()),_=U(JSON.parse(JSON.stringify(p.setting.generateRule))),V=Te({title:[{required:!0,message:"请输入名称",trigger:"blur"}]}),A=w=>{x.value="add",g.value=k(),_.value=JSON.parse(JSON.stringify(p.setting.generateRule)),i.value=!0,o.passwordFormFormRef?.clearValidate(),p.setting.autoGeneratePassword&&d(),w&&Rt(()=>{g.value.title=w}),setTimeout(()=>{o.passwordFormTitleRef?.focus()},300)},D=w=>{u!==null&&clearInterval(u),n!==null&&clearTimeout(n),w.name&&(g.value.title=w.name),w.address&&(g.value.address=w.address),w.username&&(g.value.username=w.username),w.password&&(g.value.password=w.password),w.remark&&(g.value.remark=w.remark)},z=w=>{x.value="edit",_.value=JSON.parse(JSON.stringify(p.setting.generateRule)),g.value=JSON.parse(JSON.stringify(w)),i.value=!0,o.passwordFormFormRef?.clearValidate()},B=()=>{i.value=!1},I=(w,b)=>{if(!w){b([]);return}let C=a.passwordArray.filter(S=>S.username.startsWith(w)).map(S=>({value:S.username})).filter((S,j,h)=>j===h.findIndex(L=>L.value===S.value));b([...new Set(C)])};let u=null,n=null;const d=()=>{v.value=!1,u!==null&&clearInterval(u),n=setTimeout(()=>{v.value=!0,g.value.password="";const w=$t(_.value);if(!w)return;let b=0;u=setInterval(()=>{g.value.password+=w[b++],b>=w.length&&(clearInterval(u),u=null)},500/_.value.length/4)},1)},y=()=>a.labelArray.map(w=>w.id),P=()=>{g.value.customFields instanceof Array||(g.value.customFields=[]),g.value.customFields.push({key:"",val:""})},c=async w=>{await w.validate(b=>{b&&(x.value==="add"?a.passwordManager.addPassword(JSON.parse(JSON.stringify(g.value))).then(C=>{C.status?(le.success("保存成功"),i.value=!1):ie.error({title:"系统异常",message:C.message})}):(g.value.updateTime=Date.now(),a.passwordManager.updatePassword(JSON.parse(JSON.stringify(g.value))).then(C=>{C.status?(le.success("修改成功"),i.value=!1):ie.error({title:"系统异常",message:C.message})})))})};f({addPasswordForm:A,editPasswordForm:z,setPasswordForm:D,closePasswordForm:B});const T=w=>{p.setting.enableShortcutKey&&w.ctrlKey&&w.key.toUpperCase()==="S"&&(w.preventDefault(),c(o.passwordFormFormRef))},N=w=>{g.value.customFields.splice(w,1)};return Ce(()=>{document.addEventListener("keydown",T)}),at(()=>{document.removeEventListener("keydown",T)}),(w,b)=>{const C=oe,S=ye,j=je,h=mt,L=de,Ae=be,re=pt,me=Ve,Ue=Se,Be=ft,Fe=we,ze=Ht,Ne=Le,Oe=qe;return m(),E(Oe,{modelValue:t(i),"onUpdate:modelValue":b[15]||(b[15]=M=>se(i)?i.value=M:null),direction:["xs","sm"].includes(t(G)().value)?"btt":"rtl","show-close":!1,size:["xs","sm"].includes(t(G)().value)?"80%":"540px"},{header:l(()=>[e(C,{style:{"font-size":"16px"}},{default:l(()=>[r(O(t(x)==="add"?"添加密码":"修改密码"),1)]),_:1})]),default:l(()=>[e(Ne,{ref:M=>t(o).passwordFormFormRef=M,model:t(g),rules:t(V),"label-width":"60px"},{default:l(()=>[e(j,{label:"名称",prop:"title"},{default:l(()=>[e(S,{ref:M=>t(o).passwordFormTitleRef=M,modelValue:t(g).title,"onUpdate:modelValue":b[0]||(b[0]=M=>t(g).title=M),autocomplete:"new-password",clearable:""},null,8,["modelValue"])]),_:1}),e(j,{label:"地址",prop:"address"},{default:l(()=>[e(S,{modelValue:t(g).address,"onUpdate:modelValue":b[1]||(b[1]=M=>t(g).address=M),autocomplete:"new-password",clearable:"",placeholder:"https://"},null,8,["modelValue"])]),_:1}),e(j,{label:"用户名",prop:"username"},{default:l(()=>[e(h,{modelValue:t(g).username,"onUpdate:modelValue":b[2]||(b[2]=M=>t(g).username=M),"fetch-suggestions":I,autocomplete:"new-password",clearable:""},null,8,["modelValue"])]),_:1}),e(j,{label:"密码"},{default:l(()=>[e(Fe,{class:"generate-card"},{default:l(()=>[s("div",So,[e(S,{modelValue:t(g).password,"onUpdate:modelValue":b[4]||(b[4]=M=>t(g).password=M),autocomplete:"new-password",class:"generate-input",clearable:"",placeholder:"输入密码或随机生成"},{append:l(()=>[e(Ae,{content:"随机生成",placement:"top"},{default:l(()=>[e(L,{ref:M=>t(o).passwordFormGenerateBtnRef=M,class:"refresh-password",tabindex:"-1",onClick:d},{default:l(()=>[s("i",{class:it([{"random-dice":t(v)},"iconfont icon-dice"]),onAnimationend:b[3]||(b[3]=M=>v.value=!1)},null,34)]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),e(L,{plain:"",tabindex:"-1",type:"success",onClick:b[5]||(b[5]=M=>t(q)(t(g).password))},{default:l(()=>[...b[16]||(b[16]=[r("复制",-1)])]),_:1})]),s("div",Vo,[e(Ue,null,{default:l(()=>[e(me,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(re,{modelValue:t(_).uppercase,"onUpdate:modelValue":b[6]||(b[6]=M=>t(_).uppercase=M),disabled:!t(_).lowercase&&!t(_).number&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"大写",size:"small",tabindex:"-1",onChange:d},null,8,["modelValue","disabled"])]),_:1}),e(me,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(re,{modelValue:t(_).lowercase,"onUpdate:modelValue":b[7]||(b[7]=M=>t(_).lowercase=M),disabled:!t(_).uppercase&&!t(_).number&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"小写",size:"small",tabindex:"-1",onChange:d},null,8,["modelValue","disabled"])]),_:1}),e(me,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(re,{modelValue:t(_).number,"onUpdate:modelValue":b[8]||(b[8]=M=>t(_).number=M),disabled:!t(_).uppercase&&!t(_).lowercase&&!t(_).symbol,border:"",class:"generate-type-checkbox",label:"数字",size:"small",tabindex:"-1",onChange:d},null,8,["modelValue","disabled"])]),_:1}),e(me,{sm:{span:6},xs:{span:12},style:{"text-align":"center"}},{default:l(()=>[e(re,{modelValue:t(_).symbol,"onUpdate:modelValue":b[9]||(b[9]=M=>t(_).symbol=M),disabled:!t(_).uppercase&&!t(_).lowercase&&!t(_).number,border:"",class:"generate-type-checkbox",label:"符号",size:"small",tabindex:"-1",onChange:d},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),s("div",$o,[e(Be,{ref:M=>t(o).passwordFormGenerateRuleRef=M,modelValue:t(_).length,"onUpdate:modelValue":b[10]||(b[10]=M=>t(_).length=M),max:32,min:4,"show-input-controls":!1,"show-input":"",size:"small",tabindex:"-1",onChange:d},null,8,["modelValue"])])]),_:1})]),_:1}),e(j,{label:"标签"},{default:l(()=>[e(ze,{modelValue:t(g).labels,"onUpdate:modelValue":b[11]||(b[11]=M=>t(g).labels=M),"check-strictly":!0,data:t(a).labelArray,"default-expanded-keys":y(),props:{label:"name"},multiple:"","node-key":"id","show-checkbox":""},null,8,["modelValue","data","default-expanded-keys"])]),_:1}),e(j,{label:"备注"},{default:l(()=>[e(S,{modelValue:t(g).remark,"onUpdate:modelValue":b[12]||(b[12]=M=>t(g).remark=M),rows:2,autocomplete:"new-password",placeholder:"备注...",type:"textarea"},null,8,["modelValue"])]),_:1}),t(p).setting.passwordColor?(m(),E(j,{key:0},{default:l(()=>[(m(!0),$(W,null,pe(t(p).setting.bgColors,M=>(m(),$("div",{style:te({"background-color":t(De)(M,t(g).bgColor===M?"0.5":"0.3"),transform:t(g).bgColor===M?"scale(1.5)":"scale(1)"}),class:"bg-color-item",onClick:xe=>t(g).bgColor===M?t(g).bgColor="":t(g).bgColor=M},[Et(s("span",Fo,null,512),[[Dt,t(g).bgColor===M]])],12,Ao))),256))]),_:1})):F("",!0),e(j,{label:"自定义"},{default:l(()=>[t(g).customFields&&t(g).customFields.length>0?(m(),E(Fe,{key:0,style:{width:"100%"}},{default:l(()=>[(m(!0),$(W,null,pe(t(g).customFields,(M,xe)=>(m(),$("div",{style:te([{"margin-bottom":xe!==t(g).customFields.length-1?"15px":"0"},{display:"flex"}])},[e(S,{modelValue:M.key,"onUpdate:modelValue":R=>M.key=R,placeholder:"名称",style:{"margin-right":"10px",flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),e(S,{modelValue:M.val,"onUpdate:modelValue":R=>M.val=R,placeholder:"内容",style:{"margin-right":"10px",flex:"2"}},null,8,["modelValue","onUpdate:modelValue"]),e(L,{plain:"",title:"删除",type:"danger",onClick:R=>N(xe)},{default:l(()=>[...b[17]||(b[17]=[s("span",{class:"iconfont icon-clean"},null,-1)])]),_:1},8,["onClick"])],4))),256))]),_:1})):F("",!0),e(L,{plain:"",style:{"margin-top":"10px"},type:"primary",onClick:b[13]||(b[13]=M=>P())},{default:l(()=>[...b[18]||(b[18]=[r("添加自定义信息",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"]),s("div",Po,[e(L,{ref:M=>t(o).passwordFormSaveBtnRef=M,type:"primary",onClick:b[14]||(b[14]=M=>c(t(o).passwordFormFormRef))},{default:l(()=>[...b[19]||(b[19]=[r("保存 ",-1)])]),_:1},512)])]),_:1},8,["modelValue","direction","size"])}}}),Eo=X(Ro,[["__scopeId","data-v-d853bf10"]]),Do=Y({__name:"CancelAccount",setup(H,{expose:f}){const o=ne(),a=Z(),p=U(!1),i=()=>{p.value=!0},x=()=>{o.verifyPasswordRef.getAndVerify(v=>a.passwordManager.verifyPassword(v)).then(()=>{a.passwordManager.closeAccount().then(v=>{v.status?(ie.success({title:"账户注销成功",message:"欢迎再次使用！"}),a.logout()):ie.error({title:"账户注销失败",message:v.message})})})};return f({showCloseAccount:i}),(v,k)=>{const g=oe,_=$e,V=de,A=ve;return m(),E(A,{modelValue:t(p),"onUpdate:modelValue":k[1]||(k[1]=D=>se(p)?p.value=D:null),width:["xs"].includes(t(G)().value)?"95%":"400px"},{header:l(()=>[e(g,{size:"large",style:{"user-select":"none"}},{default:l(()=>[...k[2]||(k[2]=[s("span",{class:"iconfont icon-risk"},null,-1),r(" 注销账户 ",-1)])]),_:1})]),footer:l(()=>[e(V,{plain:"",type:"primary",onClick:k[0]||(k[0]=D=>p.value=!1)},{default:l(()=>[...k[4]||(k[4]=[r("我点错了",-1)])]),_:1}),e(V,{type:"danger",onClick:x},{default:l(()=>[...k[5]||(k[5]=[r("确认注销",-1)])]),_:1})]),default:l(()=>[e(_,{closable:!1,type:"error"},{default:l(()=>[...k[3]||(k[3]=[r("注销账户将永久删除所有密码和标签且不可恢复，确认注销账户吗？",-1)])]),_:1})]),_:1},8,["modelValue","width"])}}}),To=X(Do,[["__scopeId","data-v-c6356025"]]),Mo={style:{display:"flex","justify-content":"space-between"}},Lo=Y({__name:"FavoriteCard",setup(H){const f=Z(),o=ae();return(a,p)=>{const i=oe,x=ct,v=be,k=gt,g=we;return t(o).setting.showFavoriteCard?(m(),E(g,{key:0,style:te({"background-color":t(f).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),class:"favorite-card"},{header:l(()=>[s("div",Mo,[s("div",null,[p[2]||(p[2]=s("span",{class:"iconfont icon-collect",style:{color:"#FF9700","margin-right":"8px","font-size":"110%"}},null,-1)),e(i,{size:"large"},{default:l(()=>[...p[1]||(p[1]=[r("收藏",-1)])]),_:1})]),s("div",null,[t(f).filterCondition.favoriteId!==0?(m(),E(v,{key:0,content:"收藏过滤生效中，点击取消",placement:"left"},{default:l(()=>[e(x,{class:"item","is-dot":""},{default:l(()=>[s("span",{class:"iconfont icon-filtration filter-icon",onClick:p[0]||(p[0]=_=>t(f).filterCondition.favoriteId=0)})]),_:1})]),_:1})):F("",!0)])])]),default:l(()=>[e(k)]),_:1},8,["style"])):F("",!0)}}}),Io=X(Lo,[["__scopeId","data-v-27e83281"]]),Uo={style:{display:"flex","justify-content":"space-between"}},Bo=Y({__name:"LabelCard",setup(H){const f=Z(),o=ne(),a=ae();return(p,i)=>{const x=oe,v=ct,k=be,g=yt,_=we;return t(a).setting.showLabelCard?(m(),E(_,{key:0,style:te({"background-color":t(f).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),class:"label-card",header:"标签"},{header:l(()=>[s("div",Uo,[s("div",null,[i[2]||(i[2]=s("span",{class:"iconfont icon-label",style:{color:"#409EFF","margin-right":"8px","font-size":"110%"}},null,-1)),e(x,{size:"large"},{default:l(()=>[...i[1]||(i[1]=[r("标签",-1)])]),_:1})]),s("div",null,[t(f).filterCondition.labelArray.length?(m(),E(k,{key:0,content:"标签过滤生效中，点击取消",placement:"left"},{default:l(()=>[e(v,{class:"item","is-dot":""},{default:l(()=>[s("span",{class:"iconfont icon-filtration filter-icon",onClick:i[0]||(i[0]=V=>t(o).labelTreeRef.setCheckedNodes([]))})]),_:1})]),_:1})):F("",!0)])])]),default:l(()=>[e(g,{ref:V=>t(o).labelTreeDivRef=V},null,512)]),_:1},8,["style"])):F("",!0)}}}),zo=X(Bo,[["__scopeId","data-v-565bc2b0"]]),No=""+new URL("empty-CTwObXQe.svg",import.meta.url).href,Oo={class:"empty-list-div"},Ko={key:0},Ho={key:1},Go=Y({__name:"EmptyList",setup(H){const f=Z(),o=ne();return(a,p)=>{const i=de;return m(),$("div",Oo,[t(f).serviceStatus===t(K).LOGGED?(m(),$("div",Ko,[p[3]||(p[3]=s("span",{class:"iconfont icon-lock-close"},null,-1)),p[4]||(p[4]=s("div",{class:"status-tip"},"已锁定",-1)),e(i,{plain:"",style:{"margin-top":"30px"},type:"primary",onClick:p[0]||(p[0]=x=>t(o).verifyPasswordRef.verifyAndUnlock())},{default:l(()=>[...p[2]||(p[2]=[r(" 解锁 ",-1)])]),_:1})])):F("",!0),t(f).serviceStatus===t(K).UNLOCKED?(m(),$("div",Ho,[p[6]||(p[6]=s("img",{alt:"",src:No},null,-1)),p[7]||(p[7]=s("div",{class:"status-tip"},"这里一个密码都没有",-1)),t(f).passwordArray.length===0?(m(),E(i,{key:0,plain:"",style:{"margin-top":"30px"},type:"primary",onClick:p[1]||(p[1]=x=>t(o).passwordFormRef.addPasswordForm())},{default:l(()=>[...p[5]||(p[5]=[r(" 添加我的第一个密码 ",-1)])]),_:1})):F("",!0)])):F("",!0)])}}}),vt=X(Go,[["__scopeId","data-v-46971f0f"]]),Yo=["onClick"],jo={class:"password-field-ul",style:{height:"100%"}},Jo={key:0,class:"empty-card"},Wo={key:1},Xo={key:2},qo={class:"card-username-div"},Qo=["onClick"],Zo={key:3},ho={key:0,class:"card-password-span"},es={key:1,style:{position:"relative",top:"3px"}},ts=["onClick"],ls=["onClick"],ns={key:4},os={key:5},ss={key:0},as={style:{display:"flex","justify-content":"space-between"}},rs=Y({__name:"PasswordCards",setup(H){const f=Z(),o=ne(),a=ae(),p=U(0),i=U(),x=u=>{u.favorite=!u.favorite,u.favoriteTime=Date.now(),f.passwordManager.updatePassword(u)},v=u=>{u.password.length>40?(o.showPasswordRef.showPassword(u),p.value=0):p.value=u.id},k=u=>{ke.confirm("确认删除“"+u.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{f.passwordManager.deletePassword(u.id).then(n=>{n.status||ie.error({title:"系统异常",message:n.message})})}).catch(()=>{})},g=()=>["xs"].includes(G().value)?1:["sm","md"].includes(G().value)?2:["lg"].includes(G().value)?3:4,_=u=>{let n=f.isDark?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.1)";return a.setting.passwordColor?{"background-color":De(u.bgColor,"0.06"),"border-bottom":u.bgColor?"1px solid "+De(u.bgColor,"0.06"):"1px solid "+n}:{"background-color":"rgba(0,0,0,0)","border-bottom":"1px solid "+n}},V=()=>a.setting.dynamicBackground?{"background-color":f.isDark?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)"}:{"background-color":f.isDark?"rgba(0,0,0,1)":"rgba(255,255,255,1)"},A=U(1),D=U(g()*5),z=()=>f.visPasswordArray.slice(0,A.value*D.value),B=()=>{const u=i.value.wrapRef;u.scrollTop+u.clientHeight>=u.scrollHeight-200&&A.value*D.value<f.visPasswordArray.length&&A.value++},I=()=>{i.value.wrapRef.addEventListener("scroll",()=>{B()})};return Ce(()=>{B(),I()}),(u,n)=>{const d=be,y=oe,P=fe,c=_e,T=de,N=we,w=vt,b=Ie;return m(),E(b,{ref_key:"passwordCardScrollbar",ref:i,height:"calc(100vh - 85px)"},{default:l(()=>[t(f).visPasswordArray.length?(m(),$("div",{key:0,style:te([{"grid-template-columns":"repeat("+g()+", 1fr)"},{display:"grid",padding:"6px"}])},[(m(!0),$(W,null,pe(z(),C=>(m(),$("div",null,[e(N,{style:V,"body-style":"height: 100%;",class:"password-card"},{header:l(()=>[s("div",{style:te(_(C)),class:"password-header-div"},[s("div",null,[t(a).setting.showStrength&&C.password?(m(),E(d,{key:0,content:t(ot)(C.password),placement:"top"},{default:l(()=>[s("div",{style:te({"background-color":t(st)(C.password)}),class:"password-strength"},null,4)]),_:2},1032,["content"])):F("",!0),e(y,{style:{"font-size":"17px"}},{default:l(()=>[r(O(C.title),1)]),_:2},1024)]),s("div",null,[e(d,{content:C.favorite?"取消收藏":"收藏",placement:"top"},{default:l(()=>[s("span",{class:it([C.favorite?"icon-favorited":"icon-collect","iconfont icon-favorited card-opt-icon"]),style:te([{color:C.favorite?"#FF9700":"rgb(255 151 0 / 75%)"},{"font-size":"115%"}]),onClick:S=>x(C)},null,14,Yo)]),_:2},1032,["content"])])],4)]),footer:l(()=>[s("div",as,[e(y,{style:{"font-size":"80%"},type:"info"},{default:l(()=>[r(O(t(ge)(C.updateTime,"YYYY-MM-DD HH:mm")),1)]),_:2},1024),s("div",null,[e(d,{content:"删除",placement:"top"},{default:l(()=>[e(T,{plain:"",size:"small",type:"danger",onClick:S=>k(C)},{default:l(()=>[...n[13]||(n[13]=[s("span",{class:"iconfont icon-delete card-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(d,{content:"修改",placement:"top"},{default:l(()=>[e(T,{plain:"",size:"small",type:"primary",onClick:S=>t(o).passwordFormRef.editPasswordForm(C)},{default:l(()=>[...n[14]||(n[14]=[s("span",{class:"iconfont icon-edit card-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(d,{content:"分享",placement:"top"},{default:l(()=>[e(T,{plain:"",size:"small",type:"success",onClick:S=>t(nt)(C)},{default:l(()=>[...n[15]||(n[15]=[s("span",{class:"iconfont icon-share card-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024)])])]),default:l(()=>[s("ul",jo,[!C.address&&!C.username&&!C.password&&!C.remark&&!C.labels.length&&!(C.customFields&&C.customFields.length>0)?(m(),$("li",Jo,[e(y,{style:{margin:"20px 0"}},{default:l(()=>[...n[1]||(n[1]=[r(" 空空如也！ ",-1)])]),_:1})])):F("",!0),C.address?(m(),$("li",Wo,[e(y,{class:"password-field-name"},{default:l(()=>[...n[2]||(n[2]=[r("地址:",-1)])]),_:1}),e(y,{class:"password-field-value"},{default:l(()=>[t(tt)(C.address)?(m(),E(P,{key:0,href:C.address,target:"_blank",type:"primary"},{default:l(()=>[r(O(C.address),1)]),_:2},1032,["href"])):(m(),E(y,{key:1},{default:l(()=>[r(O(C.address),1)]),_:2},1024))]),_:2},1024),n[3]||(n[3]=s("div",{class:"clear"},null,-1))])):F("",!0),C.username?(m(),$("li",Xo,[e(y,{class:"password-field-name"},{default:l(()=>[...n[4]||(n[4]=[r("用户名:",-1)])]),_:1}),e(y,{class:"password-field-value"},{default:l(()=>[s("div",qo,[r(O(C.username)+" ",1),e(d,{"hide-after":0,"show-after":300,content:"复制用户名",placement:"top"},{default:l(()=>[s("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:S=>t(q)(C.username)},null,8,Qo)]),_:2},1024)])]),_:2},1024),n[5]||(n[5]=s("div",{class:"clear"},null,-1))])):F("",!0),C.password?(m(),$("li",Zo,[e(y,{class:"password-field-name"},{default:l(()=>[...n[6]||(n[6]=[r("密码:",-1)])]),_:1}),e(y,{class:"password-field-value"},{default:l(()=>[t(p)===C.id?(m(),$("span",ho,O(C.password),1)):(m(),$("span",es,"**********")),t(p)===C.id?(m(),$("span",{key:2,class:"iconfont icon-hide password-card-icon",onClick:n[0]||(n[0]=S=>p.value=0)})):(m(),$("span",{key:3,class:"iconfont icon-show password-card-icon",onClick:S=>v(C)},null,8,ts)),s("span",{class:"iconfont icon-copy password-card-icon",style:{},onClick:S=>t(q)(C.password)},null,8,ls)]),_:2},1024),n[7]||(n[7]=s("div",{class:"clear"},null,-1))])):F("",!0),C.remark?(m(),$("li",ns,[e(y,{class:"password-field-name"},{default:l(()=>[...n[8]||(n[8]=[r("备注:",-1)])]),_:1}),e(y,{class:"password-field-value"},{default:l(()=>[r(O(C.remark),1)]),_:2},1024),n[9]||(n[9]=s("div",{class:"clear"},null,-1))])):F("",!0),C.labels.length?(m(),$("li",os,[e(y,{class:"password-field-name"},{default:l(()=>[...n[10]||(n[10]=[r("标签:",-1)])]),_:1}),e(y,{class:"password-field-value"},{default:l(()=>[(m(!0),$(W,null,pe(t(lt)(C),S=>(m(),E(c,{class:"card-label"},{default:l(()=>[r(O(S.name),1)]),_:2},1024))),256))]),_:2},1024),n[11]||(n[11]=s("div",{class:"clear"},null,-1))])):F("",!0),(m(!0),$(W,null,pe(C.customFields,S=>(m(),$(W,null,[S.key||S.val?(m(),$("li",ss,[e(y,{class:"password-field-name"},{default:l(()=>[r(O(S.key)+":",1)]),_:2},1024),e(y,{class:"password-field-value"},{default:l(()=>[r(O(S.val),1)]),_:2},1024),n[12]||(n[12]=s("div",{class:"clear"},null,-1))])):F("",!0)],64))),256))])]),_:2},1024)]))),256))],4)):(m(),E(w,{key:1}))]),_:1},512)}}}),is=X(rs,[["__scopeId","data-v-b3387e13"]]),ds={key:0,class:"password-card-table"},us={key:0,class:"username-div"},ps={class:"username-text"},fs=["onClick"],ms={key:0,class:"table-password-div"},cs={style:{width:"150px"}},gs={key:0,class:"table-password-span"},ys={key:1,class:"table-password-symbol"},vs=["onClick"],_s=["onClick"],ws={style:{display:"flex","justify-content":"space-evenly"}},bs=Y({__name:"PasswordTable",setup(H){const f=Z(),o=ne(),a=ae(),p=U(0),i=U(),x=I=>{I.password.length>40?(o.showPasswordRef.showPassword(I),p.value=0):p.value=I.id},v=I=>{ke.confirm("确认删除“"+I.title+"”吗？","删除密码",{confirmButtonClass:"confirm-delete-btn",confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{f.passwordManager.deletePassword(I.id).then(u=>{u.status||ie.error({title:"系统异常",message:u.message})})}).catch(()=>{})},k=I=>{I.favorite?I.favorite=!1:I.favorite=!0,I.favoriteTime=Date.now(),f.passwordManager.updatePassword(I)},g=(I,u)=>{let n=Ze(I.password),d=Ze(u.password);return n>d?a.setting.sortOrder===Ee.ASC?1:-1:n<d?a.setting.sortOrder===Ee.ASC?-1:1:0},_=I=>a.setting.passwordColor&&I.row.bgColor?{"background-color":De(I.row.bgColor,"0.1")}:{"background-color":"rgba(0,0,0,0)"},V=U(1),A=U(Math.ceil(innerHeight/62)+5),D=()=>f.visPasswordArray.slice(0,V.value*A.value),z=()=>{const I=i.value?.$el.querySelector(".el-scrollbar__wrap");I.scrollTop+I.clientHeight>=I.scrollHeight-200&&V.value*A.value<f.visPasswordArray.length&&V.value++},B=()=>{i.value.$el.querySelector(".el-scrollbar__wrap").addEventListener("scroll",()=>{z()})};return Ce(()=>{z(),B()}),(I,u)=>{const n=be,d=Ge,y=fe,P=oe,c=_e,T=He,N=vt;return t(f).visPasswordArray.length?(m(),$("div",ds,[e(T,{ref_key:"passwordTableRef",ref:i,"cell-style":{"background-color":"rgba(0,0,0,0)"},data:D(),"header-cell-style":{"background-color":"rgba(0,0,0,0)"},"header-row-style":{"background-color":"rgba(0,0,0,0)"},"row-style":_,height:"calc(100vh - 120px)",style:{"background-color":"rgba(0,0,0,0)"}},{default:l(()=>[t(a).setting.showStrength?(m(),E(d,{key:0,"sort-method":g,prop:"strength",sortable:"",width:"30px"},{default:l(w=>[e(n,{content:t(ot)(w.row.password),placement:"top"},{default:l(()=>[s("div",{style:te({"background-color":t(st)(w.row.password)}),class:"password-strength"},null,4)]),_:2},1032,["content"])]),_:1})):F("",!0),e(d,{label:"名称","min-width":"130px",prop:"title",sortable:""}),e(d,{label:"地址","min-width":"200px",prop:"address"},{default:l(w=>[s("div",null,[t(tt)(w.row.address)?(m(),E(y,{key:0,href:w.row.address,class:"address-link",target:"_blank",type:"primary"},{default:l(()=>[r(O(w.row.address),1)]),_:2},1032,["href"])):(m(),E(P,{key:1},{default:l(()=>[r(O(w.row.address),1)]),_:2},1024))])]),_:1}),e(d,{label:"用户名","min-width":"180px",prop:"username",sortable:""},{default:l(w=>[w.row.username?(m(),$("div",us,[s("div",ps,O(w.row.username),1),s("div",null,[s("span",{class:"iconfont icon-copy password-row-icon copy-username",onClick:b=>t(q)(w.row.username)},null,8,fs)])])):F("",!0)]),_:1}),e(d,{label:"密码",prop:"password",width:"220px"},{default:l(w=>[w.row.password?(m(),$("div",ms,[s("div",cs,[t(p)===w.row.id?(m(),$("span",gs,O(w.row.password),1)):F("",!0),t(p)!==w.row.id?(m(),$("span",ys,"*******")):F("",!0)]),s("div",null,[t(p)===w.row.id?(m(),$("span",{key:0,class:"iconfont icon-hide password-row-icon",onClick:u[0]||(u[0]=b=>p.value=0)})):F("",!0),t(p)!==w.row.id?(m(),$("span",{key:1,class:"iconfont icon-show password-row-icon",onClick:b=>x(w.row)},null,8,vs)):F("",!0),s("span",{class:"iconfont icon-copy password-row-icon",onClick:b=>t(q)(w.row.password)},null,8,_s)])])):F("",!0)]),_:1}),t(a).setting.showTimeForTable==="addTime"?(m(),E(d,{key:1,formatter:w=>t(ge)(w.addTime,"YYYY-MM-DD HH:mm"),label:"添加时间","min-width":"150px",prop:"addTime",sortable:""},null,8,["formatter"])):F("",!0),t(a).setting.showTimeForTable==="updateTime"?(m(),E(d,{key:2,formatter:w=>t(ge)(w.updateTime,"YYYY-MM-DD HH:mm"),label:"修改时间","min-width":"150px",prop:"updateTime",sortable:""},null,8,["formatter"])):F("",!0),t(a).setting.showLabelForTable?(m(),E(d,{key:3,label:"标签","min-width":"110px",prop:"labels"},{default:l(w=>[(m(!0),$(W,null,pe(t(lt)(w.row),b=>(m(),E(c,{class:"table-label"},{default:l(()=>[r(O(b.name),1)]),_:2},1024))),256))]),_:1})):F("",!0),e(d,{label:"备注","min-width":"130px",prop:"remark"}),e(d,{label:"操作","min-width":"145px",width:"150px"},{default:l(w=>[s("div",ws,[e(n,{content:"分享",placement:"top"},{default:l(()=>[e(y,{underline:!1,type:"success",onClick:b=>t(nt)(w.row)},{default:l(()=>[...u[1]||(u[1]=[s("span",{class:"iconfont icon-share table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(n,{content:"修改",placement:"top"},{default:l(()=>[e(y,{underline:!1,type:"primary",onClick:b=>t(o).passwordFormRef.editPasswordForm(w.row)},{default:l(()=>[...u[2]||(u[2]=[s("span",{class:"iconfont icon-edit table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024),e(n,{content:w.row.favorite?"取消收藏":"收藏",placement:"top"},{default:l(()=>[w.row.favorite?(m(),E(y,{key:0,underline:!1,type:"primary",onClick:b=>k(w.row)},{default:l(()=>[...u[3]||(u[3]=[s("span",{class:"iconfont icon-favorited table-opt-icon",style:{color:"#FF9700"}},null,-1)])]),_:1},8,["onClick"])):F("",!0),w.row.favorite?F("",!0):(m(),E(y,{key:1,underline:!1,type:"primary",onClick:b=>k(w.row)},{default:l(()=>[...u[4]||(u[4]=[s("span",{class:"iconfont icon-collect table-opt-icon",style:{color:"#FF9700"}},null,-1)])]),_:1},8,["onClick"]))]),_:2},1032,["content"]),e(n,{content:"删除",placement:"top"},{default:l(()=>[e(y,{underline:!1,type:"danger",onClick:b=>v(w.row)},{default:l(()=>[...u[5]||(u[5]=[s("span",{class:"iconfont icon-delete table-opt-icon"},null,-1)])]),_:1},8,["onClick"])]),_:2},1024)])]),_:1})]),_:1},8,["data"])])):(m(),E(N,{key:1}))}}}),xs=X(bs,[["__scopeId","data-v-2b6dba48"]]),ks=Y({__name:"FilteringTip",setup(H){const f=Z(),o=ne(),a=ae(),p=()=>f.filterCondition.favoriteId?!a.setting.showFavoriteCard||["xs","sm"].includes(G().value):!1,i=()=>f.filterCondition.labelArray.length===0?!1:!a.setting.showLabelCard||["xs","sm"].includes(G().value);return(x,v)=>{const k=$e;return m(),$(W,null,[p()?(m(),$("div",{key:0,style:te({"background-color":t(f).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[e(k,{center:"","close-text":"取消筛选","show-icon":"",title:"现在显示的是根据收藏筛选后的密码",type:"warning",onClose:v[0]||(v[0]=g=>t(f).filterCondition.favoriteId=0)})],4)):F("",!0),i()?(m(),$("div",{key:1,style:te({"background-color":t(f).isDark?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"})},[e(k,{center:"","close-text":"取消筛选","show-icon":"",title:"现在显示的是根据标签筛选后的密码",type:"warning",onClose:v[1]||(v[1]=g=>t(o).labelTreeRef.setCheckedNodes([]))})],4)):F("",!0)],64)}}}),Cs={class:"password-card-header"},Ss={class:"password-count"},Vs={style:{display:"flex"}},$s={key:0,class:"clear-history",style:{"text-align":"center","margin-left":"-20px","margin-right":"-20px"}},As={key:1},Fs={style:{display:"flex"}},Ps=Y({__name:"PasswordHeader",setup(H){const f=Z(),o=ne(),a=Xt(),p=ae(),i=U(""),x=U(!1),v=P=>{f.filterCondition.searchText=i.value},k=()=>{if(!i.value||!i.value.trim())return;let P=[],c=localStorage.getItem("searchHistory");c&&(P=JSON.parse(c));let T=P.findIndex(N=>N===i.value.trim());T>-1&&P.splice(T,1),P.unshift(i.value),P.length>100&&(P=P.splice(0,100)),localStorage.setItem("searchHistory",JSON.stringify(P))},g=(P,c)=>{if(!P){c([]);return}let T=localStorage.getItem("searchHistory");if(T){let N=JSON.parse(T);if(N&&N.length>0){let w=P?N.filter(C=>C.includes(P)):N;w=w.slice(0,5);let b=w.map((C=>({value:C})));b.push({value:i.value,type:"cleanHistory"}),c(b);return}}c([])},_=()=>{localStorage.removeItem("searchHistory")};let V=null;const A=()=>{if(V&&clearTimeout(V),i.value===""&&!x.value){v();return}V=setTimeout(function(){v()},200)},D=()=>{o.passwordFormRef.addPasswordForm()},z=()=>{o.verifyPasswordRef.verifyAndUnlock()},B=()=>{f.passwordManager.lock()},I=P=>{f.setTopicMode(P)},u=()=>{o.recycleBinRef.openRecycleBin()},n=()=>{a.push("/note")},d=()=>{location.href="https://home.password-xl.cn"},y=()=>{o.aiAddPasswordRef.show()};return(P,c)=>{const T=oe,N=de,w=mt,b=be,C=Xe,S=We,j=Je,h=Ye;return m(),$(W,null,[s("div",Cs,[s("div",null,[t(p).setting.showPasswordStatistics?(m(),E(T,{key:0,class:"hidden-sm-and-down password-title",style:{width:"300px"}},{default:l(()=>[t(f).visPasswordArray.length>0?(m(),$(W,{key:0},[c[13]||(c[13]=s("span",null," 共 ",-1)),s("span",Ss,O(t(f).visPasswordArray.length),1),c[14]||(c[14]=s("span",null," 个密码 ",-1))],64)):t(f).passwordArray.length?F("",!0):(m(),$(W,{key:1},[r(" 没有保存的密码 ")],64))]),_:1})):(m(),$("div",{key:1,class:"hidden-xs-only",style:{height:"32px"},onClick:d},[...c[15]||(c[15]=[s("img",{alt:"",src:qt,style:{height:"32px",cursor:"pointer"}},null,-1)])]))]),s("div",Vs,[e(w,{ref:L=>t(o).searchInputRef=L,modelValue:t(i),"onUpdate:modelValue":c[1]||(c[1]=L=>se(i)?i.value=L:null),debounce:10,disabled:t(f).serviceStatus!==t(K).UNLOCKED,"fetch-suggestions":g,class:"search-input",clearable:"",placeholder:"搜索..",onBlur:c[2]||(c[2]=L=>{x.value=!1,k()}),onChange:c[3]||(c[3]=L=>v()),onClear:c[4]||(c[4]=L=>v()),onCompositionend:c[5]||(c[5]=L=>x.value=!1),onCompositionstart:c[6]||(c[6]=L=>x.value=!0),onKeyup:[A,c[7]||(c[7]=Me(L=>v(),["enter","native"]))]},{default:l(({item:L})=>[L.type==="cleanHistory"?(m(),$("div",$s,[s("span",{class:"clear-history-text",onClick:_},"清除搜索历史")])):(m(),$("div",As,O(L.value),1))]),append:l(()=>[e(N,{class:"search-btn",onClick:c[0]||(c[0]=L=>v("searchBtn"))},{default:l(()=>[...c[16]||(c[16]=[s("span",{class:"iconfont icon-search search-input-icon"},null,-1)])]),_:1})]),_:1},8,["modelValue","disabled"])]),s("div",Fs,[t(p).setting.enableAiAdd?(m(),E(N,{key:0,ref:L=>t(o).aiCreatePasswordBtnRef=L,disabled:t(f).serviceStatus!==t(K).UNLOCKED,class:"ai-add-password-btn",plain:"",type:"primary",onClick:y},{default:l(()=>[...c[17]||(c[17]=[r(" Ai ",-1)])]),_:1},8,["disabled"])):F("",!0),e(N,{ref:L=>t(o).createPasswordBtnRef=L,disabled:t(f).serviceStatus!==t(K).UNLOCKED,class:"add-password-btn",plain:"",type:"primary",onClick:D},{default:l(()=>[...c[18]||(c[18]=[r(" 添加 ",-1)])]),_:1},8,["disabled"]),t(f).serviceStatus===t(K).UNLOCKED&&!["xs","sm"].includes(t(G)().value)&&t(p).setting.showNote?(m(),E(b,{key:1,content:"打开笔记"},{default:l(()=>[e(N,{class:"to-note-btn",plain:"",onClick:n},{default:l(()=>[s("span",{style:te([{color:t(f).isDark?"#ccc":"#666"},{"font-size":"125%",transform:"scaleX(1.1)"}]),class:"iconfont icon-note"},null,4)]),_:1})]),_:1})):F("",!0),t(f).serviceStatus===t(K).UNLOCKED?(m(),E(b,{key:2,content:"锁定"},{default:l(()=>[e(N,{class:"lock-btn",plain:"",onClick:B},{default:l(()=>[s("span",{style:te([{color:t(f).isDark?"#ccc":"#666"},{"font-size":"120%"}]),class:"iconfont icon-lock"},null,4)]),_:1})]),_:1})):F("",!0),t(f).serviceStatus===t(K).LOGGED?(m(),E(b,{key:3,content:"解锁"},{default:l(()=>[e(N,{class:"unlock-btn",plain:"",onClick:z},{default:l(()=>[s("span",{style:te([{color:t(f).isDark?"#ccc":"#666"},{"font-size":"120%"}]),class:"iconfont icon-unlock"},null,4)]),_:1})]),_:1})):F("",!0),e(j,{trigger:"click"},{dropdown:l(()=>[e(S,null,{default:l(()=>[["xs","sm"].includes(t(G)().value)||!t(p).setting.showLabelCard?(m(),E(C,{key:0,disabled:t(f).serviceStatus!==t(K).UNLOCKED,onClick:t(o).labelDrawer?.showLabelDrawer},{default:l(()=>[...c[20]||(c[20]=[s("span",{class:"iconfont icon-label menu-item",style:{color:"#409EFF"}},null,-1),r(" 标签 ",-1)])]),_:1},8,["disabled","onClick"])):F("",!0),["xs","sm"].includes(t(G)().value)||!t(p).setting.showFavoriteCard?(m(),E(C,{key:1,disabled:t(f).serviceStatus!==t(K).UNLOCKED,onClick:t(o).favoriteDrawer?.showFavoriteDrawer},{default:l(()=>[...c[21]||(c[21]=[s("span",{class:"iconfont icon-collect menu-item",style:{color:"#FF9700"}},null,-1),r(" 收藏 ",-1)])]),_:1},8,["disabled","onClick"])):F("",!0),t(p).setting.passwordDisplayMode===t(Q).TABLE?(m(),E(C,{key:2,divided:["xs","sm"].includes(t(G)().value)||!t(p).setting.showFavoriteCard||!t(p).setting.showLabelCard,onClick:c[8]||(c[8]=L=>t(p).setting.passwordDisplayMode=t(Q).CARD)},{default:l(()=>[...c[22]||(c[22]=[s("span",{class:"iconfont icon-card menu-item",style:{color:"#67c23a"}},null,-1),r(" 卡片视图 ",-1)])]),_:1},8,["divided"])):F("",!0),t(p).setting.passwordDisplayMode===t(Q).CARD?(m(),E(C,{key:3,onClick:c[9]||(c[9]=L=>t(p).setting.passwordDisplayMode=t(Q).TABLE)},{default:l(()=>[...c[23]||(c[23]=[s("span",{class:"iconfont icon-list menu-item",style:{color:"#409eff"}},null,-1),r(" 列表视图 ",-1)])]),_:1})):F("",!0),e(C,{disabled:t(f).serviceStatus!==t(K).UNLOCKED,divided:"",onClick:n},{default:l(()=>[...c[24]||(c[24]=[s("span",{class:"iconfont icon-note menu-item",style:{color:"#67C23A",transform:"scaleX(1.1)"}},null,-1),r(" 打开笔记 ",-1)])]),_:1},8,["disabled"]),t(f).isDark?F("",!0):(m(),E(C,{key:4,divided:["xs","sm"].includes(t(G)().value),onClick:c[10]||(c[10]=L=>I(t(ue).DARK))},{default:l(()=>[...c[25]||(c[25]=[s("span",{class:"iconfont icon-dark-mode menu-item",style:{color:"rgb(96 0 255)"}},null,-1),r(" 深色主题 ",-1)])]),_:1},8,["divided"])),t(f).isDark?(m(),E(C,{key:5,divided:["xs","sm"].includes(t(G)().value),onClick:c[11]||(c[11]=L=>I(t(ue).LIGHT))},{default:l(()=>[...c[26]||(c[26]=[s("span",{class:"iconfont icon-right-mode menu-item",style:{color:"rgb(186 255 0)"}},null,-1),r(" 明亮主题 ",-1)])]),_:1},8,["divided"])):F("",!0),e(C,{disabled:t(f).serviceStatus!==t(K).UNLOCKED,divided:"",onClick:t(o).settingRef?.openSetting},{default:l(()=>[...c[27]||(c[27]=[s("span",{class:"iconfont icon-setting menu-item",style:{color:"#409EFF"}},null,-1),r(" 系统设置 ",-1)])]),_:1},8,["disabled","onClick"]),e(C,{disabled:t(f).serviceStatus!==t(K).UNLOCKED,onClick:u},{default:l(()=>[...c[28]||(c[28]=[s("span",{class:"iconfont icon-recycle-bin menu-item",style:{color:"#E6A23C"}},null,-1),r(" 回收站 ",-1)])]),_:1},8,["disabled"]),e(C,{divided:"",onClick:c[12]||(c[12]=L=>t(f).logout())},{default:l(()=>[...c[29]||(c[29]=[s("span",{class:"iconfont icon-exit menu-item",style:{color:"#F56C6C"}},null,-1),r(" 退出登录 ",-1)])]),_:1})]),_:1})]),default:l(()=>[e(N,{style:te({color:t(f).isDark?"#ccc":"#666"}),class:"menu-btn",plain:""},{default:l(()=>[...c[19]||(c[19]=[s("span",{class:"iconfont icon-menu",style:{"font-size":"130%"}},null,-1)])]),_:1},8,["style"])]),_:1})])]),e(h,{class:"password-head-body-line"})],64)}}}),Rs=X(Ps,[["__scopeId","data-v-20d86cb1"]]),Es={id:"contextmenu-ul"},Ds=Y({__name:"Contextmenu",setup(H,{expose:f}){const o=Z(),a=ne(),p=ae(),i=U({show:!1,x:0,y:0}),x=A=>{A.preventDefault(),i.value.x=A.clientX,i.value.y=A.clientY,i.value.show=!0},v=()=>{i.value.show=!1},k=A=>{p.setting.passwordDisplayMode=A,o.passwordManager.syncSetting(),i.value.show=!1},g=()=>{if(o.serviceStatus===K.UNLOCKED){a.passwordFormRef.addPasswordForm(),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.passwordFormRef.addPasswordForm(),i.value.show=!1})},_=()=>{if(o.serviceStatus===K.UNLOCKED){a.recycleBinRef.openRecycleBin(),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.recycleBinRef.openRecycleBin(),i.value.show=!1})},V=()=>{if(o.serviceStatus===K.UNLOCKED){a.labelTreeDivRef.addLabel(null,"sub"),i.value.show=!1;return}a.verifyPasswordRef.verifyAndUnlock().then(()=>{a.labelTreeDivRef.addLabel(null,"sub"),i.value.show=!1})};return f({showContextmenu:x,hideContextmenu:v}),(A,D)=>{const z=we;return t(i).show?(m(),$("div",{key:0,style:te({top:t(i).y+"px",left:t(i).x+"px"}),class:"contextmenu-div"},[e(z,null,{default:l(()=>[s("ul",Es,[s("li",{onClick:g},[...D[4]||(D[4]=[s("span",{class:"iconfont icon-create",style:{color:"#409EFF"}},null,-1),r(" 创建密码 ",-1)])]),t(o).serviceStatus===t(K).LOGGED?(m(),$("li",{key:0,onClick:D[0]||(D[0]=B=>t(a).verifyPasswordRef.verifyAndUnlock())},[...D[5]||(D[5]=[s("span",{class:"iconfont icon-lock",style:{color:"#E6A23C"}},null,-1),r(" 解锁 ",-1)])])):F("",!0),t(o).serviceStatus===t(K).UNLOCKED?(m(),$("li",{key:1,onClick:D[1]||(D[1]=B=>t(o).passwordManager.lock())},[...D[6]||(D[6]=[s("span",{class:"iconfont icon-unlock",style:{color:"#E6A23C"}},null,-1),r(" 锁定 ",-1)])])):F("",!0),t(p).setting.passwordDisplayMode===t(Q).CARD?(m(),$("li",{key:2,onClick:D[2]||(D[2]=B=>k(t(Q).TABLE))},[...D[7]||(D[7]=[s("span",{class:"iconfont icon-list",style:{color:"#67C23A"}},null,-1),r(" 表格视图 ",-1)])])):F("",!0),t(p).setting.passwordDisplayMode===t(Q).TABLE?(m(),$("li",{key:3,onClick:D[3]||(D[3]=B=>k(t(Q).CARD))},[...D[8]||(D[8]=[s("span",{class:"iconfont icon-card",style:{color:"#67C23A"}},null,-1),r(" 卡片视图 ",-1)])])):F("",!0),s("li",{onClick:V},[...D[9]||(D[9]=[s("span",{class:"iconfont icon-label",style:{color:"#409EFF"}},null,-1),r(" 添加标签 ",-1)])]),s("li",{onClick:_},[...D[10]||(D[10]=[s("span",{class:"iconfont icon-recycle-bin",style:{color:"#F56C6C"}},null,-1),r(" 回收站 ",-1)])])])]),_:1})],4)):F("",!0)}}}),Ts=X(Ds,[["__scopeId","data-v-15310a4c"]]),Ms=Y({__name:"IndexPage",setup(H){const f=et(()=>he(()=>import("./ExportExcel-CJe5fQmN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),o=et(()=>he(()=>import("./ImportExcel-BR02dbIb.js"),__vite__mapDeps([11,3,2,4,5,6,7,10,1,8,9,12]),import.meta.url)),a=Z(),p=ne(),i=ae();return Ce(()=>{a.serviceStatus===K.LOGGED?(p.verifyPasswordRef.verifyAndUnlock(),i.setting.autoUnlock||localStorage.removeItem("mainPassword")):a.serviceStatus===K.WAIT_INIT&&p.setPasswordRef.setMainPassword()}),["xs","sm"].includes(G().value)&&i.setting.passwordDisplayMode===Q.TABLE&&(i.setting.passwordDisplayMode=Q.CARD),(x,v)=>{const k=Rs,g=ks,_=xs,V=is,A=we,D=Ve,z=zo,B=Io,I=Se,u=To,n=Eo,d=Co,y=_o,P=fo,c=ao,T=to,N=Zn,w=el,b=ht,C=Qt;return m(),$(W,null,[["xs","sm"].includes(t(G)().value)?(m(),$("div",{key:1,style:te([{"background-color":t(a).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"},{"backdrop-filter":"blur(50px)",height:"100vh"}])},[e(k),e(g),t(i).setting.passwordDisplayMode===t(Q).TABLE?(m(),E(_,{key:0})):F("",!0),t(i).setting.passwordDisplayMode===t(Q).CARD?(m(),E(V,{key:1})):F("",!0)],4)):(m(),$("div",{key:0,onClick:v[0]||(v[0]=S=>t(p).contextmenuRef&&t(p).contextmenuRef.hideContextmenu()),onContextmenu:v[1]||(v[1]=rt(S=>t(p).contextmenuRef.showContextmenu(S),["prevent"]))},[e(I,{class:"password-body-row"},{default:l(()=>[e(D,{lg:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:20},md:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:18},xl:{span:!t(i).setting.showLabelCard&&!t(i).setting.showFavoriteCard?24:21}},{default:l(()=>[e(A,{style:te({"background-color":t(a).isDark?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)"}),"body-class":"password-card-body",class:"password-card"},{default:l(()=>[e(k),e(g),t(i).setting.passwordDisplayMode===t(Q).TABLE?(m(),E(_,{key:0})):F("",!0),t(i).setting.passwordDisplayMode===t(Q).CARD?(m(),E(V,{key:1})):F("",!0)]),_:1},8,["style"])]),_:1},8,["lg","md","xl"]),t(i).setting.showLabelCard||t(i).setting.showFavoriteCard?(m(),E(D,{key:0,lg:{span:4},md:{span:6},xl:{span:3}},{default:l(()=>[e(z),e(B)]),_:1})):F("",!0)]),_:1})],32)),e(u,{ref:S=>t(p).cancelAccountRef=S},null,512),e(n,{ref:S=>t(p).passwordFormRef=S},null,512),e(d,{ref:S=>t(p).labelDrawer=S},null,512),e(y,{ref:S=>t(p).favoriteDrawer=S},null,512),e(P,{ref:S=>t(p).recycleBinRef=S},null,512),e(c,{ref:S=>t(p).backupAndRecoveryRef=S},null,512),e(T,{ref:S=>t(p).setPasswordRef=S},null,512),e(N,{ref:S=>t(p).settingRef=S},null,512),e(w,{ref:S=>t(p).tourRef=S},null,512),e(b,{ref:S=>t(p).showPasswordRef=S},null,512),t(i).visSetting?(m(),$(W,{key:2},[e(t(f),{ref:S=>t(p).exportExcelRef=S},null,512),e(t(o),{ref:S=>t(p).importExcelRef=S},null,512)],64)):F("",!0),e(Ts,{ref:S=>t(p).contextmenuRef=S},null,512),e(C)],64)}}}),Gs=X(Ms,[["__scopeId","data-v-43ce5cfc"]]);export{Gs as default};
